(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function h0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function g2(){if(__)return dl;__=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return dl.Fragment=e,dl.jsx=n,dl.jsxs=n,dl}var v_;function y2(){return v_||(v_=1,vd.exports=g2()),vd.exports}var E=y2(),Ed={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function _2(){if(E_)return Ae;E_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function I(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function L(D,te,de){this.props=D,this.context=te,this.refs=H,this.updater=de||V}L.prototype.isReactComponent={},L.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Y(){}Y.prototype=L.prototype;function ne(D,te,de){this.props=D,this.context=te,this.refs=H,this.updater=de||V}var ee=ne.prototype=new Y;ee.constructor=ne,B(ee,L.prototype),ee.isPureReactComponent=!0;var ge=Array.isArray,he={H:null,A:null,T:null,S:null},Ee=Object.prototype.hasOwnProperty;function O(D,te,de,ae,oe,Ce){return de=Ce.ref,{$$typeof:r,type:D,key:te,ref:de!==void 0?de:null,props:Ce}}function C(D,te){return O(D.type,te,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function x(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(de){return te[de]})}var k=/\/+/g;function U(D,te){return typeof D=="object"&&D!==null&&D.key!=null?x(""+D.key):te.toString(36)}function N(){}function ut(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(N,N):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function it(D,te,de,ae,oe){var Ce=typeof D;(Ce==="undefined"||Ce==="boolean")&&(D=null);var we=!1;if(D===null)we=!0;else switch(Ce){case"bigint":case"string":case"number":we=!0;break;case"object":switch(D.$$typeof){case r:case e:we=!0;break;case T:return we=D._init,it(we(D._payload),te,de,ae,oe)}}if(we)return oe=oe(D),we=ae===""?"."+U(D,0):ae,ge(oe)?(de="",we!=null&&(de=we.replace(k,"$&/")+"/"),it(oe,te,de,"",function(rt){return rt})):oe!=null&&(w(oe)&&(oe=C(oe,de+(oe.key==null||D&&D.key===oe.key?"":(""+oe.key).replace(k,"$&/")+"/")+we)),te.push(oe)),1;we=0;var mt=ae===""?".":ae+":";if(ge(D))for(var ze=0;ze<D.length;ze++)ae=D[ze],Ce=mt+U(ae,ze),we+=it(ae,te,de,Ce,oe);else if(ze=I(D),typeof ze=="function")for(D=ze.call(D),ze=0;!(ae=D.next()).done;)ae=ae.value,Ce=mt+U(ae,ze++),we+=it(ae,te,de,Ce,oe);else if(Ce==="object"){if(typeof D.then=="function")return it(ut(D),te,de,ae,oe);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(D,te,de){if(D==null)return D;var ae=[],oe=0;return it(D,ae,"","",function(Ce){return te.call(de,Ce,oe++)}),ae}function se(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(de){(D._status===0||D._status===-1)&&(D._status=1,D._result=de)},function(de){(D._status===0||D._status===-1)&&(D._status=2,D._result=de)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ue(){}return Ae.Children={map:X,forEach:function(D,te,de){X(D,function(){te.apply(this,arguments)},de)},count:function(D){var te=0;return X(D,function(){te++}),te},toArray:function(D){return X(D,function(te){return te})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ae.Component=L,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=ne,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ae.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ae.cache=function(D){return function(){return D.apply(null,arguments)}},Ae.cloneElement=function(D,te,de){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ae=B({},D.props),oe=D.key,Ce=void 0;if(te!=null)for(we in te.ref!==void 0&&(Ce=void 0),te.key!==void 0&&(oe=""+te.key),te)!Ee.call(te,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&te.ref===void 0||(ae[we]=te[we]);var we=arguments.length-2;if(we===1)ae.children=de;else if(1<we){for(var mt=Array(we),ze=0;ze<we;ze++)mt[ze]=arguments[ze+2];ae.children=mt}return O(D.type,oe,void 0,void 0,Ce,ae)},Ae.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ae.createElement=function(D,te,de){var ae,oe={},Ce=null;if(te!=null)for(ae in te.key!==void 0&&(Ce=""+te.key),te)Ee.call(te,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(oe[ae]=te[ae]);var we=arguments.length-2;if(we===1)oe.children=de;else if(1<we){for(var mt=Array(we),ze=0;ze<we;ze++)mt[ze]=arguments[ze+2];oe.children=mt}if(D&&D.defaultProps)for(ae in we=D.defaultProps,we)oe[ae]===void 0&&(oe[ae]=we[ae]);return O(D,Ce,void 0,void 0,null,oe)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:m,render:D}},Ae.isValidElement=w,Ae.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:se}},Ae.memo=function(D,te){return{$$typeof:y,type:D,compare:te===void 0?null:te}},Ae.startTransition=function(D){var te=he.T,de={};he.T=de;try{var ae=D(),oe=he.S;oe!==null&&oe(de,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(Ue,ue)}catch(Ce){ue(Ce)}finally{he.T=te}},Ae.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ae.use=function(D){return he.H.use(D)},Ae.useActionState=function(D,te,de){return he.H.useActionState(D,te,de)},Ae.useCallback=function(D,te){return he.H.useCallback(D,te)},Ae.useContext=function(D){return he.H.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D,te){return he.H.useDeferredValue(D,te)},Ae.useEffect=function(D,te){return he.H.useEffect(D,te)},Ae.useId=function(){return he.H.useId()},Ae.useImperativeHandle=function(D,te,de){return he.H.useImperativeHandle(D,te,de)},Ae.useInsertionEffect=function(D,te){return he.H.useInsertionEffect(D,te)},Ae.useLayoutEffect=function(D,te){return he.H.useLayoutEffect(D,te)},Ae.useMemo=function(D,te){return he.H.useMemo(D,te)},Ae.useOptimistic=function(D,te){return he.H.useOptimistic(D,te)},Ae.useReducer=function(D,te,de){return he.H.useReducer(D,te,de)},Ae.useRef=function(D){return he.H.useRef(D)},Ae.useState=function(D){return he.H.useState(D)},Ae.useSyncExternalStore=function(D,te,de){return he.H.useSyncExternalStore(D,te,de)},Ae.useTransition=function(){return he.H.useTransition()},Ae.version="19.0.0",Ae}var T_;function Am(){return T_||(T_=1,Ed.exports=_2()),Ed.exports}var F=Am();const v2=h0(F);var Td={exports:{}},ml={},Sd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function E2(){return S_||(S_=1,function(r){function e(X,se){var ue=X.length;X.push(se);e:for(;0<ue;){var Ue=ue-1>>>1,D=X[Ue];if(0<o(D,se))X[Ue]=se,X[ue]=D,ue=Ue;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var se=X[0],ue=X.pop();if(ue!==se){X[0]=ue;e:for(var Ue=0,D=X.length,te=D>>>1;Ue<te;){var de=2*(Ue+1)-1,ae=X[de],oe=de+1,Ce=X[oe];if(0>o(ae,ue))oe<D&&0>o(Ce,ae)?(X[Ue]=Ce,X[oe]=ue,Ue=oe):(X[Ue]=ae,X[de]=ue,Ue=de);else if(oe<D&&0>o(Ce,ue))X[Ue]=Ce,X[oe]=ue,Ue=oe;else break e}}return se}function o(X,se){var ue=X.sortIndex-se.sortIndex;return ue!==0?ue:X.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,A=null,I=3,V=!1,B=!1,H=!1,L=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ee(X){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=X)s(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function ge(X){if(H=!1,ee(X),!B)if(n(p)!==null)B=!0,ut();else{var se=n(y);se!==null&&it(ge,se.startTime-X)}}var he=!1,Ee=-1,O=5,C=-1;function w(){return!(r.unstable_now()-C<O)}function x(){if(he){var X=r.unstable_now();C=X;var se=!0;try{e:{B=!1,H&&(H=!1,Y(Ee),Ee=-1),V=!0;var ue=I;try{t:{for(ee(X),A=n(p);A!==null&&!(A.expirationTime>X&&w());){var Ue=A.callback;if(typeof Ue=="function"){A.callback=null,I=A.priorityLevel;var D=Ue(A.expirationTime<=X);if(X=r.unstable_now(),typeof D=="function"){A.callback=D,ee(X),se=!0;break t}A===n(p)&&s(p),ee(X)}else s(p);A=n(p)}if(A!==null)se=!0;else{var te=n(y);te!==null&&it(ge,te.startTime-X),se=!1}}break e}finally{A=null,I=ue,V=!1}se=void 0}}finally{se?k():he=!1}}}var k;if(typeof ne=="function")k=function(){ne(x)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,N=U.port2;U.port1.onmessage=x,k=function(){N.postMessage(null)}}else k=function(){L(x,0)};function ut(){he||(he=!0,k())}function it(X,se){Ee=L(function(){X(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_continueExecution=function(){B||V||(B=!0,ut())},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(X){switch(I){case 1:case 2:case 3:var se=3;break;default:se=I}var ue=I;I=se;try{return X()}finally{I=ue}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(X,se){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ue=I;I=X;try{return se()}finally{I=ue}},r.unstable_scheduleCallback=function(X,se,ue){var Ue=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ue+ue:Ue):ue=Ue,X){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ue+D,X={id:T++,callback:se,priorityLevel:X,startTime:ue,expirationTime:D,sortIndex:-1},ue>Ue?(X.sortIndex=ue,e(y,X),n(p)===null&&X===n(y)&&(H?(Y(Ee),Ee=-1):H=!0,it(ge,ue-Ue))):(X.sortIndex=D,e(p,X),B||V||(B=!0,ut())),X},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(X){var se=I;return function(){var ue=I;I=se;try{return X.apply(this,arguments)}finally{I=ue}}}}(bd)),bd}var b_;function T2(){return b_||(b_=1,Sd.exports=E2()),Sd.exports}var wd={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function S2(){if(w_)return Gt;w_=1;var r=Am();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Gt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Gt.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Gt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Gt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Gt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:V}):T==="script"&&s.d.X(p,{crossOrigin:A,integrity:I,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Gt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Gt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Gt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Gt.requestFormReset=function(p){s.d.r(p)},Gt.unstable_batchedUpdates=function(p,y){return p(y)},Gt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Gt.version="19.0.0",Gt}var A_;function b2(){if(A_)return wd.exports;A_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),wd.exports=S2(),wd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function w2(){if(C_)return ml;C_=1;var r=T2(),e=Am(),n=b2();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),ge=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function Ee(t){return t===null||typeof t!="object"?null:(t=he&&t[he]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case H:return"Suspense";case L:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Provider";case I:return(t._context.displayName||"Context")+".Consumer";case B:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,k,U;function N(t){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",U=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+U}var ut=!1;function it(t,i){if(!t||ut)return"";ut=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var G=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){G=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){G=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var R=v.split(`
`),P=S.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var $=`
`+R[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ut=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function X(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=it(t.type,!1),t;case 11:return t=it(t.type.render,!1),t;case 1:return t=it(t.type,!0),t;default:return""}}function se(t){try{var i="";do i+=X(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ue(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ue(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function D(t){if(ue(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=ue(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return D(h),t;if(d===l)return D(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function de(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=de(t),i!==null)return i;t=t.sibling}return null}var ae=Array.isArray,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce={pending:!1,data:null,method:null,action:null},we=[],mt=-1;function ze(t){return{current:t}}function rt(t){0>mt||(t.current=we[mt],we[mt]=null,mt--)}function Ge(t,i){mt++,we[mt]=t.current,t.current=i}var Xt=ze(null),yi=ze(null),yn=ze(null),Ji=ze(null);function Wi(t,i){switch(Ge(yn,i),Ge(yi,t),Ge(Xt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Qy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Qy(t),i=$y(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}rt(Xt),Ge(Xt,i)}function _i(){rt(Xt),rt(yi),rt(yn)}function oo(t){t.memoizedState!==null&&Ge(Ji,t);var i=Xt.current,a=$y(i,t.type);i!==a&&(Ge(yi,t),Ge(Xt,a))}function qs(t){yi.current===t&&(rt(Xt),rt(yi)),Ji.current===t&&(rt(Ji),ll._currentValue=Ce)}var Fs=Object.prototype.hasOwnProperty,is=r.unstable_scheduleCallback,Gs=r.unstable_cancelCallback,Eh=r.unstable_shouldYield,lo=r.unstable_requestPaint,rn=r.unstable_now,Zl=r.unstable_getCurrentPriorityLevel,vt=r.unstable_ImmediatePriority,xt=r.unstable_UserBlockingPriority,vi=r.unstable_NormalPriority,Jl=r.unstable_LowPriority,uo=r.unstable_IdlePriority,Th=r.log,rs=r.unstable_setDisableYieldValue,er=null,qt=null;function co(t){if(qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(er,t,void 0,(t.current.flags&128)===128)}catch{}}function Kn(t){if(typeof Th=="function"&&rs(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(er,t)}catch{}}var Zt=Math.clz32?Math.clz32:eu,ho=Math.log,Wl=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(ho(t)/Wl|0)|0}var Qn=128,tr=4194304;function kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _n(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~h,a!==0?l=kn(a):(d&=S,d!==0?l=kn(d):t||(v=S&~v,v!==0&&(l=kn(v))))):(S=a&~h,S!==0?l=kn(S):d!==0?l=kn(d):t||(v=a&~v,v!==0&&(l=kn(v)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function nr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ks(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fo(){var t=Qn;return Qn<<=1,!(Qn&4194176)&&(Qn=128),t}function ir(){var t=tr;return tr<<=1,!(tr&62914560)&&(tr=4194304),t}function Qs(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ct(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Zt(a),W=1<<$;S[$]=0,R[$]=-1;var G=P[$];if(G!==null)for(P[$]=null,$=0;$<G.length;$++){var Q=G[$];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&rr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function rr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Zt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function sr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function nu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function iu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:f_(t.type))}function ar(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var $n=Math.random().toString(36).slice(2),Nt="__reactFiber$"+$n,Et="__reactProps$"+$n,Ei="__reactContainer$"+$n,ss="__reactEvents$"+$n,$s="__reactListeners$"+$n,Yn="__reactHandles$"+$n,mo="__reactResources$"+$n,or="__reactMarker$"+$n;function as(t){delete t[Nt],delete t[Et],delete t[ss],delete t[$s],delete t[Yn]}function Vn(t){var i=t[Nt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ei]||a[Nt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Zy(t);t!==null;){if(a=t[Nt])return a;t=Zy(t)}return i}t=a,a=t.parentNode}return null}function Ti(t){if(t=t[Nt]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function lr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function ur(t){var i=t[mo];return i||(i=t[mo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function We(t){t[or]=!0}var po=new Set,Ys={};function un(t,i){sn(t,i),sn(t+"Capture",i)}function sn(t,i){for(Ys[t]=i,t=0;t<i.length;t++)po.add(i[t])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),go={},yo={};function ru(t){return Fs.call(yo,t)?!0:Fs.call(go,t)?!1:Sh.test(t)?yo[t]=!0:(go[t]=!0,!1)}function cr(t,i,a){if(ru(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function hr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function vn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function su(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bh(t){var i=su(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function os(t){t._valueTracker||(t._valueTracker=bh(t))}function _o(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=su(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Si=/[\n"\\]/g;function st(t){return t.replace(Si,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fr(t,i,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Zs(t,v,Jt(i)):a!=null?Zs(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Jt(S):t.removeAttribute("name")}function ls(t,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Zs(t,i,a){i==="number"&&Xs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Be(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function us(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function dr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var wh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||wh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function au(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&vo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&vo(t,d,i[d])}function Eo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ah=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(t){return Ch.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Tn=null;function Js(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,wi=null;function Ai(t){var i=Ti(t);if(i&&(t=i.stateNode)){var a=t[Et]||null;e:switch(t=i.stateNode,i.type){case"input":if(fr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+st(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));fr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&_o(l)}break e;case"textarea":us(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Be(t,!!a.multiple,i,!1)}}}var To=!1;function ou(t,i,a){if(To)return t(i,a);To=!0;try{var l=t(i);return l}finally{if(To=!1,(bi!==null||wi!==null)&&(Ju(),bi&&(i=bi,t=wi,wi=bi=null,Ai(i),t)))for(i=0;i<t.length;i++)Ai(t[i])}}function cs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Sn=!1;if(cn)try{var hs={};Object.defineProperty(hs,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",hs,hs),window.removeEventListener("test",hs,hs)}catch{Sn=!1}var Zn=null,mr=null,Ci=null;function So(){if(Ci)return Ci;var t,i=mr,a=i.length,l,h="value"in Zn?Zn.value:Zn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ci=h.slice(t,1<l?1-l:void 0)}function Jn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function bo(){return!1}function Dt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:bo,this.isPropagationStopped=bo,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ws=Dt(Fe),fs=x({},Fe,{view:0,detail:0}),lu=Dt(fs),ea,ta,ei,ds=x({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(ea=t.screenX-ei.screenX,ta=t.screenY-ei.screenY):ta=ea=0,ei=t),ea)},movementY:function(t){return"movementY"in t?t.movementY:ta}}),bn=Dt(ds),uu=x({},ds,{dataTransfer:0}),Rh=Dt(uu),ms=x({},fs,{relatedTarget:0}),na=Dt(ms),wo=x({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ia=Dt(wo),cu=x({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ra=Dt(cu),Ih=x({},Fe,{data:0}),Ao=Dt(Ih),ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Co(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=fu[t])?!!i[t]:!1}function gs(){return Co}var du=x({},fs,{key:function(t){if(t.key){var i=ps[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(t){return t.type==="keypress"?Jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sa=Dt(du),mu=x({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=Dt(mu),Ri=x({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),pu=Dt(Ri),gu=x({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),yu=Dt(gu),_u=x({},ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aa=Dt(_u),Wt=x({},Fe,{newState:0,oldState:0}),vu=Dt(Wt),Eu=[9,13,27,32],ti=cn&&"CompositionEvent"in window,c=null;cn&&"documentMode"in document&&(c=document.documentMode);var g=cn&&"TextEvent"in window&&!c,_=cn&&(!ti||c&&8<c&&11>=c),b=" ",z=!1;function K(t,i){switch(t){case"keyup":return Eu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Me=!1;function Tt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(z=!0,b);case"textInput":return t=i.data,t===b&&z?null:t;default:return null}}function ke(t,i){if(Me)return t==="compositionend"||!ti&&K(t,i)?(t=So(),Ci=mr=Zn=null,Me=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function St(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Ii(t,i,a,l){bi?wi?wi.push(l):wi=[l]:bi=l,i=ic(i,"onChange"),0<i.length&&(a=new Ws("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,ni=null;function Io(t){Hy(t,0)}function Tu(t){var i=lr(t);if(_o(i))return t}function yp(t,i){if(t==="change")return i}var _p=!1;if(cn){var xh;if(cn){var Nh="oninput"in document;if(!Nh){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Nh=typeof vp.oninput=="function"}xh=Nh}else xh=!1;_p=xh&&(!document.documentMode||9<document.documentMode)}function Ep(){Pt&&(Pt.detachEvent("onpropertychange",Tp),ni=Pt=null)}function Tp(t){if(t.propertyName==="value"&&Tu(ni)){var i=[];Ii(i,ni,t,Js(t)),ou(Io,i)}}function KE(t,i,a){t==="focusin"?(Ep(),Pt=i,ni=a,Pt.attachEvent("onpropertychange",Tp)):t==="focusout"&&Ep()}function QE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tu(ni)}function $E(t,i){if(t==="click")return Tu(i)}function YE(t,i){if(t==="input"||t==="change")return Tu(i)}function XE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var hn=typeof Object.is=="function"?Object.is:XE;function xo(t,i){if(hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Fs.call(i,h)||!hn(t[h],i[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bp(t,i){var a=Sp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sp(a)}}function wp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?wp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Xs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Xs(t.document)}return i}function Dh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function ZE(t,i){var a=Ap(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&wp(i.ownerDocument.documentElement,i)){if(l!==null&&Dh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=bp(i,d);var v=bp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var JE=cn&&"documentMode"in document&&11>=document.documentMode,oa=null,Oh=null,No=null,Mh=!1;function Cp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mh||oa==null||oa!==Xs(l)||(l=oa,"selectionStart"in l&&Dh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),No&&xo(No,l)||(No=l,l=ic(Oh,"onSelect"),0<l.length&&(i=new Ws("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=oa)))}function ys(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var la={animationend:ys("Animation","AnimationEnd"),animationiteration:ys("Animation","AnimationIteration"),animationstart:ys("Animation","AnimationStart"),transitionrun:ys("Transition","TransitionRun"),transitionstart:ys("Transition","TransitionStart"),transitioncancel:ys("Transition","TransitionCancel"),transitionend:ys("Transition","TransitionEnd")},kh={},Rp={};cn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function _s(t){if(kh[t])return kh[t];if(!la[t])return t;var i=la[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rp)return kh[t]=i[a];return t}var Ip=_s("animationend"),xp=_s("animationiteration"),Np=_s("animationstart"),WE=_s("transitionrun"),eT=_s("transitionstart"),tT=_s("transitioncancel"),Dp=_s("transitionend"),Op=new Map,Mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ln(t,i){Op.set(t,i),un(i,[t])}var wn=[],ua=0,Vh=0;function Su(){for(var t=ua,i=Vh=ua=0;i<t;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&kp(a,h,d)}}function bu(t,i,a,l){wn[ua++]=t,wn[ua++]=i,wn[ua++]=a,wn[ua++]=l,Vh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lh(t,i,a,l){return bu(t,i,a,l),wu(t)}function pr(t,i){return bu(t,null,null,i),wu(t)}function kp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-Zt(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function wu(t){if(50<tl)throw tl=0,qf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ca={},Vp=new WeakMap;function An(t,i){if(typeof t=="object"&&t!==null){var a=Vp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:se(i)},Vp.set(t,i),i)}return{value:t,source:i,stack:se(i)}}var ha=[],fa=0,Au=null,Cu=0,Cn=[],Rn=0,vs=null,xi=1,Ni="";function Es(t,i){ha[fa++]=Cu,ha[fa++]=Au,Au=t,Cu=i}function Lp(t,i,a){Cn[Rn++]=xi,Cn[Rn++]=Ni,Cn[Rn++]=vs,vs=t;var l=xi;t=Ni;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,xi=1<<32-Zt(i)+h|a<<h|l,Ni=d+t}else xi=1<<d|a<<h|l,Ni=t}function Ph(t){t.return!==null&&(Es(t,1),Lp(t,1,0))}function jh(t){for(;t===Au;)Au=ha[--fa],ha[fa]=null,Cu=ha[--fa],ha[fa]=null;for(;t===vs;)vs=Cn[--Rn],Cn[Rn]=null,Ni=Cn[--Rn],Cn[Rn]=null,xi=Cn[--Rn],Cn[Rn]=null}var en=null,jt=null,He=!1,Pn=null,ii=!1,Uh=Error(s(519));function Ts(t){var i=Error(s(418,""));throw Mo(An(i,t)),Uh}function Pp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[Et]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<il.length;a++)De(il[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),ls(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),os(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),dr(i,l.value,l.defaultValue,l.children),os(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ky(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=rc),i=!0):i=!1,i||Ts(t)}function jp(t){for(en=t.return;en;)switch(en.tag){case 3:case 27:ii=!0;return;case 5:case 13:ii=!1;return;default:en=en.return}}function Do(t){if(t!==en)return!1;if(!He)return jp(t),He=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||ad(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&jt&&Ts(t),jp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){jt=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}jt=null}}else jt=en?Un(t.stateNode.nextSibling):null;return!0}function Oo(){jt=en=null,He=!1}function Mo(t){Pn===null?Pn=[t]:Pn.push(t)}var ko=Error(s(460)),Up=Error(s(474)),zh={then:function(){}};function zp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ru(){}function Bp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Ru,Ru),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ko?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Ru,Ru);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ko?Error(s(483)):t}throw Vo=i,ko}}var Vo=null;function Hp(){if(Vo===null)throw Error(s(459));var t=Vo;return Vo=null,t}var da=null,Lo=0;function Iu(t){var i=Lo;return Lo+=1,da===null&&(da=[]),Bp(da,t,i)}function Po(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function xu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function qp(t){var i=t._init;return i(t._payload)}function Fp(t){function i(j,M){if(t){var q=j.deletions;q===null?(j.deletions=[M],j.flags|=16):q.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Rr(j,M),j.index=0,j.sibling=null,j}function d(j,M,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<M?(j.flags|=33554434,M):q):(j.flags|=33554434,M)):(j.flags|=1048576,M)}function v(j){return t&&j.alternate===null&&(j.flags|=33554434),j}function S(j,M,q,Z){return M===null||M.tag!==6?(M=Vf(q,j.mode,Z),M.return=j,M):(M=h(M,q),M.return=j,M)}function R(j,M,q,Z){var ce=q.type;return ce===p?$(j,M,q.props.children,Z,q.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ne&&qp(ce)===M.type)?(M=h(M,q.props),Po(M,q),M.return=j,M):(M=Qu(q.type,q.key,q.props,null,j.mode,Z),Po(M,q),M.return=j,M)}function P(j,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Lf(q,j.mode,Z),M.return=j,M):(M=h(M,q.children||[]),M.return=j,M)}function $(j,M,q,Z,ce){return M===null||M.tag!==7?(M=Ds(q,j.mode,Z,ce),M.return=j,M):(M=h(M,q),M.return=j,M)}function W(j,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Vf(""+M,j.mode,q),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return q=Qu(M.type,M.key,M.props,null,j.mode,q),Po(q,M),q.return=j,q;case m:return M=Lf(M,j.mode,q),M.return=j,M;case ne:var Z=M._init;return M=Z(M._payload),W(j,M,q)}if(ae(M)||Ee(M))return M=Ds(M,j.mode,q,null),M.return=j,M;if(typeof M.then=="function")return W(j,Iu(M),q);if(M.$$typeof===V)return W(j,Fu(j,M),q);xu(j,M)}return null}function G(j,M,q,Z){var ce=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ce!==null?null:S(j,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===ce?R(j,M,q,Z):null;case m:return q.key===ce?P(j,M,q,Z):null;case ne:return ce=q._init,q=ce(q._payload),G(j,M,q,Z)}if(ae(q)||Ee(q))return ce!==null?null:$(j,M,q,Z,null);if(typeof q.then=="function")return G(j,M,Iu(q),Z);if(q.$$typeof===V)return G(j,M,Fu(j,q),Z);xu(j,q)}return null}function Q(j,M,q,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,S(M,j,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case f:return j=j.get(Z.key===null?q:Z.key)||null,R(M,j,Z,ce);case m:return j=j.get(Z.key===null?q:Z.key)||null,P(M,j,Z,ce);case ne:var Ie=Z._init;return Z=Ie(Z._payload),Q(j,M,q,Z,ce)}if(ae(Z)||Ee(Z))return j=j.get(q)||null,$(M,j,Z,ce,null);if(typeof Z.then=="function")return Q(j,M,q,Iu(Z),ce);if(Z.$$typeof===V)return Q(j,M,q,Fu(M,Z),ce);xu(M,Z)}return null}function fe(j,M,q,Z){for(var ce=null,Ie=null,me=M,_e=M=0,Vt=null;me!==null&&_e<q.length;_e++){me.index>_e?(Vt=me,me=null):Vt=me.sibling;var qe=G(j,me,q[_e],Z);if(qe===null){me===null&&(me=Vt);break}t&&me&&qe.alternate===null&&i(j,me),M=d(qe,M,_e),Ie===null?ce=qe:Ie.sibling=qe,Ie=qe,me=Vt}if(_e===q.length)return a(j,me),He&&Es(j,_e),ce;if(me===null){for(;_e<q.length;_e++)me=W(j,q[_e],Z),me!==null&&(M=d(me,M,_e),Ie===null?ce=me:Ie.sibling=me,Ie=me);return He&&Es(j,_e),ce}for(me=l(me);_e<q.length;_e++)Vt=Q(me,j,_e,q[_e],Z),Vt!==null&&(t&&Vt.alternate!==null&&me.delete(Vt.key===null?_e:Vt.key),M=d(Vt,M,_e),Ie===null?ce=Vt:Ie.sibling=Vt,Ie=Vt);return t&&me.forEach(function(kr){return i(j,kr)}),He&&Es(j,_e),ce}function Te(j,M,q,Z){if(q==null)throw Error(s(151));for(var ce=null,Ie=null,me=M,_e=M=0,Vt=null,qe=q.next();me!==null&&!qe.done;_e++,qe=q.next()){me.index>_e?(Vt=me,me=null):Vt=me.sibling;var kr=G(j,me,qe.value,Z);if(kr===null){me===null&&(me=Vt);break}t&&me&&kr.alternate===null&&i(j,me),M=d(kr,M,_e),Ie===null?ce=kr:Ie.sibling=kr,Ie=kr,me=Vt}if(qe.done)return a(j,me),He&&Es(j,_e),ce;if(me===null){for(;!qe.done;_e++,qe=q.next())qe=W(j,qe.value,Z),qe!==null&&(M=d(qe,M,_e),Ie===null?ce=qe:Ie.sibling=qe,Ie=qe);return He&&Es(j,_e),ce}for(me=l(me);!qe.done;_e++,qe=q.next())qe=Q(me,j,_e,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&me.delete(qe.key===null?_e:qe.key),M=d(qe,M,_e),Ie===null?ce=qe:Ie.sibling=qe,Ie=qe);return t&&me.forEach(function(p2){return i(j,p2)}),He&&Es(j,_e),ce}function lt(j,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===p&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:e:{for(var ce=q.key;M!==null;){if(M.key===ce){if(ce=q.type,ce===p){if(M.tag===7){a(j,M.sibling),Z=h(M,q.props.children),Z.return=j,j=Z;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ne&&qp(ce)===M.type){a(j,M.sibling),Z=h(M,q.props),Po(Z,q),Z.return=j,j=Z;break e}a(j,M);break}else i(j,M);M=M.sibling}q.type===p?(Z=Ds(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=Qu(q.type,q.key,q.props,null,j.mode,Z),Po(Z,q),Z.return=j,j=Z)}return v(j);case m:e:{for(ce=q.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(j,M.sibling),Z=h(M,q.children||[]),Z.return=j,j=Z;break e}else{a(j,M);break}else i(j,M);M=M.sibling}Z=Lf(q,j.mode,Z),Z.return=j,j=Z}return v(j);case ne:return ce=q._init,q=ce(q._payload),lt(j,M,q,Z)}if(ae(q))return fe(j,M,q,Z);if(Ee(q)){if(ce=Ee(q),typeof ce!="function")throw Error(s(150));return q=ce.call(q),Te(j,M,q,Z)}if(typeof q.then=="function")return lt(j,M,Iu(q),Z);if(q.$$typeof===V)return lt(j,M,Fu(j,q),Z);xu(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(j,M.sibling),Z=h(M,q),Z.return=j,j=Z):(a(j,M),Z=Vf(q,j.mode,Z),Z.return=j,j=Z),v(j)):a(j,M)}return function(j,M,q,Z){try{Lo=0;var ce=lt(j,M,q,Z);return da=null,ce}catch(me){if(me===ko)throw me;var Ie=Dn(29,me,null,j.mode);return Ie.lanes=Z,Ie.return=j,Ie}finally{}}}var Ss=Fp(!0),Gp=Fp(!1),ma=ze(null),Nu=ze(0);function Kp(t,i){t=Bi,Ge(Nu,t),Ge(ma,i),Bi=t|i.baseLanes}function Bh(){Ge(Nu,Bi),Ge(ma,ma.current)}function Hh(){Bi=Nu.current,rt(ma),rt(Nu)}var In=ze(null),ri=null;function gr(t){var i=t.alternate;Ge(bt,bt.current&1),Ge(In,t),ri===null&&(i===null||ma.current!==null||i.memoizedState!==null)&&(ri=t)}function Qp(t){if(t.tag===22){if(Ge(bt,bt.current),Ge(In,t),ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ri=t)}}else yr()}function yr(){Ge(bt,bt.current),Ge(In,In.current)}function Di(t){rt(In),ri===t&&(ri=null),rt(bt)}var bt=ze(0);function Du(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var nT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},iT=r.unstable_scheduleCallback,rT=r.unstable_NormalPriority,wt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qh(){return{controller:new nT,data:new Map,refCount:0}}function jo(t){t.refCount--,t.refCount===0&&iT(rT,function(){t.controller.abort()})}var Uo=null,Fh=0,pa=0,ga=null;function sT(t,i){if(Uo===null){var a=Uo=[];Fh=0,pa=Zf(),ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Fh++,i.then($p,$p),i}function $p(){if(--Fh===0&&Uo!==null){ga!==null&&(ga.status="fulfilled");var t=Uo;Uo=null,pa=0,ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function aT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Yp=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&sT(t,i),Yp!==null&&Yp(t,i)};var bs=ze(null);function Gh(){var t=bs.current;return t!==null?t:Ye.pooledCache}function Ou(t,i){i===null?Ge(bs,bs.current):Ge(bs,i.pool)}function Xp(){var t=Gh();return t===null?null:{parent:wt._currentValue,pool:t}}var _r=0,Re=null,Ke=null,pt=null,Mu=!1,ya=!1,ws=!1,ku=0,zo=0,_a=null,oT=0;function ht(){throw Error(s(321))}function Kh(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!hn(t[a],i[a]))return!1;return!0}function Qh(t,i,a,l,h,d){return _r=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?As:vr,ws=!1,d=a(l,h),ws=!1,ya&&(d=Jp(i,a,l,h)),Zp(t),d}function Zp(t){w.H=si;var i=Ke!==null&&Ke.next!==null;if(_r=0,pt=Ke=Re=null,Mu=!1,zo=0,_a=null,i)throw Error(s(300));t===null||Mt||(t=t.dependencies,t!==null&&qu(t)&&(Mt=!0))}function Jp(t,i,a,l){Re=t;var h=0;do{if(ya&&(_a=null),zo=0,ya=!1,25<=h)throw Error(s(301));if(h+=1,pt=Ke=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Cs,d=i(a,l)}while(ya);return d}function lT(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?Bo(i):i,t=t.useState()[0],(Ke!==null?Ke.memoizedState:null)!==t&&(Re.flags|=1024),i}function $h(){var t=ku!==0;return ku=0,t}function Yh(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Xh(t){if(Mu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Mu=!1}_r=0,pt=Ke=Re=null,ya=!1,zo=ku=0,_a=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?Re.memoizedState=pt=t:pt=pt.next=t,pt}function gt(){if(Ke===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var i=pt===null?Re.memoizedState:pt.next;if(i!==null)pt=i,Ke=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},pt===null?Re.memoizedState=pt=t:pt=pt.next=t}return pt}var Vu;Vu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Bo(t){var i=zo;return zo+=1,_a===null&&(_a=[]),t=Bp(_a,t,i),i=Re,(pt===null?i.memoizedState:pt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?As:vr),t}function Lu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bo(t);if(t.$$typeof===V)return Ft(t)}throw Error(s(438,String(t)))}function Zh(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Vu(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ge;return i.index++,a}function Oi(t,i){return typeof i=="function"?i(t):i}function Pu(t){var i=gt();return Jh(i,Ke,t)}function Jh(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,R=null,P=i,$=!1;do{var W=P.lane&-536870913;if(W!==P.lane?(Ve&W)===W:(_r&W)===W){var G=P.revertLane;if(G===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),W===pa&&($=!0);else if((_r&G)===G){P=P.next,G===pa&&($=!0);continue}else W={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(S=R=W,v=d):R=R.next=W,Re.lanes|=G,Ir|=G;W=P.action,ws&&a(d,W),d=P.hasEagerState?P.eagerState:a(d,W)}else G={lane:W,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(S=R=G,v=d):R=R.next=G,Re.lanes|=W,Ir|=W;P=P.next}while(P!==null&&P!==i);if(R===null?v=d:R.next=S,!hn(d,t.memoizedState)&&(Mt=!0,$&&(a=ga,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wh(t){var i=gt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);hn(d,i.memoizedState)||(Mt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Wp(t,i,a){var l=Re,h=gt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!hn((Ke||h).memoizedState,a);if(v&&(h.memoizedState=a,Mt=!0),h=h.queue,nf(ng.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||pt!==null&&pt.memoizedState.tag&1){if(l.flags|=2048,va(9,tg.bind(null,l,h,a,i),{destroy:void 0},null),Ye===null)throw Error(s(349));d||_r&60||eg(l,i,a)}return a}function eg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=Vu(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function tg(t,i,a,l){i.value=a,i.getSnapshot=l,ig(i)&&rg(t)}function ng(t,i,a){return a(function(){ig(i)&&rg(t)})}function ig(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!hn(t,a)}catch{return!0}}function rg(t){var i=pr(t,2);i!==null&&tn(i,t,2)}function ef(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),ws){Kn(!0);try{a()}finally{Kn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},i}function sg(t,i,a,l){return t.baseState=a,Jh(t,Ke,typeof l=="function"?l:Oi)}function uT(t,i,a,l,h){if(zu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ag(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ag(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var S=a(h,l),R=w.S;R!==null&&R(v,S),og(t,i,S)}catch(P){tf(t,i,P)}finally{w.T=d}}else try{d=a(h,l),og(t,i,d)}catch(P){tf(t,i,P)}}function og(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){lg(t,i,l)},function(l){return tf(t,i,l)}):lg(t,i,a)}function lg(t,i,a){i.status="fulfilled",i.value=a,ug(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ag(t,a)))}function tf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ug(i),i=i.next;while(i!==l)}t.action=null}function ug(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function cg(t,i){return i}function hg(t,i){if(He){var a=Ye.formState;if(a!==null){e:{var l=Re;if(He){if(jt){t:{for(var h=jt,d=ii;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){jt=Un(h.nextSibling),l=h.data==="F!";break e}}Ts(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:i},a.queue=l,a=xg.bind(null,Re,l),l.dispatch=a,l=ef(!1),d=lf.bind(null,Re,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=uT.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function fg(t){var i=gt();return dg(i,Ke,t)}function dg(t,i,a){i=Jh(t,i,cg)[0],t=Pu(Oi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Bo(i):i;var l=gt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Re.flags|=2048,va(9,cT.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function cT(t,i){t.action=i}function mg(t){var i=gt(),a=Ke;if(a!==null)return dg(i,a,t);gt(),i=i.memoizedState,a=gt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function va(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Re.updateQueue,i===null&&(i=Vu(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function pg(){return gt().memoizedState}function ju(t,i,a,l){var h=an();Re.flags|=t,h.memoizedState=va(1|i,a,{destroy:void 0},l===void 0?null:l)}function Uu(t,i,a,l){var h=gt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ke!==null&&l!==null&&Kh(l,Ke.memoizedState.deps)?h.memoizedState=va(i,a,d,l):(Re.flags|=t,h.memoizedState=va(1|i,a,d,l))}function gg(t,i){ju(8390656,8,t,i)}function nf(t,i){Uu(2048,8,t,i)}function yg(t,i){return Uu(4,2,t,i)}function _g(t,i){return Uu(4,4,t,i)}function vg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Eg(t,i,a){a=a!=null?a.concat([t]):null,Uu(4,4,vg.bind(null,i,t),a)}function rf(){}function Tg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Kh(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Sg(t,i){var a=gt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Kh(i,l[1]))return l[0];if(l=t(),ws){Kn(!0);try{t()}finally{Kn(!1)}}return a.memoizedState=[l,i],l}function sf(t,i,a){return a===void 0||_r&1073741824?t.memoizedState=i:(t.memoizedState=a,t=wy(),Re.lanes|=t,Ir|=t,a)}function bg(t,i,a,l){return hn(a,i)?a:ma.current!==null?(t=sf(t,a,l),hn(t,i)||(Mt=!0),t):_r&42?(t=wy(),Re.lanes|=t,Ir|=t,i):(Mt=!0,t.memoizedState=a)}function wg(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=w.T,S={};w.T=S,lf(t,!1,i,a);try{var R=h(),P=w.S;if(P!==null&&P(S,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=aT(R,l);Ho(t,i,$,pn(t))}else Ho(t,i,l,pn(t))}catch(W){Ho(t,i,{then:function(){},status:"rejected",reason:W},pn())}finally{oe.p=d,w.T=v}}function hT(){}function af(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ag(t).queue;wg(t,h,i,Ce,a===null?hT:function(){return Cg(t),a(l)})}function Ag(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ce,baseState:Ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:Ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Cg(t){var i=Ag(t).next.queue;Ho(t,i,{},pn())}function of(){return Ft(ll)}function Rg(){return gt().memoizedState}function Ig(){return gt().memoizedState}function fT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=Sr(a);var l=br(i,t,a);l!==null&&(tn(l,i,a),Go(l,i,a)),i={cache:qh()},t.payload=i;return}i=i.return}}function dT(t,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},zu(t)?Ng(i,a):(a=Lh(t,i,a,l),a!==null&&(tn(a,t,l),Dg(a,i,l)))}function xg(t,i,a){var l=pn();Ho(t,i,a,l)}function Ho(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(zu(t))Ng(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,hn(S,v))return bu(t,i,h,0),Ye===null&&Su(),!1}catch{}finally{}if(a=Lh(t,i,h,l),a!==null)return tn(a,t,l),Dg(a,i,l),!0}return!1}function lf(t,i,a,l){if(l={lane:2,revertLane:Zf(),action:l,hasEagerState:!1,eagerState:null,next:null},zu(t)){if(i)throw Error(s(479))}else i=Lh(t,a,l,2),i!==null&&tn(i,t,2)}function zu(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Ng(t,i){ya=Mu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Dg(t,i,a){if(a&4194176){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,sr(t,a)}}var si={readContext:Ft,use:Lu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};si.useCacheRefresh=ht,si.useMemoCache=ht,si.useHostTransitionStatus=ht,si.useFormState=ht,si.useActionState=ht,si.useOptimistic=ht;var As={readContext:Ft,use:Lu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:gg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ju(4194308,4,vg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ju(4194308,4,t,i)},useInsertionEffect:function(t,i){ju(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(ws){Kn(!0);try{t()}finally{Kn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(ws){Kn(!0);try{a(i)}finally{Kn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=dT.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=ef(t);var i=t.queue,a=xg.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(t,i){var a=an();return sf(a,t,i)},useTransition:function(){var t=ef(!1);return t=wg.bind(null,Re,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=an();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Ye===null)throw Error(s(349));Ve&60||eg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,gg(ng.bind(null,l,d,t),[t]),l.flags|=2048,va(9,tg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=an(),i=Ye.identifierPrefix;if(He){var a=Ni,l=xi;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=ku++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=oT++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return an().memoizedState=fT.bind(null,Re)}};As.useMemoCache=Zh,As.useHostTransitionStatus=of,As.useFormState=hg,As.useActionState=hg,As.useOptimistic=function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=lf.bind(null,Re,!0,a),a.dispatch=i,[t,i]};var vr={readContext:Ft,use:Lu,useCallback:Tg,useContext:Ft,useEffect:nf,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Sg,useReducer:Pu,useRef:pg,useState:function(){return Pu(Oi)},useDebugValue:rf,useDeferredValue:function(t,i){var a=gt();return bg(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Pu(Oi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:Bo(t),i]},useSyncExternalStore:Wp,useId:Rg};vr.useCacheRefresh=Ig,vr.useMemoCache=Zh,vr.useHostTransitionStatus=of,vr.useFormState=fg,vr.useActionState=fg,vr.useOptimistic=function(t,i){var a=gt();return sg(a,Ke,t,i)};var Cs={readContext:Ft,use:Lu,useCallback:Tg,useContext:Ft,useEffect:nf,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Sg,useReducer:Wh,useRef:pg,useState:function(){return Wh(Oi)},useDebugValue:rf,useDeferredValue:function(t,i){var a=gt();return Ke===null?sf(a,t,i):bg(a,Ke.memoizedState,t,i)},useTransition:function(){var t=Wh(Oi)[0],i=gt().memoizedState;return[typeof t=="boolean"?t:Bo(t),i]},useSyncExternalStore:Wp,useId:Rg};Cs.useCacheRefresh=Ig,Cs.useMemoCache=Zh,Cs.useHostTransitionStatus=of,Cs.useFormState=mg,Cs.useActionState=mg,Cs.useOptimistic=function(t,i){var a=gt();return Ke!==null?sg(a,Ke,t,i):(a.baseState=t,[t,a.queue.dispatch])};function uf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cf={isMounted:function(t){return(t=t._reactInternals)?ue(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pn(),h=Sr(l);h.payload=i,a!=null&&(h.callback=a),i=br(t,h,l),i!==null&&(tn(i,t,l),Go(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pn(),h=Sr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=br(t,h,l),i!==null&&(tn(i,t,l),Go(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),l=Sr(a);l.tag=2,i!=null&&(l.callback=i),i=br(t,l,a),i!==null&&(tn(i,t,a),Go(i,t,a))}};function Og(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!xo(a,l)||!xo(h,d):!0}function Mg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&cf.enqueueReplaceState(i,i.state,null)}function Rs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kg(t){Bu(t)}function Vg(t){console.error(t)}function Lg(t){Bu(t)}function Hu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Pg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hf(t,i,a){return a=Sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(t,i)},a}function jg(t){return t=Sr(t),t.tag=3,t}function Ug(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Pg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Pg(i,a,l),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function mT(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Fo(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ri===null?Kf():a.alternate===null&&ot===0&&(ot=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===zh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),$f(t,l,h)),!1;case 22:return a.flags|=65536,l===zh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),$f(t,l,h)),!1}throw Error(s(435,a.tag))}return $f(t,l,h),Kf(),!1}if(He)return i=In.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Uh&&(t=Error(s(422),{cause:l}),Mo(An(t,a)))):(l!==Uh&&(i=Error(s(423),{cause:l}),Mo(An(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=An(l,a),h=hf(t.stateNode,l,h),Cf(t,h),ot!==4&&(ot=2)),!1;var d=Error(s(520),{cause:l});if(d=An(d,a),Wo===null?Wo=[d]:Wo.push(d),ot!==4&&(ot=2),i===null)return!0;l=An(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=hf(a.stateNode,l,t),Cf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jg(h),Ug(h,t,a,l),Cf(a,h),!1}a=a.return}while(a!==null);return!1}var zg=Error(s(461)),Mt=!1;function Ut(t,i,a,l){i.child=t===null?Gp(i,null,a,l):Ss(i,t.child,a,l)}function Bg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return xs(i),l=Qh(t,i,a,v,d,h),S=$h(),t!==null&&!Mt?(Yh(t,i,h),Mi(t,i,h)):(He&&S&&Ph(i),i.flags|=1,Ut(t,i,l,h),i.child)}function Hg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!kf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,qg(t,i,d,l,h)):(t=Qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ef(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:xo,a(v,l)&&t.ref===i.ref)return Mi(t,i,h)}return i.flags|=1,t=Rr(d,l),t.ref=i.ref,t.return=i,i.child=t}function qg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(xo(d,l)&&t.ref===i.ref)if(Mt=!1,i.pendingProps=l=d,Ef(t,h))t.flags&131072&&(Mt=!0);else return i.lanes=t.lanes,Mi(t,i,h)}return ff(t,i,a,l,h)}function Fg(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(qo(t,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Gg(t,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(i,v!==null?v.cachePool:null),v!==null?Kp(i,v):Bh(),Qp(i);else return i.lanes=i.childLanes=536870912,Gg(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Ou(i,v.cachePool),Kp(i,v),yr(),i.memoizedState=null):(t!==null&&Ou(i,null),Bh(),yr());return Ut(t,i,h,a),i.child}function Gg(t,i,a,l){var h=Gh();return h=h===null?null:{parent:wt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Ou(i,null),Bh(),Qp(i),t!==null&&Fo(t,i,l,!0),null}function qo(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function ff(t,i,a,l,h){return xs(i),a=Qh(t,i,a,l,void 0,h),l=$h(),t!==null&&!Mt?(Yh(t,i,h),Mi(t,i,h)):(He&&l&&Ph(i),i.flags|=1,Ut(t,i,a,h),i.child)}function Kg(t,i,a,l,h,d){return xs(i),i.updateQueue=null,a=Jp(i,l,a,h),Zp(t),l=$h(),t!==null&&!Mt?(Yh(t,i,d),Mi(t,i,d)):(He&&l&&Ph(i),i.flags|=1,Ut(t,i,a,d),i.child)}function Qg(t,i,a,l,h){if(xs(i),i.stateNode===null){var d=ca,v=a.contextType;typeof v=="object"&&v!==null&&(d=Ft(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},wf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Ft(v):ca,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(uf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&cf.enqueueReplaceState(d,d.state,null),Qo(i,l,d,h),Ko(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,R=Rs(a,S);d.props=R;var P=d.context,$=a.contextType;v=ca,typeof $=="object"&&$!==null&&(v=Ft($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||P!==v)&&Mg(i,d,l,v),Tr=!1;var G=i.memoizedState;d.state=G,Qo(i,l,d,h),Ko(),P=i.memoizedState,S||G!==P||Tr?(typeof W=="function"&&(uf(i,a,W,l),P=i.memoizedState),(R=Tr||Og(i,a,R,l,G,P,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Af(t,i),v=i.memoizedProps,$=Rs(a,v),d.props=$,W=i.pendingProps,G=d.context,P=a.contextType,R=ca,typeof P=="object"&&P!==null&&(R=Ft(P)),S=a.getDerivedStateFromProps,(P=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==W||G!==R)&&Mg(i,d,l,R),Tr=!1,G=i.memoizedState,d.state=G,Qo(i,l,d,h),Ko();var Q=i.memoizedState;v!==W||G!==Q||Tr||t!==null&&t.dependencies!==null&&qu(t.dependencies)?(typeof S=="function"&&(uf(i,a,S,l),Q=i.memoizedState),($=Tr||Og(i,a,$,l,G,Q,R)||t!==null&&t.dependencies!==null&&qu(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=R,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,qo(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ss(i,t.child,null,h),i.child=Ss(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Mi(t,i,h),t}function $g(t,i,a,l){return Oo(),i.flags|=256,Ut(t,i,a,l),i.child}var df={dehydrated:null,treeContext:null,retryLane:0};function mf(t){return{baseLanes:t,cachePool:Xp()}}function pf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=On),t}function Yg(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?gr(i):yr(),He){var S=jt,R;if(R=S){e:{for(R=S,S=ii;R.nodeType!==8;){if(!S){S=null;break e}if(R=Un(R.nextSibling),R===null){S=null;break e}}S=R}S!==null?(i.memoizedState={dehydrated:S,treeContext:vs!==null?{id:xi,overflow:Ni}:null,retryLane:536870912},R=Dn(18,null,null,0),R.stateNode=S,R.return=i,i.child=R,en=i,jt=null,R=!0):R=!1}R||Ts(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;Di(i)}return S=l.children,l=l.fallback,h?(yr(),h=i.mode,S=yf({mode:"hidden",children:S},h),l=Ds(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=mf(a),h.childLanes=pf(t,v,a),i.memoizedState=df,l):(gr(i),gf(i,S))}if(R=t.memoizedState,R!==null&&(S=R.dehydrated,S!==null)){if(d)i.flags&256?(gr(i),i.flags&=-257,i=_f(t,i,a)):i.memoizedState!==null?(yr(),i.child=t.child,i.flags|=128,i=null):(yr(),h=l.fallback,S=i.mode,l=yf({mode:"visible",children:l.children},S),h=Ds(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ss(i,t.child,null,a),l=i.child,l.memoizedState=mf(a),l.childLanes=pf(t,v,a),i.memoizedState=df,i=h);else if(gr(i),S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,Mo({value:l,source:null,stack:null}),i=_f(t,i,a)}else if(Mt||Fo(t,i,a,!1),v=(a&t.childLanes)!==0,Mt||v){if(v=Ye,v!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|a)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,pr(t,l),tn(v,t,l),zg}S.data==="$?"||Kf(),i=_f(t,i,a)}else S.data==="$?"?(i.flags|=128,i.child=t.child,i=xT.bind(null,t),S._reactRetry=i,i=null):(t=R.treeContext,jt=Un(S.nextSibling),en=i,He=!0,Pn=null,ii=!1,t!==null&&(Cn[Rn++]=xi,Cn[Rn++]=Ni,Cn[Rn++]=vs,xi=t.id,Ni=t.overflow,vs=i),i=gf(i,l.children),i.flags|=4096);return i}return h?(yr(),h=l.fallback,S=i.mode,R=t.child,P=R.sibling,l=Rr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,P!==null?h=Rr(P,h):(h=Ds(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=mf(a):(R=S.cachePool,R!==null?(P=wt._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=Xp(),S={baseLanes:S.baseLanes|a,cachePool:R}),h.memoizedState=S,h.childLanes=pf(t,v,a),i.memoizedState=df,l):(gr(i),a=t.child,t=a.sibling,a=Rr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function gf(t,i){return i=yf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function yf(t,i){return Ty(t,i,0,null)}function _f(t,i,a){return Ss(i,t.child,null,a),t=gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Xg(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Sf(t.return,i,a)}function vf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Zg(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=bt.current,l&2)l=l&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xg(t,a,i);else if(t.tag===19)Xg(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ge(bt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Du(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),vf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Du(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}vf(i,!0,a,null,d);break;case"together":vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ir|=i.lanes,!(a&i.childLanes))if(t!==null){if(Fo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Rr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Rr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ef(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&qu(t)))}function pT(t,i,a){switch(i.tag){case 3:Wi(i,i.stateNode.containerInfo),Er(i,wt,t.memoizedState.cache),Oo();break;case 27:case 5:oo(i);break;case 4:Wi(i,i.stateNode.containerInfo);break;case 10:Er(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(gr(i),i.flags|=128,null):a&i.child.childLanes?Yg(t,i,a):(gr(i),t=Mi(t,i,a),t!==null?t.sibling:null);gr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Fo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Zg(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ge(bt,bt.current),l)break;return null;case 22:case 23:return i.lanes=0,Fg(t,i,a);case 24:Er(i,wt,t.memoizedState.cache)}return Mi(t,i,a)}function Jg(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Mt=!0;else{if(!Ef(t,a)&&!(i.flags&128))return Mt=!1,pT(t,i,a);Mt=!!(t.flags&131072)}else Mt=!1,He&&i.flags&1048576&&Lp(i,Cu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")kf(l)?(t=Rs(l,t),i.tag=1,i=Qg(null,i,l,t,a)):(i.tag=0,i=ff(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===B){i.tag=11,i=Bg(null,i,l,t,a);break e}else if(h===Y){i.tag=14,i=Hg(null,i,l,t,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return ff(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Rs(l,i.pendingProps),Qg(t,i,l,h,a);case 3:e:{if(Wi(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Af(t,i),Qo(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Er(i,wt,d),d!==h.cache&&bf(i,[wt],a,!0),Ko(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=$g(t,i,d,a);break e}else if(d!==l){l=An(Error(s(424)),i),Mo(l),i=$g(t,i,d,a);break e}else for(jt=Un(i.stateNode.containerInfo.firstChild),en=i,He=!0,Pn=null,ii=!0,a=Gp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Oo(),d===l){i=Mi(t,i,a);break e}Ut(t,i,d,a)}i=i.child}return i;case 26:return qo(t,i),t===null?(a=t_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=sc(yn.current).createElement(a),l[Nt]=i,l[Et]=t,zt(l,a,t),We(l),i.stateNode=l):i.memoizedState=t_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return oo(i),t===null&&He&&(l=i.stateNode=Jy(i.type,i.pendingProps,yn.current),en=i,ii=!0,jt=Un(l.firstChild)),l=i.pendingProps.children,t!==null||He?Ut(t,i,l,a):i.child=Ss(i,null,l,a),qo(t,i),i.child;case 5:return t===null&&He&&((h=l=jt)&&(l=GT(l,i.type,i.pendingProps,ii),l!==null?(i.stateNode=l,en=i,jt=Un(l.firstChild),ii=!1,h=!0):h=!1),h||Ts(i)),oo(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,ad(h,d)?l=null:v!==null&&ad(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Qh(t,i,lT,null,null,a),ll._currentValue=h),qo(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=jt)&&(a=KT(a,i.pendingProps,ii),a!==null?(i.stateNode=a,en=i,jt=null,t=!0):t=!1),t||Ts(i)),null;case 13:return Yg(t,i,a);case 4:return Wi(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ss(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return Bg(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Er(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,xs(i),h=Ft(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return Hg(t,i,i.type,i.pendingProps,a);case 15:return qg(t,i,i.type,i.pendingProps,a);case 19:return Zg(t,i,a);case 22:return Fg(t,i,a);case 24:return xs(i),l=Ft(wt),t===null?(h=Gh(),h===null&&(h=Ye,d=qh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},wf(i),Er(i,wt,h)):(t.lanes&a&&(Af(t,i),Qo(i,null,null,a),Ko()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Er(i,wt,l)):(l=d.cache,Er(i,wt,l),l!==h.cache&&bf(i,[wt],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Tf=ze(null),Is=null,ki=null;function Er(t,i,a){Ge(Tf,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=Tf.current,rt(Tf)}function Sf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function bf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var R=0;R<i.length;R++)if(S.context===i[R]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Sf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Sf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Fo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ji.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ll):t=[ll])}h=h.return}t!==null&&bf(i,t,a,l),i.flags|=262144}function qu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function xs(t){Is=t,ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return Wg(Is,t)}function Fu(t,i){return Is===null&&xs(t),Wg(t,i)}function Wg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ki===null){if(t===null)throw Error(s(308));ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ki=ki.next=i;return a}var Tr=!1;function wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Af(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function br(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,tt&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=wu(t),kp(t,null,a),i}return bu(t,l,i,a),wu(t)}function Go(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,sr(t,a)}}function Cf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Rf=!1;function Ko(){if(Rf){var t=ga;if(t!==null)throw t}}function Qo(t,i,a,l){Rf=!1;var h=t.updateQueue;Tr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var R=S,P=R.next;R.next=null,v===null?d=P:v.next=P,v=R;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==v&&(S===null?$.firstBaseUpdate=P:S.next=P,$.lastBaseUpdate=R))}if(d!==null){var W=h.baseState;v=0,$=P=R=null,S=d;do{var G=S.lane&-536870913,Q=G!==S.lane;if(Q?(Ve&G)===G:(l&G)===G){G!==0&&G===pa&&(Rf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,Te=S;G=i;var lt=a;switch(Te.tag){case 1:if(fe=Te.payload,typeof fe=="function"){W=fe.call(lt,W,G);break e}W=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Te.payload,G=typeof fe=="function"?fe.call(lt,W,G):fe,G==null)break e;W=x({},W,G);break e;case 2:Tr=!0}}G=S.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(P=$=Q,R=W):$=$.next=Q,v|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(R=W),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Ir|=v,t.lanes=v,t.memoizedState=W}}function ey(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function ty(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ey(a[t],i)}function $o(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){$e(i,i.return,S)}}function wr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var R=a;try{S()}catch(P){$e(h,R,P)}}}l=l.next}while(l!==d)}}catch(P){$e(i,i.return,P)}}function ny(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ty(i,a)}catch(l){$e(t,t.return,l)}}}function iy(t,i,a){a.props=Rs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Ns(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){$e(t,i,d)}}function fn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function ry(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function sy(t,i,a){try{var l=t.stateNode;zT(l,t.type,a,i),l[Et]=i}catch(h){$e(t,t.return,h)}}function ay(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function If(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=rc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(xf(t,i,a),t=t.sibling;t!==null;)xf(t,i,a),t=t.sibling}function Gu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Gu(t,i,a),t=t.sibling;t!==null;)Gu(t,i,a),t=t.sibling}var Li=!1,at=!1,Nf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,kt=null,ly=!1;function gT(t,i){if(t=t.containerInfo,rd=hc,t=Ap(t),Dh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,R=-1,P=0,$=0,W=t,G=null;t:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(S=v+h),W!==d||l!==0&&W.nodeType!==3||(R=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(Q=W.firstChild)!==null;)G=W,W=Q;for(;;){if(W===t)break t;if(G===a&&++P===h&&(S=v),G===d&&++$===l&&(R=v),(Q=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=Q}a=S===-1||R===-1?null:{start:S,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(sd={focusedElem:t,selectionRange:a},hc=!1,kt=i;kt!==null;)if(i=kt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,kt=t;else for(;kt!==null;){switch(i=kt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Rs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){$e(a,a.return,Te)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ud(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,kt=t;break}kt=i.return}return fe=ly,ly=!1,fe}function uy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&$o(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(S){$e(a,a.return,S)}else{var h=Rs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){$e(a,a.return,S)}}l&64&&ny(a),l&512&&Ns(a,a.return);break;case 3:if(ji(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ty(l,t)}catch(S){$e(a,a.return,S)}}break;case 26:ji(t,a),l&512&&Ns(a,a.return);break;case 27:case 5:ji(t,a),i===null&&l&4&&ry(a),l&512&&Ns(a,a.return);break;case 12:ji(t,a);break;case 13:ji(t,a),l&4&&fy(t,a);break;case 22:if(h=a.memoizedState!==null||Li,!h){i=i!==null&&i.memoizedState!==null||at;var d=Li,v=at;Li=h,(at=i)&&!v?Ar(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),Li=d,at=v}l&512&&(a.memoizedProps.mode==="manual"?Ns(a,a.return):fn(a,a.return));break;default:ji(t,a)}}function cy(t){var i=t.alternate;i!==null&&(t.alternate=null,cy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&as(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,dn=!1;function Pi(t,i,a){for(a=a.child;a!==null;)hy(t,i,a),a=a.sibling}function hy(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(er,a)}catch{}switch(a.tag){case 26:at||fn(a,i),Pi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||fn(a,i);var l=yt,h=dn;for(yt=a.stateNode,Pi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);as(a),yt=l,dn=h;break;case 5:at||fn(a,i);case 6:h=yt;var d=dn;if(yt=null,Pi(t,i,a),yt=h,dn=d,yt!==null)if(dn)try{t=yt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){$e(a,i,v)}else try{yt.removeChild(a.stateNode)}catch(v){$e(a,i,v)}break;case 18:yt!==null&&(dn?(i=yt,a=a.stateNode,i.nodeType===8?ld(i.parentNode,a):i.nodeType===1&&ld(i,a),fl(i)):ld(yt,a.stateNode));break;case 4:l=yt,h=dn,yt=a.stateNode.containerInfo,dn=!0,Pi(t,i,a),yt=l,dn=h;break;case 0:case 11:case 14:case 15:at||wr(2,a,i),at||wr(4,a,i),Pi(t,i,a);break;case 1:at||(fn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&iy(a,i,l)),Pi(t,i,a);break;case 21:Pi(t,i,a);break;case 22:at||fn(a,i),at=(l=at)||a.memoizedState!==null,Pi(t,i,a),at=l;break;default:Pi(t,i,a)}}function fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{fl(t)}catch(a){$e(i,i.return,a)}}function yT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new oy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new oy),i;default:throw Error(s(435,t.tag))}}function Df(t,i){var a=yT(t);i.forEach(function(l){var h=NT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function xn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:case 5:yt=S.stateNode,dn=!1;break e;case 3:yt=S.stateNode.containerInfo,dn=!0;break e;case 4:yt=S.stateNode.containerInfo,dn=!0;break e}S=S.return}if(yt===null)throw Error(s(160));hy(d,v,h),yt=null,dn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)dy(i,t),i=i.sibling}var jn=null;function dy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(i,t),Nn(t),l&4&&(wr(3,t,t.return),$o(3,t),wr(5,t,t.return));break;case 1:xn(i,t),Nn(t),l&512&&(at||a===null||fn(a,a.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=jn;if(xn(i,t),Nn(t),l&512&&(at||a===null||fn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[or]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Nt]=t,We(d),l=d;break e;case"link":var v=r_("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=r_("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Nt]=t,We(d),l=d}t.stateNode=l}else s_(h,t.type,t.stateNode);else t.stateNode=i_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?s_(h,t.type,t.stateNode):i_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var P=R.nextSibling,$=R.nodeName;R[or]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=P}for(var W=t.type,G=h.attributes;G.length;)h.removeAttributeNode(G[0]);zt(h,W,d),h[Nt]=t,h[Et]=d}catch(fe){$e(t,t.return,fe)}}case 5:if(xn(i,t),Nn(t),l&512&&(at||a===null||fn(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sy(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Nf=!0);break;case 6:if(xn(i,t),Nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(lc=null,h=jn,jn=ac(i.containerInfo),xn(i,t),jn=h,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(i.containerInfo)}catch(fe){$e(t,t.return,fe)}Nf&&(Nf=!1,my(t));break;case 4:l=jn,jn=ac(t.stateNode.containerInfo),xn(i,t),Nn(t),jn=l;break;case 12:xn(i,t),Nn(t);break;case 13:xn(i,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zf=rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Df(t,l)));break;case 22:if(l&512&&(at||a===null||fn(a,a.return)),R=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,$=Li,W=at,Li=$||R,at=W||P,xn(i,t),at=W,Li=$,Nn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=Li||at,a===null||P||i||Ea(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,S=P.memoizedProps.style;var Q=S!=null&&S.hasOwnProperty("display")?S.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){$e(P,P.return,fe)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=R?"":P.memoizedProps}catch(fe){$e(P,P.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Df(t,a))));break;case 19:xn(i,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Df(t,l)));break;case 21:break;default:xn(i,t),Nn(t)}}function Nn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(ay(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=If(t);Gu(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(En(v,""),l.flags&=-33);var S=If(t);Gu(t,S,v);break;case 3:case 4:var R=l.stateNode.containerInfo,P=If(t);xf(t,P,R);break;default:throw Error(s(161))}}}catch($){$e(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function my(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;my(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)uy(t,i.alternate,i),i=i.sibling}function Ea(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:wr(4,i,i.return),Ea(i);break;case 1:fn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&iy(i,i.return,a),Ea(i);break;case 26:case 27:case 5:fn(i,i.return),Ea(i);break;case 22:fn(i,i.return),i.memoizedState===null&&Ea(i);break;default:Ea(i)}t=t.sibling}}function Ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),$o(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){$e(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ey(R[h],S)}catch(P){$e(l,l.return,P)}}a&&v&64&&ny(d),Ns(d,d.return);break;case 26:case 27:case 5:Ar(h,d,a),a&&l===null&&v&4&&ry(d),Ns(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&fy(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),Ns(d,d.return);break;default:Ar(h,d,a)}i=i.sibling}}function Of(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&jo(a))}function Mf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jo(t))}function Cr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)py(t,i,a,l),i=i.sibling}function py(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Cr(t,i,a,l),h&2048&&$o(9,i);break;case 3:Cr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&jo(t)));break;case 12:if(h&2048){Cr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){$e(i,i.return,R)}}else Cr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Cr(t,i,a,l):Yo(t,i):d._visibility&4?Cr(t,i,a,l):(d._visibility|=4,Ta(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Of(i.alternate,i);break;case 24:Cr(t,i,a,l),h&2048&&Mf(i.alternate,i);break;default:Cr(t,i,a,l)}}function Ta(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,S=a,R=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Ta(d,v,S,R,h),$o(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&4?Ta(d,v,S,R,h):Yo(d,v):($._visibility|=4,Ta(d,v,S,R,h)),h&&P&2048&&Of(v.alternate,v);break;case 24:Ta(d,v,S,R,h),h&&P&2048&&Mf(v.alternate,v);break;default:Ta(d,v,S,R,h)}i=i.sibling}}function Yo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Yo(a,l),h&2048&&Of(l.alternate,l);break;case 24:Yo(a,l),h&2048&&Mf(l.alternate,l);break;default:Yo(a,l)}i=i.sibling}}var Xo=8192;function Sa(t){if(t.subtreeFlags&Xo)for(t=t.child;t!==null;)gy(t),t=t.sibling}function gy(t){switch(t.tag){case 26:Sa(t),t.flags&Xo&&t.memoizedState!==null&&s2(jn,t.memoizedState,t.memoizedProps);break;case 5:Sa(t);break;case 3:case 4:var i=jn;jn=ac(t.stateNode.containerInfo),Sa(t),jn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,Sa(t),Xo=i):Sa(t));break;default:Sa(t)}}function yy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Zo(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,vy(l,t)}yy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_y(t),t=t.sibling}function _y(t){switch(t.tag){case 0:case 11:case 15:Zo(t),t.flags&2048&&wr(9,t,t.return);break;case 3:Zo(t);break;case 12:Zo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Ku(t)):Zo(t);break;default:Zo(t)}}function Ku(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];kt=l,vy(l,t)}yy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:wr(8,i,i.return),Ku(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Ku(i));break;default:Ku(i)}t=t.sibling}}function vy(t,i){for(;kt!==null;){var a=kt;switch(a.tag){case 0:case 11:case 15:wr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,kt=l;else e:for(a=t;kt!==null;){l=kt;var h=l.sibling,d=l.return;if(cy(l),l===a){kt=null;break e}if(h!==null){h.return=d,kt=h;break e}kt=d}}}function _T(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,i,a,l){return new _T(t,i,a,l)}function kf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Rr(t,i){var a=t.alternate;return a===null?(a=Dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ey(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Qu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")kf(t)&&(v=1);else if(typeof t=="string")v=i2(t,a,Xt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ds(a.children,h,d,i);case y:v=8,h|=24;break;case T:return t=Dn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case H:return t=Dn(13,a,i,h),t.elementType=H,t.lanes=d,t;case L:return t=Dn(19,a,i,h),t.elementType=L,t.lanes=d,t;case ee:return Ty(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case V:v=10;break e;case I:v=9;break e;case B:v=11;break e;case Y:v=14;break e;case ne:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Dn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=Dn(7,t,l,i),t.lanes=a,t}function Ty(t,i,a,l){t=Dn(22,t,l,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var v=pr(d,2);v!==null&&(h._pendingVisibility|=2,tn(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var v=pr(d,2);v!==null&&(h._pendingVisibility&=-3,tn(v,d,2))}}};return t.stateNode=h,t}function Vf(t,i,a){return t=Dn(6,t,null,i),t.lanes=a,t}function Lf(t,i,a){return i=Dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ui(t){t.flags|=4}function Sy(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!a_(i)){if(i=In.current,i!==null&&((Ve&4194176)===Ve?ri!==null:(Ve&62914560)!==Ve&&!(Ve&536870912)||i!==ri))throw Vo=zh,Up;t.flags|=8192}}function $u(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ir():536870912,t.lanes|=i,wa|=i)}function Jo(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function et(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function vT(t,i,a){var l=i.pendingProps;switch(jh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(i),null;case 1:return et(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(wt),_i(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Do(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Pn!==null&&(Ff(Pn),Pn=null))),et(i),null;case 26:return a=i.memoizedState,t===null?(Ui(i),a!==null?(et(i),Sy(i,a)):(et(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ui(i),et(i),Sy(i,a)):(et(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),et(i),i.flags&=-16777217),null;case 27:qs(i),a=yn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}t=Xt.current,Do(i)?Pp(i):(t=Jy(h,l,a),i.stateNode=t,Ui(i))}return et(i),null;case 5:if(qs(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return et(i),null}if(t=Xt.current,Do(i))Pp(i);else{switch(h=sc(yn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Nt]=i,t[Et]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return et(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=yn.current,Do(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ky(t.nodeValue,a)),t||Ts(i)}else t=sc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return et(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Do(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Nt]=i}else Oo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;et(i),h=!1}else Pn!==null&&(Ff(Pn),Pn=null),h=!0;if(!h)return i.flags&256?(Di(i),i):(Di(i),null)}if(Di(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),$u(i,i.updateQueue),et(i),null;case 4:return _i(),t===null&&td(i.stateNode.containerInfo),et(i),null;case 10:return Vi(i.type),et(i),null;case 19:if(rt(bt),h=i.memoizedState,h===null)return et(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Jo(h,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=Du(t),d!==null){for(i.flags|=128,Jo(h,!1),t=d.updateQueue,i.updateQueue=t,$u(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ey(a,t),a=a.sibling;return Ge(bt,bt.current&1|2),i.child}t=t.sibling}h.tail!==null&&rn()>Yu&&(i.flags|=128,l=!0,Jo(h,!1),i.lanes=4194304)}else{if(!l)if(t=Du(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,$u(i,t),Jo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return et(i),null}else 2*rn()-h.renderingStartTime>Yu&&a!==536870912&&(i.flags|=128,l=!0,Jo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=rn(),i.sibling=null,t=bt.current,Ge(bt,l?t&1|2:t&1),i):(et(i),null);case 22:case 23:return Di(i),Hh(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(et(i),i.subtreeFlags&6&&(i.flags|=8192)):et(i),a=i.updateQueue,a!==null&&$u(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&rt(bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(wt),et(i),null;case 25:return null}throw Error(s(156,i.tag))}function ET(t,i){switch(jh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(wt),_i(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return qs(i),null;case 13:if(Di(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Oo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return rt(bt),null;case 4:return _i(),null;case 10:return Vi(i.type),null;case 22:case 23:return Di(i),Hh(),t!==null&&rt(bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(wt),null;case 25:return null;default:return null}}function by(t,i){switch(jh(i),i.tag){case 3:Vi(wt),_i();break;case 26:case 27:case 5:qs(i);break;case 4:_i();break;case 13:Di(i);break;case 19:rt(bt);break;case 10:Vi(i.type);break;case 22:case 23:Di(i),Hh(),t!==null&&rt(bs);break;case 24:Vi(wt)}}var TT={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},ST=typeof WeakMap=="function"?WeakMap:Map,tt=0,Ye=null,xe=null,Ve=0,Xe=0,mn=null,zi=!1,ba=!1,Pf=!1,Bi=0,ot=0,Ir=0,Os=0,jf=0,On=0,wa=0,Wo=null,ai=null,Uf=!1,zf=0,Yu=1/0,Xu=null,xr=null,Zu=!1,Ms=null,el=0,Bf=0,Hf=null,tl=0,qf=null;function pn(){if(tt&2&&Ve!==0)return Ve&-Ve;if(w.T!==null){var t=pa;return t!==0?t:Zf()}return iu()}function wy(){On===0&&(On=!(Ve&536870912)||He?fo():536870912);var t=In.current;return t!==null&&(t.flags|=32),On}function tn(t,i,a){(t===Ye&&Xe===2||t.cancelPendingCommit!==null)&&(Aa(t,0),Hi(t,Ve,On,!1)),ct(t,a),(!(tt&2)||t!==Ye)&&(t===Ye&&(!(tt&2)&&(Os|=a),ot===4&&Hi(t,Ve,On,!1)),oi(t))}function Ay(t,i,a){if(tt&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||nr(t,i),h=l?AT(t,i):Qf(t,i,!0),d=l;do{if(h===0){ba&&!l&&Hi(t,i,0,!1);break}else if(h===6)Hi(t,i,0,!zi);else{if(a=t.current.alternate,d&&!bT(a)){h=Qf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=Wo;var R=S.current.memoizedState.isDehydrated;if(R&&(Aa(S,v).flags|=256),v=Qf(S,v,!1),v!==2){if(Pf&&!R){S.errorRecoveryDisabledLanes|=d,Os|=d,h=4;break e}d=ai,ai=h,d!==null&&Ff(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Aa(t,0),Hi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Hi(l,i,On,!zi);break e}break;case 2:ai=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=zf+300-rn(),10<d)){if(Hi(l,i,On,!zi),_n(l,0)!==0)break e;l.timeoutHandle=Yy(Cy.bind(null,l,a,ai,Xu,Uf,i,On,Os,wa,zi,2,-0,0),d);break e}Cy(l,a,ai,Xu,Uf,i,On,Os,wa,zi,0,-0,0)}}break}while(!0);oi(t)}function Ff(t){ai===null?ai=t:ai.push.apply(ai,t)}function Cy(t,i,a,l,h,d,v,S,R,P,$,W,G){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:r2},gy(i),i=a2(),i!==null)){t.cancelPendingCommit=i(My.bind(null,t,a,l,h,v,S,R,1,W,G)),Hi(t,d,v,!P);return}My(t,a,l,h,v,S,R,$,W,G)}function bT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!hn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(t,i,a,l){i&=~jf,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Zt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&rr(t,a,i)}function Ju(){return tt&6?!0:(nl(0),!1)}function Gf(){if(xe!==null){if(Xe===0)var t=xe.return;else t=xe,ki=Is=null,Xh(t),da=null,Lo=0,t=xe;for(;t!==null;)by(t.alternate,t),t=t.return;xe=null}}function Aa(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,HT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Gf(),Ye=t,xe=a=Rr(t.current,null),Ve=i,Xe=0,mn=null,zi=!1,ba=nr(t,i),Pf=!1,wa=On=jf=Os=Ir=ot=0,ai=Wo=null,Uf=!1,i&8&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Zt(l),d=1<<h;i|=t[h],l&=~d}return Bi=i,Su(),a}function Ry(t,i){Re=null,w.H=si,i===ko?(i=Hp(),Xe=3):i===Up?(i=Hp(),Xe=4):Xe=i===zg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,mn=i,xe===null&&(ot=1,Hu(t,An(i,t.current)))}function Iy(){var t=w.H;return w.H=si,t===null?si:t}function xy(){var t=w.A;return w.A=TT,t}function Kf(){ot=4,zi||(Ve&4194176)!==Ve&&In.current!==null||(ba=!0),!(Ir&134217727)&&!(Os&134217727)||Ye===null||Hi(Ye,Ve,On,!1)}function Qf(t,i,a){var l=tt;tt|=2;var h=Iy(),d=xy();(Ye!==t||Ve!==i)&&(Xu=null,Aa(t,i)),i=!1;var v=ot;e:do try{if(Xe!==0&&xe!==null){var S=xe,R=mn;switch(Xe){case 8:Gf(),v=6;break e;case 3:case 2:case 6:In.current===null&&(i=!0);var P=Xe;if(Xe=0,mn=null,Ca(t,S,R,P),a&&ba){v=0;break e}break;default:P=Xe,Xe=0,mn=null,Ca(t,S,R,P)}}wT(),v=ot;break}catch($){Ry(t,$)}while(!0);return i&&t.shellSuspendCounter++,ki=Is=null,tt=l,w.H=h,w.A=d,xe===null&&(Ye=null,Ve=0,Su()),v}function wT(){for(;xe!==null;)Ny(xe)}function AT(t,i){var a=tt;tt|=2;var l=Iy(),h=xy();Ye!==t||Ve!==i?(Xu=null,Yu=rn()+500,Aa(t,i)):ba=nr(t,i);e:do try{if(Xe!==0&&xe!==null){i=xe;var d=mn;t:switch(Xe){case 1:Xe=0,mn=null,Ca(t,i,d,1);break;case 2:if(zp(d)){Xe=0,mn=null,Dy(i);break}i=function(){Xe===2&&Ye===t&&(Xe=7),oi(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:zp(d)?(Xe=0,mn=null,Dy(i)):(Xe=0,mn=null,Ca(t,i,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var S=xe;if(!v||a_(v)){Xe=0,mn=null;var R=S.sibling;if(R!==null)xe=R;else{var P=S.return;P!==null?(xe=P,Wu(P)):xe=null}break t}}Xe=0,mn=null,Ca(t,i,d,5);break;case 6:Xe=0,mn=null,Ca(t,i,d,6);break;case 8:Gf(),ot=6;break e;default:throw Error(s(462))}}CT();break}catch($){Ry(t,$)}while(!0);return ki=Is=null,w.H=l,w.A=h,tt=a,xe!==null?0:(Ye=null,Ve=0,Su(),ot)}function CT(){for(;xe!==null&&!Eh();)Ny(xe)}function Ny(t){var i=Jg(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?Wu(t):xe=i}function Dy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Kg(a,i,i.pendingProps,i.type,void 0,Ve);break;case 11:i=Kg(a,i,i.pendingProps,i.type.render,i.ref,Ve);break;case 5:Xh(i);default:by(a,i),i=xe=Ey(i,Bi),i=Jg(a,i,Bi)}t.memoizedProps=t.pendingProps,i===null?Wu(t):xe=i}function Ca(t,i,a,l){ki=Is=null,Xh(i),da=null,Lo=0;var h=i.return;try{if(mT(t,h,i,a,Ve)){ot=1,Hu(t,An(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ot=1,Hu(t,An(a,t.current)),xe=null;return}i.flags&32768?(He||l===1?t=!0:ba||Ve&536870912?t=!1:(zi=t=!0,(l===2||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(i,t)):Wu(i)}function Wu(t){var i=t;do{if(i.flags&32768){Oy(i,zi);return}t=i.return;var a=vT(i.alternate,i,Bi);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ot===0&&(ot=5)}function Oy(t,i){do{var a=ET(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ot=6,xe=null}function My(t,i,a,l,h,d,v,S,R,P){var $=w.T,W=oe.p;try{oe.p=2,w.T=null,RT(t,i,a,l,W,h,d,v,S,R,P)}finally{w.T=$,oe.p=W}}function RT(t,i,a,l,h,d,v,S){do Ra();while(Ms!==null);if(tt&6)throw Error(s(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=R.lanes|R.childLanes;if(P|=Vh,tu(t,l,P,d,v,S),t===Ye&&(xe=Ye=null,Ve=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Zu||(Zu=!0,Bf=P,Hf=a,DT(vi,function(){return Ra(),null})),a=(R.flags&15990)!==0,R.subtreeFlags&15990||a?(a=w.T,w.T=null,d=oe.p,oe.p=2,v=tt,tt|=4,gT(t,R),dy(R,t),ZE(sd,t.containerInfo),hc=!!rd,sd=rd=null,t.current=R,uy(t,R.alternate,R),lo(),tt=v,oe.p=d,w.T=a):t.current=R,Zu?(Zu=!1,Ms=t,el=l):ky(t,P),P=t.pendingLanes,P===0&&(xr=null),co(R.stateNode),oi(t),i!==null)for(h=t.onRecoverableError,R=0;R<i.length;R++)P=i[R],h(P.value,{componentStack:P.stack});return el&3&&Ra(),P=t.pendingLanes,l&4194218&&P&42?t===qf?tl++:(tl=0,qf=t):tl=0,nl(0),null}function ky(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,jo(i)))}function Ra(){if(Ms!==null){var t=Ms,i=Bf;Bf=0;var a=nu(el),l=w.T,h=oe.p;try{if(oe.p=32>a?32:a,w.T=null,Ms===null)var d=!1;else{a=Hf,Hf=null;var v=Ms,S=el;if(Ms=null,el=0,tt&6)throw Error(s(331));var R=tt;if(tt|=4,_y(v.current),py(v,v.current,S,a),tt=R,nl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(er,v)}catch{}d=!0}return d}finally{oe.p=h,w.T=l,ky(t,i)}}return!1}function Vy(t,i,a){i=An(a,i),i=hf(t.stateNode,i,2),t=br(t,i,2),t!==null&&(ct(t,2),oi(t))}function $e(t,i,a){if(t.tag===3)Vy(t,t,a);else for(;i!==null;){if(i.tag===3){Vy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){t=An(a,t),a=jg(2),l=br(i,a,2),l!==null&&(Ug(a,l,i,t),ct(l,2),oi(l));break}}i=i.return}}function $f(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ST;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Pf=!0,h.add(a),t=IT.bind(null,t,i,a),i.then(t,t))}function IT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ye===t&&(Ve&a)===a&&(ot===4||ot===3&&(Ve&62914560)===Ve&&300>rn()-zf?!(tt&2)&&Aa(t,0):jf|=a,wa===Ve&&(wa=0)),oi(t)}function Ly(t,i){i===0&&(i=ir()),t=pr(t,i),t!==null&&(ct(t,i),oi(t))}function xT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ly(t,a)}function NT(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ly(t,a)}function DT(t,i){return is(t,i)}var ec=null,Ia=null,Yf=!1,tc=!1,Xf=!1,ks=0;function oi(t){t!==Ia&&t.next===null&&(Ia===null?ec=Ia=t:Ia=Ia.next=t),tc=!0,Yf||(Yf=!0,MT(OT))}function nl(t,i){if(!Xf&&tc){Xf=!0;do for(var a=!1,l=ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(v&~S),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Uy(l,d))}else d=Ve,d=_n(l,l===Ye?d:0),!(d&3)||nr(l,d)||(a=!0,Uy(l,d));l=l.next}while(a);Xf=!1}}function OT(){tc=Yf=!1;var t=0;ks!==0&&(BT()&&(t=ks),ks=0);for(var i=rn(),a=null,l=ec;l!==null;){var h=l.next,d=Py(l,i);d===0?(l.next=null,a===null?ec=h:a.next=h,h===null&&(Ia=a)):(a=l,(t!==0||d&3)&&(tc=!0)),l=h}nl(t)}function Py(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Zt(d),S=1<<v,R=h[v];R===-1?(!(S&a)||S&l)&&(h[v]=Ks(S,i)):R<=i&&(t.expiredLanes|=S),d&=~S}if(i=Ye,a=Ve,a=_n(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Xe===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gs(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||nr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Gs(l),nu(a)){case 2:case 8:a=xt;break;case 32:a=vi;break;case 268435456:a=uo;break;default:a=vi}return l=jy.bind(null,t),a=is(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Gs(l),t.callbackPriority=2,t.callbackNode=null,2}function jy(t,i){var a=t.callbackNode;if(Ra()&&t.callbackNode!==a)return null;var l=Ve;return l=_n(t,t===Ye?l:0),l===0?null:(Ay(t,l,i),Py(t,rn()),t.callbackNode!=null&&t.callbackNode===a?jy.bind(null,t):null)}function Uy(t,i){if(Ra())return null;Ay(t,i,!0)}function MT(t){qT(function(){tt&6?is(vt,t):t()})}function Zf(){return ks===0&&(ks=fo()),ks}function zy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xn(""+t)}function By(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function kT(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=zy((h[Et]||null).action),v=l.submitter;v&&(i=(i=v[Et]||null)?zy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Ws("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ks!==0){var R=v?By(h,v):new FormData(h);af(a,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(S.preventDefault(),R=v?By(h,v):new FormData(h),af(a,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Jf=0;Jf<Mp.length;Jf++){var Wf=Mp[Jf],VT=Wf.toLowerCase(),LT=Wf[0].toUpperCase()+Wf.slice(1);Ln(VT,"on"+LT)}Ln(Ip,"onAnimationEnd"),Ln(xp,"onAnimationIteration"),Ln(Np,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(WE,"onTransitionRun"),Ln(eT,"onTransitionStart"),Ln(tT,"onTransitionCancel"),Ln(Dp,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Hy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],R=S.instance,P=S.currentTarget;if(S=S.listener,R!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=P;try{d(h)}catch($){Bu($)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(S=l[v],R=S.instance,P=S.currentTarget,S=S.listener,R!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=P;try{d(h)}catch($){Bu($)}h.currentTarget=null,d=R}}}}function De(t,i){var a=i[ss];a===void 0&&(a=i[ss]=new Set);var l=t+"__bubble";a.has(l)||(qy(i,t,2,!1),a.add(l))}function ed(t,i,a){var l=0;i&&(l|=4),qy(a,t,l,i)}var nc="_reactListening"+Math.random().toString(36).slice(2);function td(t){if(!t[nc]){t[nc]=!0,po.forEach(function(a){a!=="selectionchange"&&(PT.has(a)||ed(a,!1,t),ed(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[nc]||(i[nc]=!0,ed("selectionchange",!1,i))}}function qy(t,i,a,l){switch(f_(i)){case 2:var h=u2;break;case 8:h=c2;break;default:h=md}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function nd(t,i,a,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Vn(S),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}S=S.parentNode}}l=l.return}ou(function(){var P=d,$=Js(a),W=[];e:{var G=Op.get(t);if(G!==void 0){var Q=Ws,fe=t;switch(t){case"keypress":if(Jn(a)===0)break e;case"keydown":case"keyup":Q=sa;break;case"focusin":fe="focus",Q=na;break;case"focusout":fe="blur",Q=na;break;case"beforeblur":case"afterblur":Q=na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=pu;break;case Ip:case xp:case Np:Q=ia;break;case Dp:Q=yu;break;case"scroll":case"scrollend":Q=lu;break;case"wheel":Q=aa;break;case"copy":case"cut":case"paste":Q=ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ro;break;case"toggle":case"beforetoggle":Q=vu}var Te=(i&4)!==0,lt=!Te&&(t==="scroll"||t==="scrollend"),j=Te?G!==null?G+"Capture":null:G;Te=[];for(var M=P,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=cs(M,j),Z!=null&&Te.push(rl(M,Z,q))),lt)break;M=M.return}0<Te.length&&(G=new Q(G,fe,null,a,$),W.push({event:G,listeners:Te}))}}if(!(i&7)){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==Tn&&(fe=a.relatedTarget||a.fromElement)&&(Vn(fe)||fe[Ei]))break e;if((Q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=P,fe=fe?Vn(fe):null,fe!==null&&(lt=ue(fe),Te=fe.tag,fe!==lt||Te!==5&&Te!==27&&Te!==6)&&(fe=null)):(Q=null,fe=P),Q!==fe)){if(Te=bn,Z="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Ro,Z="onPointerLeave",j="onPointerEnter",M="pointer"),lt=Q==null?G:lr(Q),q=fe==null?G:lr(fe),G=new Te(Z,M+"leave",Q,a,$),G.target=lt,G.relatedTarget=q,Z=null,Vn($)===P&&(Te=new Te(j,M+"enter",fe,a,$),Te.target=q,Te.relatedTarget=lt,Z=Te),lt=Z,Q&&fe)t:{for(Te=Q,j=fe,M=0,q=Te;q;q=xa(q))M++;for(q=0,Z=j;Z;Z=xa(Z))q++;for(;0<M-q;)Te=xa(Te),M--;for(;0<q-M;)j=xa(j),q--;for(;M--;){if(Te===j||j!==null&&Te===j.alternate)break t;Te=xa(Te),j=xa(j)}Te=null}else Te=null;Q!==null&&Fy(W,G,Q,Te,!1),fe!==null&&lt!==null&&Fy(W,lt,fe,Te,!0)}}e:{if(G=P?lr(P):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var ce=yp;else if(St(G))if(_p)ce=YE;else{ce=QE;var Ie=KE}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?P&&Eo(P.elementType)&&(ce=yp):ce=$E;if(ce&&(ce=ce(t,P))){Ii(W,ce,a,$);break e}Ie&&Ie(t,G,P),t==="focusout"&&P&&G.type==="number"&&P.memoizedProps.value!=null&&Zs(G,"number",G.value)}switch(Ie=P?lr(P):window,t){case"focusin":(St(Ie)||Ie.contentEditable==="true")&&(oa=Ie,Oh=P,No=null);break;case"focusout":No=Oh=oa=null;break;case"mousedown":Mh=!0;break;case"contextmenu":case"mouseup":case"dragend":Mh=!1,Cp(W,a,$);break;case"selectionchange":if(JE)break;case"keydown":case"keyup":Cp(W,a,$)}var me;if(ti)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Me?K(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Me||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Me&&(me=So()):(Zn=$,mr="value"in Zn?Zn.value:Zn.textContent,Me=!0)),Ie=ic(P,_e),0<Ie.length&&(_e=new Ao(_e,t,null,a,$),W.push({event:_e,listeners:Ie}),me?_e.data=me:(me=ie(a),me!==null&&(_e.data=me)))),(me=g?Tt(t,a):ke(t,a))&&(_e=ic(P,"onBeforeInput"),0<_e.length&&(Ie=new Ao("onBeforeInput","beforeinput",null,a,$),W.push({event:Ie,listeners:_e}),Ie.data=me)),kT(W,t,P,a,$)}Hy(W,i)})}function rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=cs(t,a),h!=null&&l.unshift(rl(t,h,d)),h=cs(t,i),h!=null&&l.push(rl(t,h,d))),t=t.return}return l}function xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,R=S.alternate,P=S.stateNode;if(S=S.tag,R!==null&&R===l)break;S!==5&&S!==26&&S!==27||P===null||(R=P,h?(P=cs(a,d),P!=null&&v.unshift(rl(a,P,R))):h||(P=cs(a,d),P!=null&&v.push(rl(a,P,R)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var jT=/\r\n?/g,UT=/\u0000|\uFFFD/g;function Gy(t){return(typeof t=="string"?t:""+t).replace(jT,`
`).replace(UT,"")}function Ky(t,i){return i=Gy(i),Gy(t)===i}function rc(){}function Qe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":hr(t,"class",l);break;case"tabIndex":hr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(t,a,l);break;case"style":au(t,l,d);break;case"data":if(i!=="object"){hr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Qe(t,i,"name",h.name,h,null),Qe(t,i,"formEncType",h.formEncType,h,null),Qe(t,i,"formMethod",h.formMethod,h,null),Qe(t,i,"formTarget",h.formTarget,h,null)):(Qe(t,i,"encType",h.encType,h,null),Qe(t,i,"method",h.method,h,null),Qe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Xn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=rc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Xn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),cr(t,"popover",l);break;case"xlinkActuate":vn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ah.get(a)||a,cr(t,a,l))}}function id(t,i,a,l,h,d){switch(a){case"style":au(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):cr(t,a,l)}}}function zt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qe(t,i,d,v,a,null)}}h&&Qe(t,i,"srcSet",a.srcSet,a,null),l&&Qe(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var S=d=v=h=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":R=$;break;case"defaultChecked":P=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Qe(t,i,l,$,a,null)}}ls(t,d,S,R,P,v,h,!1),os(t);return;case"select":De("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Qe(t,i,h,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Be(t,!!l,i,!1):a!=null&&Be(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Qe(t,i,v,S,a,null)}dr(t,l,h,d),os(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qe(t,i,R,l,a,null)}return;case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<il.length;l++)De(il[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Qe(t,i,P,l,a,null)}return;default:if(Eo(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&id(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Qe(t,i,S,l,a,null))}function zT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,R=null,P=null,$=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":R=W;default:l.hasOwnProperty(Q)||Qe(t,i,Q,null,l,W)}}for(var G in l){var Q=l[G];if(W=a[G],l.hasOwnProperty(G)&&(Q!=null||W!=null))switch(G){case"type":d=Q;break;case"name":h=Q;break;case"checked":P=Q;break;case"defaultChecked":$=Q;break;case"value":v=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==W&&Qe(t,i,G,Q,l,W)}}fr(t,v,S,R,P,$,d,h);return;case"select":Q=v=S=G=null;for(d in a)if(R=a[d],a.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":Q=R;default:l.hasOwnProperty(d)||Qe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=a[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==R&&Qe(t,i,h,d,l,R)}i=S,a=v,l=Q,G!=null?Be(t,!!a,G,!1):!!l!=!!a&&(i!=null?Be(t,!!a,i,!0):Be(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Qe(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":G=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Qe(t,i,v,h,l,d)}us(t,G,Q);return;case"option":for(var fe in a)if(G=a[fe],a.hasOwnProperty(fe)&&G!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Qe(t,i,fe,null,l,G)}for(R in l)if(G=l[R],Q=a[R],l.hasOwnProperty(R)&&G!==Q&&(G!=null||Q!=null))switch(R){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Qe(t,i,R,G,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)G=a[Te],a.hasOwnProperty(Te)&&G!=null&&!l.hasOwnProperty(Te)&&Qe(t,i,Te,null,l,G);for(P in l)if(G=l[P],Q=a[P],l.hasOwnProperty(P)&&G!==Q&&(G!=null||Q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Qe(t,i,P,G,l,Q)}return;default:if(Eo(i)){for(var lt in a)G=a[lt],a.hasOwnProperty(lt)&&G!==void 0&&!l.hasOwnProperty(lt)&&id(t,i,lt,void 0,l,G);for($ in l)G=l[$],Q=a[$],!l.hasOwnProperty($)||G===Q||G===void 0&&Q===void 0||id(t,i,$,G,l,Q);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&Qe(t,i,j,null,l,G);for(W in l)G=l[W],Q=a[W],!l.hasOwnProperty(W)||G===Q||G==null&&Q==null||Qe(t,i,W,G,l,Q)}var rd=null,sd=null;function sc(t){return t.nodeType===9?t:t.ownerDocument}function Qy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function ad(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var od=null;function BT(){var t=window.event;return t&&t.type==="popstate"?t===od?!1:(od=t,!0):(od=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,HT=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(t){return Xy.resolve(null).then(t).catch(FT)}:Yy;function FT(t){setTimeout(function(){throw t})}function ld(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),fl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);fl(i)}function ud(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ud(a),as(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function GT(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[or])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function KT(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Zy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Jy(t,i,a){switch(i=sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Mn=new Map,Wy=new Set;function ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var qi=oe.d;oe.d={f:QT,r:$T,D:YT,C:XT,L:ZT,m:JT,X:e2,S:WT,M:t2};function QT(){var t=qi.f(),i=Ju();return t||i}function $T(t){var i=Ti(t);i!==null&&i.tag===5&&i.type==="form"?Cg(i):qi.r(t)}var Na=typeof document>"u"?null:document;function e_(t,i,a){var l=Na;if(l&&typeof i=="string"&&i){var h=st(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Wy.has(h)||(Wy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),zt(i,"link",t),We(i),l.head.appendChild(i)))}}function YT(t){qi.D(t),e_("dns-prefetch",t,null)}function XT(t,i){qi.C(t,i),e_("preconnect",t,i)}function ZT(t,i,a){qi.L(t,i,a);var l=Na;if(l&&t&&i){var h='link[rel="preload"][as="'+st(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+st(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+st(a.imageSizes)+'"]')):h+='[href="'+st(t)+'"]';var d=h;switch(i){case"style":d=Da(t);break;case"script":d=Oa(t)}Mn.has(d)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Mn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(sl(d))||i==="script"&&l.querySelector(al(d))||(i=l.createElement("link"),zt(i,"link",t),We(i),l.head.appendChild(i)))}}function JT(t,i){qi.m(t,i);var a=Na;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+st(l)+'"][href="'+st(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oa(t)}if(!Mn.has(d)&&(t=x({rel:"modulepreload",href:t},i),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(d)))return}l=a.createElement("link"),zt(l,"link",t),We(l),a.head.appendChild(l)}}}function WT(t,i,a){qi.S(t,i,a);var l=Na;if(l&&t){var h=ur(l).hoistableStyles,d=Da(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(sl(d)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Mn.get(d))&&cd(t,a);var R=v=l.createElement("link");We(R),zt(R,"link",t),R._p=new Promise(function(P,$){R.onload=P,R.onerror=$}),R.addEventListener("load",function(){S.loading|=1}),R.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function e2(t,i){qi.X(t,i);var a=Na;if(a&&t){var l=ur(a).hoistableScripts,h=Oa(t),d=l.get(h);d||(d=a.querySelector(al(h)),d||(t=x({src:t,async:!0},i),(i=Mn.get(h))&&hd(t,i),d=a.createElement("script"),We(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function t2(t,i){qi.M(t,i);var a=Na;if(a&&t){var l=ur(a).hoistableScripts,h=Oa(t),d=l.get(h);d||(d=a.querySelector(al(h)),d||(t=x({src:t,async:!0,type:"module"},i),(i=Mn.get(h))&&hd(t,i),d=a.createElement("script"),We(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function t_(t,i,a,l){var h=(h=yn.current)?ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Da(a.href),a=ur(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Da(a.href);var d=ur(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||n2(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=ur(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Da(t){return'href="'+st(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function n_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function n2(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),zt(i,"link",a),We(i),t.head.appendChild(i))}function Oa(t){return'[src="'+st(t)+'"]'}function al(t){return"script[async]"+t}function i_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+st(a.href)+'"]');if(l)return i.instance=l,We(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),We(l),zt(l,"style",h),oc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Da(a.href);var d=t.querySelector(sl(h));if(d)return i.state.loading|=4,i.instance=d,We(d),d;l=n_(a),(h=Mn.get(h))&&cd(l,h),d=(t.ownerDocument||t).createElement("link"),We(d);var v=d;return v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),zt(d,"link",l),i.state.loading|=4,oc(d,a.precedence,t),i.instance=d;case"script":return d=Oa(a.src),(h=t.querySelector(al(d)))?(i.instance=h,We(h),h):(l=a,(h=Mn.get(d))&&(l=x({},a),hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),We(h),zt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,oc(l,a.precedence,t));return i.instance}function oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function cd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var lc=null;function r_(t,i,a){if(lc===null){var l=new Map,h=lc=new Map;h.set(a,l)}else h=lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[or]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function s_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function i2(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function a_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var ol=null;function r2(){}function s2(t,i,a){if(ol===null)throw Error(s(475));var l=ol;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=Da(a.href),d=t.querySelector(sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=uc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,We(d);return}d=t.ownerDocument||t,a=n_(a),(h=Mn.get(h))&&cd(a,h),d=d.createElement("link"),We(d);var v=d;v._p=new Promise(function(S,R){v.onload=S,v.onerror=R}),zt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=uc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function a2(){if(ol===null)throw Error(s(475));var t=ol;return t.stylesheets&&t.count===0&&fd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&fd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function uc(){if(this.count--,this.count===0){if(this.stylesheets)fd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var cc=null;function fd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,cc=new Map,i.forEach(o2,t),cc=null,uc.call(t))}function o2(t,i){if(!(i.state.loading&4)){var a=cc.get(t);if(a)var l=a.get(null);else{a=new Map,cc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ll={$$typeof:V,Provider:null,Consumer:null,_currentValue:Ce,_currentValue2:Ce,_threadCount:0};function l2(t,i,a,l,h,d,v,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.hiddenUpdates=Qs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function o_(t,i,a,l,h,d,v,S,R,P,$,W){return t=new l2(t,i,a,v,S,R,P,W),i=1,d===!0&&(i|=24),d=Dn(3,null,null,i),t.current=d,d.stateNode=t,i=qh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},wf(d),t}function l_(t){return t?(t=ca,t):ca}function u_(t,i,a,l,h,d){h=l_(h),l.context===null?l.context=h:l.pendingContext=h,l=Sr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=br(t,l,i),a!==null&&(tn(a,t,i),Go(a,t,i))}function c_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function dd(t,i){c_(t,i),(t=t.alternate)&&c_(t,i)}function h_(t){if(t.tag===13){var i=pr(t,67108864);i!==null&&tn(i,t,67108864),dd(t,67108864)}}var hc=!0;function u2(t,i,a,l){var h=w.T;w.T=null;var d=oe.p;try{oe.p=2,md(t,i,a,l)}finally{oe.p=d,w.T=h}}function c2(t,i,a,l){var h=w.T;w.T=null;var d=oe.p;try{oe.p=8,md(t,i,a,l)}finally{oe.p=d,w.T=h}}function md(t,i,a,l){if(hc){var h=pd(l);if(h===null)nd(t,i,l,fc,a),d_(t,l);else if(f2(h,t,i,a,l))l.stopPropagation();else if(d_(t,l),i&4&&-1<h2.indexOf(t)){for(;h!==null;){var d=Ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=kn(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var R=1<<31-Zt(v);S.entanglements[1]|=R,v&=~R}oi(d),!(tt&6)&&(Yu=rn()+500,nl(0))}}break;case 13:S=pr(d,2),S!==null&&tn(S,d,2),Ju(),dd(d,2)}if(d=pd(l),d===null&&nd(t,i,l,fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else nd(t,i,l,null,a)}}function pd(t){return t=Js(t),gd(t)}var fc=null;function gd(t){if(fc=null,t=Vn(t),t!==null){var i=ue(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ue(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return fc=t,null}function f_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zl()){case vt:return 2;case xt:return 8;case vi:case Jl:return 32;case uo:return 268435456;default:return 32}default:return 32}}var yd=!1,Nr=null,Dr=null,Or=null,ul=new Map,cl=new Map,Mr=[],h2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(t,i){switch(t){case"focusin":case"focusout":Nr=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(i.pointerId)}}function hl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ti(i),i!==null&&h_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function f2(t,i,a,l,h){switch(i){case"focusin":return Nr=hl(Nr,t,i,a,l,h),!0;case"dragenter":return Dr=hl(Dr,t,i,a,l,h),!0;case"mouseover":return Or=hl(Or,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ul.set(d,hl(ul.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,cl.set(d,hl(cl.get(d)||null,t,i,a,l,h)),!0}return!1}function m_(t){var i=Vn(t.target);if(i!==null){var a=ue(i);if(a!==null){if(i=a.tag,i===13){if(i=Ue(a),i!==null){t.blockedOn=i,ar(t.priority,function(){if(a.tag===13){var l=pn(),h=pr(a,l);h!==null&&tn(h,a,l),dd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Tn=l,a.target.dispatchEvent(l),Tn=null}else return i=Ti(a),i!==null&&h_(i),t.blockedOn=a,!1;i.shift()}return!0}function p_(t,i,a){dc(t)&&a.delete(i)}function d2(){yd=!1,Nr!==null&&dc(Nr)&&(Nr=null),Dr!==null&&dc(Dr)&&(Dr=null),Or!==null&&dc(Or)&&(Or=null),ul.forEach(p_),cl.forEach(p_)}function mc(t,i){t.blockedOn===i&&(t.blockedOn=null,yd||(yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,d2)))}var pc=null;function g_(t){pc!==t&&(pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===t&&(pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(gd(l||a)===null)continue;break}var d=Ti(a);d!==null&&(t.splice(i,3),i-=3,af(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function fl(t){function i(R){return mc(R,t)}Nr!==null&&mc(Nr,t),Dr!==null&&mc(Dr,t),Or!==null&&mc(Or,t),ul.forEach(i),cl.forEach(i);for(var a=0;a<Mr.length;a++){var l=Mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mr.length&&(a=Mr[0],a.blockedOn===null);)m_(a),a.blockedOn===null&&Mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Et]||null;if(typeof d=="function")v||g_(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Et]||null)S=v.formAction;else if(gd(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),g_(a)}}}function _d(t){this._internalRoot=t}gc.prototype.render=_d.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();u_(a,l,t,i,null,null)},gc.prototype.unmount=_d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ra(),u_(t.current,2,null,t,null,null),Ju(),i[Ei]=null}};function gc(t){this._internalRoot=t}gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Mr.length&&i!==0&&i<Mr[a].priority;a++);Mr.splice(a,0,t),a===0&&m_(t)}};var y_=e.version;if(y_!=="19.0.0")throw Error(s(527,y_,"19.0.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var m2={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Vn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{er=yc.inject(m2),qt=yc}catch{}}return ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=kg,d=Vg,v=Lg,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=o_(t,1,!1,null,null,a,l,h,d,v,S,null),t[Ei]=i.current,td(t.nodeType===8?t.parentNode:t),new _d(i)},ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=kg,v=Vg,S=Lg,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=o_(t,1,!0,i,a??null,l,h,d,v,S,R,P),i.context=l_(null),a=i.current,l=pn(),h=Sr(l),h.callback=null,br(a,h,l),i.current.lanes=l,ct(i,l),oi(i),t[Ei]=i.current,td(t),new gc(i)},ml.version="19.0.0",ml}var R_;function A2(){if(R_)return Td.exports;R_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Td.exports=w2(),Td.exports}var C2=A2();const R2=h0(C2);var pl={},I_;function I2(){if(I_)return pl;I_=1,Object.defineProperty(pl,"__esModule",{value:!0}),pl.parse=f,pl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,V){const B=new u,H=I.length;if(H<2)return B;const L=(V==null?void 0:V.decode)||T;let Y=0;do{const ne=I.indexOf("=",Y);if(ne===-1)break;const ee=I.indexOf(";",Y),ge=ee===-1?H:ee;if(ne>ge){Y=I.lastIndexOf(";",ne-1)+1;continue}const he=m(I,Y,ne),Ee=p(I,ne,he),O=I.slice(he,Ee);if(B[O]===void 0){let C=m(I,ne+1,ge),w=p(I,ge,C);const x=L(I.slice(C,w));B[O]=x}Y=ge+1}while(Y<H);return B}function m(I,V,B){do{const H=I.charCodeAt(V);if(H!==32&&H!==9)return V}while(++V<B);return B}function p(I,V,B){for(;V>B;){const H=I.charCodeAt(--V);if(H!==32&&H!==9)return V+1}return B}function y(I,V,B){const H=(B==null?void 0:B.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const L=H(V);if(!e.test(L))throw new TypeError(`argument val is invalid: ${V}`);let Y=I+"="+L;if(!B)return Y;if(B.maxAge!==void 0){if(!Number.isInteger(B.maxAge))throw new TypeError(`option maxAge is invalid: ${B.maxAge}`);Y+="; Max-Age="+B.maxAge}if(B.domain){if(!n.test(B.domain))throw new TypeError(`option domain is invalid: ${B.domain}`);Y+="; Domain="+B.domain}if(B.path){if(!s.test(B.path))throw new TypeError(`option path is invalid: ${B.path}`);Y+="; Path="+B.path}if(B.expires){if(!A(B.expires)||!Number.isFinite(B.expires.valueOf()))throw new TypeError(`option expires is invalid: ${B.expires}`);Y+="; Expires="+B.expires.toUTCString()}if(B.httpOnly&&(Y+="; HttpOnly"),B.secure&&(Y+="; Secure"),B.partitioned&&(Y+="; Partitioned"),B.priority)switch(typeof B.priority=="string"?B.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${B.priority}`)}if(B.sameSite)switch(typeof B.sameSite=="string"?B.sameSite.toLowerCase():B.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${B.sameSite}`)}return Y}function T(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function A(I){return o.call(I)==="[object Date]"}return pl}I2();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var x_="popstate";function x2(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return zd("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Nl(o)}return D2(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N2(){return Math.random().toString(36).substring(2,10)}function N_(r,e){return{usr:r.state,key:r.key,idx:e}}function zd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ja(e):e,state:n,key:e&&e.key||s||N2()}}function Nl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ja(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function D2(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function A(){m="POP";let L=T(),Y=L==null?null:L-y;y=L,p&&p({action:m,location:H.location,delta:Y})}function I(L,Y){m="PUSH";let ne=zd(H.location,L,Y);y=T()+1;let ee=N_(ne,y),ge=H.createHref(ne);try{f.pushState(ee,"",ge)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ge)}u&&p&&p({action:m,location:H.location,delta:1})}function V(L,Y){m="REPLACE";let ne=zd(H.location,L,Y);y=T();let ee=N_(ne,y),ge=H.createHref(ne);f.replaceState(ee,"",ge),u&&p&&p({action:m,location:H.location,delta:0})}function B(L){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof L=="string"?L:Nl(L);return ne=ne.replace(/ $/,"%20"),Je(Y,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Y)}let H={get action(){return m},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(x_,A),p=L,()=>{o.removeEventListener(x_,A),p=null}},createHref(L){return e(o,L)},createURL:B,encodeLocation(L){let Y=B(L);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:I,replace:V,go(L){return f.go(L)}};return H}function f0(r,e,n="/"){return O2(r,e,n,!1)}function O2(r,e,n,s){let o=typeof e=="string"?Ja(e):e,u=Yr(o.pathname||"/",n);if(u==null)return null;let f=d0(r);M2(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=F2(u);m=H2(f[p],y,s)}return m}function d0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Qi([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),d0(u.children,e,T,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:z2(y,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of m0(u.path))o(u,f,p)}),e}function m0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=m0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function M2(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:B2(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var k2=/^:[\w-]+$/,V2=3,L2=2,P2=1,j2=10,U2=-2,D_=r=>r==="*";function z2(r,e){let n=r.split("/"),s=n.length;return n.some(D_)&&(s+=U2),e&&(s+=L2),n.filter(o=>!D_(o)).reduce((o,u)=>o+(k2.test(u)?V2:u===""?P2:j2),s)}function B2(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function H2(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=Pc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),I=p.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=Pc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Qi([u,A.pathname]),pathnameBase:$2(Qi([u,A.pathnameBase])),route:I}),A.pathnameBase!=="/"&&(u=Qi([u,A.pathnameBase]))}return f}function Pc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=q2(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:A},I)=>{if(T==="*"){let B=m[I]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const V=m[I];return A&&!V?y[T]=void 0:y[T]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function q2(r,e=!1,n=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function F2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Yr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function G2(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ja(r):r;return{pathname:n?n.startsWith("/")?n:K2(n,e):e,search:Y2(s),hash:X2(o)}}function K2(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ad(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q2(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cm(r){let e=Q2(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Rm(r,e,n,s=!1){let o;typeof r=="string"?o=Ja(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),Ad("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),Ad("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),Ad("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),A-=1;o.pathname=I.join("/")}m=A>=0?e[A]:"/"}let p=G2(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),$2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Y2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,X2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Z2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var p0=["POST","PUT","PATCH","DELETE"];new Set(p0);var J2=["GET",...p0];new Set(J2);var Wa=F.createContext(null);Wa.displayName="DataRouter";var Wc=F.createContext(null);Wc.displayName="DataRouterState";var g0=F.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var W2=F.createContext(new Map);W2.displayName="Fetchers";var eS=F.createContext(null);eS.displayName="Await";var qn=F.createContext(null);qn.displayName="Navigation";var zl=F.createContext(null);zl.displayName="Location";var Fn=F.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var Im=F.createContext(null);Im.displayName="RouteError";function tS(r,{relative:e}={}){Je(eo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(qn),{hash:o,pathname:u,search:f}=Bl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function eo(){return F.useContext(zl)!=null}function gi(){return Je(eo(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(zl).location}var y0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _0(r){F.useContext(qn).static||F.useLayoutEffect(r)}function eh(){let{isDataRoute:r}=F.useContext(Fn);return r?gS():nS()}function nS(){Je(eo(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(Wa),{basename:e,navigator:n}=F.useContext(qn),{matches:s}=F.useContext(Fn),{pathname:o}=gi(),u=JSON.stringify(Cm(s)),f=F.useRef(!1);return _0(()=>{f.current=!0}),F.useCallback((p,y={})=>{if(Bn(f.current,y0),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=Rm(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Qi([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,r])}var iS=F.createContext(null);function rS(r){let e=F.useContext(Fn).outlet;return e&&F.createElement(iS.Provider,{value:r},e)}function Bl(r,{relative:e}={}){let{matches:n}=F.useContext(Fn),{pathname:s}=gi(),o=JSON.stringify(Cm(n));return F.useMemo(()=>Rm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function sS(r,e){return v0(r,e)}function v0(r,e,n,s){var ne;Je(eo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(qn),{matches:f}=F.useContext(Fn),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",A=m&&m.route;{let ee=A&&A.path||"";E0(y,!A||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let I=gi(),V;if(e){let ee=typeof e=="string"?Ja(e):e;Je(T==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),V=ee}else V=I;let B=V.pathname||"/",H=B;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");H="/"+B.replace(/^\//,"").split("/").slice(ee.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:f0(r,{pathname:H});Bn(A||L!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Bn(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=cS(L&&L.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:Qi([T,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:Qi([T,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Y?F.createElement(zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},Y):Y}function aS(){let r=pS(),e=Z2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var oS=F.createElement(aS,null),lS=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(Fn.Provider,{value:this.props.routeContext},F.createElement(Im.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uS({routeContext:r,match:e,children:n}){let s=F.useContext(Wa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(Fn.Provider,{value:r},n)}function cS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:A}=n,I=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||I){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let A,I=!1,V=null,B=null;n&&(A=u&&y.route.id?u[y.route.id]:void 0,V=y.route.errorElement||oS,f&&(m<0&&T===0?(E0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,B=null):m===T&&(I=!0,B=y.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,T+1)),L=()=>{let Y;return A?Y=V:I?Y=B:y.route.Component?Y=F.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=p,F.createElement(uS,{match:y,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?F.createElement(lS,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:L(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):L()},null)}function xm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hS(r){let e=F.useContext(Wa);return Je(e,xm(r)),e}function fS(r){let e=F.useContext(Wc);return Je(e,xm(r)),e}function dS(r){let e=F.useContext(Fn);return Je(e,xm(r)),e}function Nm(r){let e=dS(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function mS(){return Nm("useRouteId")}function pS(){var s;let r=F.useContext(Im),e=fS("useRouteError"),n=Nm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function gS(){let{router:r}=hS("useNavigate"),e=Nm("useNavigate"),n=F.useRef(!1);return _0(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Bn(n.current,y0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var O_={};function E0(r,e,n){!e&&!O_[r]&&(O_[r]=!0,Bn(!1,n))}F.memo(yS);function yS({routes:r,future:e,state:n}){return v0(r,void 0,n,e)}function T0({to:r,replace:e,state:n,relative:s}){Je(eo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=F.useContext(qn);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=F.useContext(Fn),{pathname:f}=gi(),m=eh(),p=Rm(r,Cm(u),f,s==="path"),y=JSON.stringify(p);return F.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function _S(r){return rS(r.context)}function gn(r){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Je(!eo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ja(n));let{pathname:p="/",search:y="",hash:T="",state:A=null,key:I="default"}=n,V=F.useMemo(()=>{let B=Yr(p,f);return B==null?null:{location:{pathname:B,search:y,hash:T,state:A,key:I},navigationType:s}},[f,p,y,T,A,I,s]);return Bn(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:F.createElement(qn.Provider,{value:m},F.createElement(zl.Provider,{children:e,value:V}))}function S0({children:r,location:e}){return sS(Bd(r),e)}function Bd(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,Bd(s.props.children,u));return}Je(s.type===gn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Bd(s.props.children,u)),n.push(f)}),n}var Ac="get",Cc="application/x-www-form-urlencoded";function th(r){return r!=null&&typeof r.tagName=="string"}function ES(r){return th(r)&&r.tagName.toLowerCase()==="button"}function TS(r){return th(r)&&r.tagName.toLowerCase()==="form"}function SS(r){return th(r)&&r.tagName.toLowerCase()==="input"}function bS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wS(r,e){return r.button===0&&(!e||e==="_self")&&!bS(r)}var _c=null;function AS(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var CS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cd(r){return r!=null&&!CS.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Cc}"`),null):r}function RS(r,e){let n,s,o,u,f;if(TS(r)){let m=r.getAttribute("action");s=m?Yr(m,e):null,n=r.getAttribute("method")||Ac,o=Cd(r.getAttribute("enctype"))||Cc,u=new FormData(r)}else if(ES(r)||SS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Yr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Ac,o=Cd(r.getAttribute("formenctype"))||Cd(m.getAttribute("enctype"))||Cc,u=new FormData(m,r),!AS()){let{name:y,type:T,value:A}=r;if(T==="image"){let I=y?`${y}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else y&&u.append(y,A)}}else{if(th(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ac,s=null,o=Cc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Dm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function IS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function NS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await IS(u,n);return f.links?f.links():[]}return[]}));return kS(s.flat(1).filter(xS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function M_(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var T;return n[y].pathname!==p.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var A;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function DS(r,e){return OS(r.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let o=[s.module];return s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function OS(r){return[...new Set(r)]}function MS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function kS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(MS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function VS(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function LS(){let r=F.useContext(Wa);return Dm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function PS(){let r=F.useContext(Wc);return Dm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Om=F.createContext(void 0);Om.displayName="FrameworkContext";function b0(){let r=F.useContext(Om);return Dm(r,"You must render this element inside a <HydratedRouter> element"),r}function jS(r,e){let n=F.useContext(Om),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:A}=e,I=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let H=Y=>{Y.forEach(ne=>{f(ne.isIntersecting)})},L=new IntersectionObserver(H,{threshold:.5});return I.current&&L.observe(I.current),()=>{L.disconnect()}}},[r]),F.useEffect(()=>{if(s){let H=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(H)}}},[s]);let V=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:gl(m,V),onBlur:gl(p,B),onMouseEnter:gl(y,V),onMouseLeave:gl(T,B),onTouchStart:gl(A,V)}]:[!1,I,{}]}function gl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function US({page:r,...e}){let{router:n}=LS(),s=F.useMemo(()=>f0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(BS,{page:r,matches:s,...e}):null}function zS(r){let{manifest:e,routeModules:n}=b0(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return NS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function BS({page:r,matches:e,...n}){let s=gi(),{manifest:o,routeModules:u}=b0(),{loaderData:f,matches:m}=PS(),p=F.useMemo(()=>M_(r,e,m,o,s,"data"),[r,e,m,o,s]),y=F.useMemo(()=>M_(r,e,m,o,s,"assets"),[r,e,m,o,s]),T=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,B=!1;if(e.forEach(L=>{var ne;let Y=o.routes[L.route.id];!Y||!Y.hasLoader||(!p.some(ee=>ee.route.id===L.route.id)&&L.route.id in f&&((ne=u[L.route.id])!=null&&ne.shouldRevalidate)||Y.hasClientLoader?B=!0:V.add(L.route.id))}),V.size===0)return[];let H=VS(r);return B&&V.size>0&&H.searchParams.set("_routes",e.filter(L=>V.has(L.route.id)).map(L=>L.route.id).join(",")),[H.pathname+H.search]},[f,s,o,p,e,r,u]),A=F.useMemo(()=>DS(y,o),[y,o]),I=zS(y);return F.createElement(F.Fragment,null,T.map(V=>F.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),A.map(V=>F.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),I.map(({key:V,link:B})=>F.createElement("link",{key:V,...B})))}function HS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w0&&(window.__reactRouterVersion="7.1.5")}catch{}function qS({basename:r,children:e,window:n}){let s=F.useRef();s.current==null&&(s.current=x2({window:n,v5Compat:!0}));let o=s.current,[u,f]=F.useState({action:o.action,location:o.location}),m=F.useCallback(p=>{F.startTransition(()=>f(p))},[f]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(vS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var A0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:T,viewTransition:A,...I},V){let{basename:B}=F.useContext(qn),H=typeof y=="string"&&A0.test(y),L,Y=!1;if(typeof y=="string"&&H&&(L=y,w0))try{let w=new URL(window.location.href),x=y.startsWith("//")?new URL(w.protocol+y):new URL(y),k=Yr(x.pathname,B);x.origin===w.origin&&k!=null?y=k+x.search+x.hash:Y=!0}catch{Bn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=tS(y,{relative:o}),[ee,ge,he]=jS(s,I),Ee=QS(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:A});function O(w){e&&e(w),w.defaultPrevented||Ee(w)}let C=F.createElement("a",{...I,...he,href:L||ne,onClick:Y||u?e:O,ref:HS(V,ge),target:p,"data-discover":!H&&n==="render"?"true":void 0});return ee&&!H?F.createElement(F.Fragment,null,C,F.createElement(US,{page:ne})):C});At.displayName="Link";var FS=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},T){let A=Bl(f,{relative:y.relative}),I=gi(),V=F.useContext(Wc),{navigator:B,basename:H}=F.useContext(qn),L=V!=null&&JS(A)&&m===!0,Y=B.encodeLocation?B.encodeLocation(A).pathname:A.pathname,ne=I.pathname,ee=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&H&&(ee=Yr(ee,H)||ee);const ge=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let he=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(ge)==="/",Ee=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),O={isActive:he,isPending:Ee,isTransitioning:L},C=he?e:void 0,w;typeof s=="function"?w=s(O):w=[s,he?"active":null,Ee?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return F.createElement(At,{...y,"aria-current":C,className:w,ref:T,style:x,to:f,viewTransition:m},typeof p=="function"?p(O):p)});FS.displayName="NavLink";var GS=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Ac,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:A,...I},V)=>{let B=XS(),H=ZS(m,{relative:y}),L=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&A0.test(m),ne=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ge=ee.nativeEvent.submitter,he=(ge==null?void 0:ge.getAttribute("formmethod"))||f;B(ge||ee.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:A})};return F.createElement("form",{ref:V,method:L,action:H,onSubmit:s?p:ne,...I,"data-discover":!Y&&r==="render"?"true":void 0})});GS.displayName="Form";function KS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C0(r){let e=F.useContext(Wa);return Je(e,KS(r)),e}function QS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=eh(),p=gi(),y=Bl(r,{relative:u});return F.useCallback(T=>{if(wS(T,e)){T.preventDefault();let A=n!==void 0?n:Nl(p)===Nl(y);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var $S=0,YS=()=>`__${String(++$S)}__`;function XS(){let{router:r}=C0("useSubmit"),{basename:e}=F.useContext(qn),n=mS();return F.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=RS(s,e);if(o.navigate===!1){let T=o.fetcherKey||YS();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function ZS(r,{relative:e}={}){let{basename:n}=F.useContext(qn),s=F.useContext(Fn);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Bl(r||".",{relative:e})},f=gi();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qi([n,u.pathname])),Nl(u)}function JS(r,e={}){let n=F.useContext(g0);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=C0("useViewTransitionState"),o=Bl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Yr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Yr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Pc(o.pathname,f)!=null||Pc(o.pathname,u)!=null}new TextEncoder;const R0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M12.0004 15L12.0004 22M8.00043 7.30813V9.43875C8.00043 9.64677 8.00043 9.75078 7.98001 9.85026C7.9619 9.93852 7.93194 10.0239 7.89095 10.1042C7.84474 10.1946 7.77977 10.2758 7.64982 10.4383L6.08004 12.4005C5.4143 13.2327 5.08143 13.6487 5.08106 13.9989C5.08073 14.3035 5.21919 14.5916 5.4572 14.7815C5.73088 15 6.26373 15 7.32943 15H16.6714C17.7371 15 18.27 15 18.5437 14.7815C18.7817 14.5916 18.9201 14.3035 18.9198 13.9989C18.9194 13.6487 18.5866 13.2327 17.9208 12.4005L16.351 10.4383C16.2211 10.2758 16.1561 10.1946 16.1099 10.1042C16.0689 10.0239 16.039 9.93852 16.0208 9.85026C16.0004 9.75078 16.0004 9.64677 16.0004 9.43875V7.30813C16.0004 7.19301 16.0004 7.13544 16.0069 7.07868C16.0127 7.02825 16.0223 6.97833 16.0357 6.92937C16.0507 6.87424 16.0721 6.8208 16.1149 6.71391L17.1227 4.19423C17.4168 3.45914 17.5638 3.09159 17.5025 2.79655C17.4489 2.53853 17.2956 2.31211 17.0759 2.1665C16.8247 2 16.4289 2 15.6372 2H8.36368C7.57197 2 7.17611 2 6.92494 2.1665C6.70529 2.31211 6.55199 2.53853 6.49838 2.79655C6.43707 3.09159 6.58408 3.45914 6.87812 4.19423L7.88599 6.71391C7.92875 6.8208 7.95013 6.87424 7.96517 6.92937C7.97853 6.97833 7.98814 7.02825 7.99392 7.07868C8.00043 7.13544 8.00043 7.19301 8.00043 7.30813Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),WS=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fillRule:"evenodd",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",transform:"matrix(0 -1 1 0 2.5 15.5)",children:[E.jsx("path",{d:"m0 5.82842712v7.17157288c0 1.1045695.8954305 2 2 2h6c1.1045695 0 2-.8954305 2-2v-7.17157288c0-.53043297-.21071368-1.0391408-.58578644-1.41421356l-3.70710678-3.70710678c-.39052429-.39052429-1.02368927-.39052429-1.41421356 0l-3.70710678 3.70710678c-.37507276.37507276-.58578644.88378059-.58578644 1.41421356z"}),E.jsxs("g",{transform:"matrix(0 1 -1 0 14 4)",children:[E.jsx("path",{d:"m3 11 4-4"}),E.jsx("path",{d:"m3 7 4 4"})]})]})}),Hd=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M21 18L19.9999 19.094C19.4695 19.6741 18.7502 20 18.0002 20C17.2501 20 16.5308 19.6741 16.0004 19.094C15.4693 18.5151 14.75 18.1901 14.0002 18.1901C13.2504 18.1901 12.5312 18.5151 12 19.094M3.00003 20H4.67457C5.16376 20 5.40835 20 5.63852 19.9447C5.84259 19.8957 6.03768 19.8149 6.21663 19.7053C6.41846 19.5816 6.59141 19.4086 6.93732 19.0627L19.5001 6.49998C20.3285 5.67156 20.3285 4.32841 19.5001 3.49998C18.6716 2.67156 17.3285 2.67156 16.5001 3.49998L3.93729 16.0627C3.59139 16.4086 3.41843 16.5816 3.29475 16.7834C3.18509 16.9624 3.10428 17.1574 3.05529 17.3615C3.00003 17.5917 3.00003 17.8363 3.00003 18.3255V20Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),I0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M9 10H15M19 21V7.8C19 6.11984 19 5.27976 18.673 4.63803C18.3854 4.07354 17.9265 3.6146 17.362 3.32698C16.7202 3 15.8802 3 14.2 3H9.8C8.11984 3 7.27976 3 6.63803 3.32698C6.07354 3.6146 5.6146 4.07354 5.32698 4.63803C5 5.27976 5 6.11984 5 7.8V21L12 17L19 21Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),x0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M9 9L15 15M15 9L9 15M7.8 21H16.2C17.8802 21 18.7202 21 19.362 20.673C19.9265 20.3854 20.3854 19.9265 20.673 19.362C21 18.7202 21 17.8802 21 16.2V7.8C21 6.11984 21 5.27976 20.673 4.63803C20.3854 4.07354 19.9265 3.6146 19.362 3.32698C18.7202 3 17.8802 3 16.2 3H7.8C6.11984 3 5.27976 3 4.63803 3.32698C4.07354 3.6146 3.6146 4.07354 3.32698 4.63803C3 5.27976 3 6.11984 3 7.8V16.2C3 17.8802 3 18.7202 3.32698 19.362C3.6146 19.9265 4.07354 20.3854 4.63803 20.673C5.27976 21 6.11984 21 7.8 21Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),N0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M15 9L9 15M9 9L15 15M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),qd=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(3 3)",children:[E.jsx("path",{d:"m7.5.5c.35132769 0 .69661025.02588228 1.03404495.07584411l.50785434 1.53911115c.44544792.12730646.86820077.30839026 1.26078721.53578009l1.4600028-.70360861c.5166435.39719686.9762801.86487779 1.3645249 1.388658l-.7293289 1.44720284c.2201691.39604534.3936959.82158734.5131582 1.2692035l1.5298263.5338186c.0390082.29913986.0591302.60421522.0591302.91399032 0 .35132769-.0258823.69661025-.0758441 1.03404495l-1.5391112.50785434c-.1273064.44544792-.3083902.86820077-.5357801 1.26078721l.7036087 1.4600028c-.3971969.5166435-.8648778.9762801-1.388658 1.3645249l-1.4472029-.7293289c-.39604532.2201691-.82158732.3936959-1.26920348.5131582l-.5338186 1.5298263c-.29913986.0390082-.60421522.0591302-.91399032.0591302-.35132769 0-.69661025-.0258823-1.03404495-.0758441l-.50785434-1.5391112c-.44544792-.1273064-.86820077-.3083902-1.26078723-.5357801l-1.46000277.7036087c-.51664349-.3971969-.97628006-.8648778-1.36452491-1.388658l.72932886-1.4472029c-.2203328-.39633993-.39395403-.82222042-.51342462-1.27020241l-1.52968981-.53381682c-.03892294-.29882066-.05900023-.60356226-.05900023-.91299317 0-.35132769.02588228-.69661025.07584411-1.03404495l1.53911115-.50785434c.12730646-.44544792.30839026-.86820077.53578009-1.26078723l-.70360861-1.46000277c.39719686-.51664349.86487779-.97628006 1.388658-1.36452491l1.44720284.72932886c.39633995-.2203328.82222044-.39395403 1.27020243-.51342462l.53381682-1.52968981c.29882066-.03892294.60356226-.05900023.91299317-.05900023z",strokeWidth:n}),E.jsx("circle",{cx:"7.5",cy:"7.5",r:"3"})]})}),D0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:n,transform:"translate(3 3)",children:[E.jsx("path",{d:"m5.5 9.5 4-4 4 4",transform:"matrix(0 1 -1 0 17 -2)"}),E.jsx("path",{d:"m11.5 7.5h-11"}),E.jsx("path",{d:"m14.5.5v14"})]})}),Fd=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:n,transform:"translate(1 1)",children:[E.jsx("path",{d:"m.5 9.5 9-9 9 9"}),E.jsx("path",{d:"m2.5 7.5v8c0 .5522847.44771525 1 1 1h3c.55228475 0 1-.4477153 1-1v-4c0-.5522847.44771525-1 1-1h2c.5522847 0 1 .4477153 1 1v4c0 .5522847.4477153 1 1 1h3c.5522847 0 1-.4477153 1-1v-8"})]})}),O0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M12 13V7M9 10H15M19 21V7.8C19 6.11984 19 5.27976 18.673 4.63803C18.3854 4.07354 17.9265 3.6146 17.362 3.32698C16.7202 3 15.8802 3 14.2 3H9.8C8.11984 3 7.27976 3 6.63803 3.32698C6.07354 3.6146 5.6146 4.07354 5.32698 4.63803C5 5.27976 5 6.11984 5 7.8V21L12 17L19 21Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),Gd=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:n,transform:"translate(4 3)",children:[E.jsx("path",{d:"M3.5 1.5c-.441-.0002-1.039-.0044-1.998-.005-.513-.0012-.936.3838-.995.881l-.007.119v10.998c.001.552.448 1 1 1l10 .006c.513.001.936-.384.994-.882l.006-.117v-11c0-.552-.448-1-1-1-.87-.0004-1.565.0002-2 0"}),E.jsx("path",{d:"M4.5.5h4c.552 0 1 .448 1 1s-.448 1-1 1h-4c-.552 0-1-.448-1-1s.448-1 1-1z"}),E.jsx("path",{d:"M2.5 5.5h5"}),E.jsx("path",{d:"M2.5 7.5h7"}),E.jsx("path",{d:"M2.5 9.5h3"}),E.jsx("path",{d:"M2.5 11.5h6"})]})}),Kd=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:n,transform:"translate(4 3)",children:[E.jsx("path",{d:"m3.5 1.5c-.42139382 0-1.08806048 0-2 0-.55228475 0-1 .44771525-1 1v11c0 .5522848.44771525 1 1 1h10c.5522847 0 1-.4477152 1-1v-11c0-.55228475-.4477153-1-1-1-.8888889 0-1.55555556 0-2 0"}),E.jsx("path",{d:"m4.5.5h4c.55228475 0 1 .44771525 1 1s-.44771525 1-1 1h-4c-.55228475 0-1-.44771525-1-1s.44771525-1 1-1z"}),E.jsx("path",{d:"m3.5 8.5 2 2 5-5"})]})}),M0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:n,transform:"matrix(0 1 -1 0 17.5 3.5)",children:[E.jsx("path",{d:"m3 7 4 4 4-4"}),E.jsx("path",{d:"m7 0v11"}),E.jsx("path",{d:"m0 14h14"})]})}),Qd=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"m2.49999919 3.5h10.00000001c1.1045695 0 2 .8954305 2 2v5c0 1.1045695-.8954305 2-2 2h-10.00000001c-1.1045695 0-2-.8954305-2-2v-5c0-1.1045695.8954305-2 2-2zm4.00000081-3h2c1.1045695 0 2 .8954305 2 2v1h-6v-1c0-1.1045695.8954305-2 2-2z",fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:n,transform:"translate(3 4)"})}),k0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M2.42012 12.7132C2.28394 12.4975 2.21584 12.3897 2.17772 12.2234C2.14909 12.0985 2.14909 11.9015 2.17772 11.7766C2.21584 11.6103 2.28394 11.5025 2.42012 11.2868C3.54553 9.50484 6.8954 5 12.0004 5C17.1054 5 20.4553 9.50484 21.5807 11.2868C21.7169 11.5025 21.785 11.6103 21.8231 11.7766C21.8517 11.9015 21.8517 12.0985 21.8231 12.2234C21.785 12.3897 21.7169 12.4975 21.5807 12.7132C20.4553 14.4952 17.1054 19 12.0004 19C6.8954 19 3.54553 14.4952 2.42012 12.7132Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M12.0004 15C13.6573 15 15.0004 13.6569 15.0004 12C15.0004 10.3431 13.6573 9 12.0004 9C10.3435 9 9.0004 10.3431 9.0004 12C9.0004 13.6569 10.3435 15 12.0004 15Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})]}),yl=({stroke:r="white",fill:e="red",strokeWidth:n=2})=>E.jsx("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:e,stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(2 2)",children:[E.jsx("circle",{cx:"8.5",cy:"8.5",r:"8"}),E.jsxs("g",{transform:"matrix(0 1 -1 0 17 0)",children:[E.jsx("path",{d:"M5.5 11.5l6-6"}),E.jsx("path",{d:"M5.5 5.5l6 6"})]})]})}),V0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M2 12C2 8.68629 4.68629 6 8 6H16C19.3137 6 22 8.68629 22 12C22 15.3137 19.3137 18 16 18H8C4.68629 18 2 15.3137 2 12Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M16 14.5C17.3807 14.5 18.5 13.3807 18.5 12C18.5 10.6193 17.3807 9.5 16 9.5C14.6193 9.5 13.5 10.6193 13.5 12C13.5 13.3807 14.6193 14.5 16 14.5Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})]}),L0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M10.7429 5.09232C11.1494 5.03223 11.5686 5 12.0004 5C17.1054 5 20.4553 9.50484 21.5807 11.2868C21.7169 11.5025 21.785 11.6103 21.8231 11.7767C21.8518 11.9016 21.8517 12.0987 21.8231 12.2236C21.7849 12.3899 21.7164 12.4985 21.5792 12.7156C21.2793 13.1901 20.8222 13.8571 20.2165 14.5805M6.72432 6.71504C4.56225 8.1817 3.09445 10.2194 2.42111 11.2853C2.28428 11.5019 2.21587 11.6102 2.17774 11.7765C2.1491 11.9014 2.14909 12.0984 2.17771 12.2234C2.21583 12.3897 2.28393 12.4975 2.42013 12.7132C3.54554 14.4952 6.89541 19 12.0004 19C14.0588 19 15.8319 18.2676 17.2888 17.2766M3.00042 3L21.0004 21M9.8791 9.87868C9.3362 10.4216 9.00042 11.1716 9.00042 12C9.00042 13.6569 10.3436 15 12.0004 15C12.8288 15 13.5788 14.6642 14.1217 14.1213",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M12.0004 15C13.6573 15 15.0004 13.6569 15.0004 12C15.0004 10.3431 13.6573 9 12.0004 9C10.3435 9 9.0004 10.3431 9.0004 12C9.0004 13.6569 10.3435 15 12.0004 15Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})]}),_l=({stroke:r="white",fill:e="var(--enfasis1)",strokeWidth:n=2})=>E.jsx("svg",{width:"21",height:"21",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:e,stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(2 2)",children:[E.jsx("circle",{cx:"8.5",cy:"8.5",r:"8",fill:e}),E.jsx("path",{d:"M5.5 9.5l2 2 5-5",fill:"none",stroke:r})]})}),$d=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:n,transform:"translate(1 2)",children:[E.jsx("path",{d:"m7.5.5c1.65685425 0 3 1.34314575 3 3v2c0 1.65685425-1.34314575 3-3 3s-3-1.34314575-3-3v-2c0-1.65685425 1.34314575-3 3-3zm7 14v-.7281753c0-3.1864098-3.6862915-5.2718247-7-5.2718247s-7 2.0854149-7 5.2718247v.7281753c0 .5522847.44771525 1 1 1h12c.5522847 0 1-.4477153 1-1z"}),E.jsx("path",{d:"m11.5199327.67783074c1.1547685.41741154 1.9800673 1.52341097 1.9800673 2.82216926v1c0 1.29707884-.8475766 2.5813505-2 3 .6742649-.91876977 1.0109204-2.0857069 1.0099664-3.50081137s-.3309652-2.52222377-.9900337-3.32135789zm4.9800673 14.82216926h1c.5522847 0 1-.4477153 1-1 0-.2427251 0-.4854502 0-.7281753 0-2.1698712-1.7094418-3.82917861-3.8465775-4.66705336 0 0 2.8465775 2.39522866 1.8465775 6.39522866z",fill:"currentColor"})]})}),Yd=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(4 3)",children:[E.jsx("path",{d:"m10.595 10.5 2.905-3-2.905-3",strokeWidth:n}),E.jsx("path",{d:"m13.5 7.5h-9",strokeWidth:n}),E.jsx("path",{d:"m10.5.5-8 .002c-1.104.001-1.999.896-2 2v9.994c0 1.105.895 2 2 2h8.095",strokeWidth:n})]})}),P0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M2 12C2 8.68629 4.68629 6 8 6H16C19.3137 6 22 8.68629 22 12C22 15.3137 19.3137 18 16 18H8C4.68629 18 2 15.3137 2 12Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M8 14.5C9.38071 14.5 10.5 13.3807 10.5 12C10.5 10.6193 9.38071 9.5 8 9.5C6.61929 9.5 5.5 10.6193 5.5 12C5.5 13.3807 6.61929 14.5 8 14.5Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})]}),Xd=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 21 21",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsxs("g",{fill:"none",stroke:r,strokeLinecap:"round",strokeLinejoin:"round",transform:"translate(2 2)",children:[E.jsx("circle",{cx:"8.5",cy:"8.5",r:"8",strokeWidth:n}),E.jsx("path",{d:"m14.5 13.5c-.6615287-2.2735217-3.1995581-3.0251263-6-3.0251263-2.72749327 0-5.27073171.8688092-6 3.0251263",strokeWidth:n}),E.jsx("path",{d:"m8.5 2.5c1.6568542 0 3 1.34314575 3 3v2c0 1.65685425-1.3431458 3-3 3-1.65685425 0-3-1.34314575-3-3v-2c0-1.65685425 1.34314575-3 3-3z",strokeWidth:n})]})}),eb=()=>E.jsxs("div",{className:"setsize",children:[E.jsx(R0,{}),E.jsx(WS,{}),E.jsx(Hd,{}),E.jsx(x0,{}),E.jsx(N0,{}),E.jsx(qd,{}),E.jsx(D0,{}),E.jsx(Hd,{}),E.jsx(I0,{}),E.jsx(Fd,{}),E.jsx(O0,{}),E.jsx(Gd,{}),E.jsx(Kd,{}),E.jsx(M0,{}),E.jsx(Qd,{}),E.jsx(k0,{}),E.jsx(yl,{}),E.jsx(V0,{}),E.jsx(L0,{}),E.jsx(_l,{}),E.jsx($d,{}),E.jsx(Yd,{}),E.jsx(P0,{}),E.jsx(Xd,{})]});var k_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},tb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let I=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(I=64)),s.push(n[T],n[A],n[I],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(j0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):tb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new nb;const I=u<<2|m>>4;if(s.push(I),y!==64){const V=m<<4&240|y>>2;if(s.push(V),A!==64){const B=y<<6&192|A;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ib=function(r){const e=j0(r);return U0.encodeByteArray(e,!0)},jc=function(r){return ib(r).replace(/\./g,"")},z0=function(r){try{return U0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=()=>rb().__FIREBASE_DEFAULTS__,ab=()=>{if(typeof process>"u"||typeof k_>"u")return;const r=k_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ob=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&z0(r[1]);return e&&JSON.parse(e)},nh=()=>{try{return sb()||ab()||ob()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},B0=r=>{var e,n;return(n=(e=nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},lb=r=>{const e=B0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},H0=()=>{var r;return(r=nh())===null||r===void 0?void 0:r.config},q0=r=>{var e;return(e=nh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[jc(JSON.stringify(n)),jc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function fb(){var r;const e=(r=nh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function db(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function pb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gb(){const r=Yt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function yb(){return!fb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _b(){try{return typeof indexedDB=="object"}catch{return!1}}function vb(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Eb,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Tb(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zi(o,m,s)}}function Tb(r,e){return r.replace(Sb,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Sb=/\{\$([^}]+)}/g;function bb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Uc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(V_(u)&&V_(f)){if(!Uc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function V_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function El(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function wb(r,e){const n=new Ab(r,e);return n.subscribe.bind(n)}class Ab{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Cb(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Rd),o.error===void 0&&(o.error=Rd),o.complete===void 0&&(o.complete=Rd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Cb(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Rd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(r){return r&&r._delegate?r._delegate:r}class js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ub;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xb(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ib(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ib(r){return r===Vs?void 0:r}function xb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const Db={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},Ob=Ne.INFO,Mb={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},kb=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Mb[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=Ob,this._logHandler=kb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Db[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const Vb=(r,e)=>e.some(n=>r instanceof n);let L_,P_;function Lb(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Pb(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,Zd=new WeakMap,G0=new WeakMap,Id=new WeakMap,km=new WeakMap;function jb(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Hr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&F0.set(n,r)}).catch(()=>{}),km.set(e,r),e}function Ub(r){if(Zd.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Zd.set(r,e)}let Jd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Zd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||G0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function zb(r){Jd=r(Jd)}function Bb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(xd(this),e,...n);return G0.set(s,e.sort?e.sort():[e]),Hr(s)}:Pb().includes(r)?function(...e){return r.apply(xd(this),e),Hr(F0.get(this))}:function(...e){return Hr(r.apply(xd(this),e))}}function Hb(r){return typeof r=="function"?Bb(r):(r instanceof IDBTransaction&&Ub(r),Vb(r,Lb())?new Proxy(r,Jd):r)}function Hr(r){if(r instanceof IDBRequest)return jb(r);if(Id.has(r))return Id.get(r);const e=Hb(r);return e!==r&&(Id.set(r,e),km.set(e,r)),e}const xd=r=>km.get(r);function qb(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Hr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Hr(f.result),p.oldVersion,p.newVersion,Hr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Fb=["get","getKey","getAll","getAllKeys","count"],Gb=["put","add","delete","clear"],Nd=new Map;function j_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nd.get(e))return Nd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Gb.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Fb.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Nd.set(e,u),u}zb(r=>({...r,get:(e,n,s)=>j_(e,n)||r.get(e,n,s),has:(e,n)=>!!j_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Qb(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wd="@firebase/app",U_="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new Mm("@firebase/app"),$b="@firebase/app-compat",Yb="@firebase/analytics-compat",Xb="@firebase/analytics",Zb="@firebase/app-check-compat",Jb="@firebase/app-check",Wb="@firebase/auth",ew="@firebase/auth-compat",tw="@firebase/database",nw="@firebase/data-connect",iw="@firebase/database-compat",rw="@firebase/functions",sw="@firebase/functions-compat",aw="@firebase/installations",ow="@firebase/installations-compat",lw="@firebase/messaging",uw="@firebase/messaging-compat",cw="@firebase/performance",hw="@firebase/performance-compat",fw="@firebase/remote-config",dw="@firebase/remote-config-compat",mw="@firebase/storage",pw="@firebase/storage-compat",gw="@firebase/firestore",yw="@firebase/vertexai",_w="@firebase/firestore-compat",vw="firebase",Ew="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="[DEFAULT]",Tw={[Wd]:"fire-core",[$b]:"fire-core-compat",[Xb]:"fire-analytics",[Yb]:"fire-analytics-compat",[Jb]:"fire-app-check",[Zb]:"fire-app-check-compat",[Wb]:"fire-auth",[ew]:"fire-auth-compat",[tw]:"fire-rtdb",[nw]:"fire-data-connect",[iw]:"fire-rtdb-compat",[rw]:"fire-fn",[sw]:"fire-fn-compat",[aw]:"fire-iid",[ow]:"fire-iid-compat",[lw]:"fire-fcm",[uw]:"fire-fcm-compat",[cw]:"fire-perf",[hw]:"fire-perf-compat",[fw]:"fire-rc",[dw]:"fire-rc-compat",[mw]:"fire-gcs",[pw]:"fire-gcs-compat",[gw]:"fire-fst",[_w]:"fire-fst-compat",[yw]:"fire-vertex","fire-js":"fire-js",[vw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl=new Map,Sw=new Map,tm=new Map;function z_(r,e){try{r.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function qa(r){const e=r.name;if(tm.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,r);for(const n of Dl.values())z_(n,r);for(const n of Sw.values())z_(n,r);return!0}function Vm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Hl("app","Firebase",bw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=Ew;function K0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw qr.create("bad-app-name",{appName:String(o)});if(n||(n=H0()),!n)throw qr.create("no-options");const u=Dl.get(o);if(u){if(Uc(n,u.options)&&Uc(s,u.config))return u;throw qr.create("duplicate-app",{appName:o})}const f=new Nb(o);for(const p of tm.values())f.addComponent(p);const m=new ww(n,s,f);return Dl.set(o,m),m}function Lm(r=em){const e=Dl.get(r);if(!e&&r===em&&H0())return K0();if(!e)throw qr.create("no-app",{appName:r});return e}function Aw(){return Array.from(Dl.values())}function Fr(r,e,n){var s;let o=(s=Tw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(m.join(" "));return}qa(new js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebase-heartbeat-database",Rw=1,Ol="firebase-heartbeat-store";let Dd=null;function Q0(){return Dd||(Dd=qb(Cw,Rw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),Dd}async function Iw(r){try{const n=(await Q0()).transaction(Ol),s=await n.objectStore(Ol).get($0(r));return await n.done,s}catch(e){if(e instanceof Zi)$i.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function B_(r,e){try{const s=(await Q0()).transaction(Ol,"readwrite");await s.objectStore(Ol).put(e,$0(r)),await s.done}catch(n){if(n instanceof Zi)$i.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(s.message)}}}function $0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=1024,Nw=30;class Dw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Mw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=H_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Nw){const f=kw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){$i.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=H_(),{heartbeatsToSend:s,unsentEntries:o}=Ow(this._heartbeatsCache.heartbeats),u=jc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return $i.warn(n),""}}}function H_(){return new Date().toISOString().substring(0,10)}function Ow(r,e=xw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),q_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),q_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Mw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _b()?vb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Iw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function q_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function kw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(r){qa(new js("platform-logger",e=>new Kb(e),"PRIVATE")),qa(new js("heartbeat",e=>new Dw(e),"PRIVATE")),Fr(Wd,U_,r),Fr(Wd,U_,"esm2017"),Fr("fire-js","")}Vw("");var F_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gr,Y0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function w(){}w.prototype=C.prototype,O.D=C.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(x,k,U){for(var N=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)N[ut-2]=arguments[ut];return C.prototype[k].apply(x,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,w){w||(w=0);var x=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)x[k]=C.charCodeAt(w++)|C.charCodeAt(w++)<<8|C.charCodeAt(w++)<<16|C.charCodeAt(w++)<<24;else for(k=0;16>k;++k)x[k]=C[w++]|C[w++]<<8|C[w++]<<16|C[w++]<<24;C=O.g[0],w=O.g[1],k=O.g[2];var U=O.g[3],N=C+(U^w&(k^U))+x[0]+3614090360&4294967295;C=w+(N<<7&4294967295|N>>>25),N=U+(k^C&(w^k))+x[1]+3905402710&4294967295,U=C+(N<<12&4294967295|N>>>20),N=k+(w^U&(C^w))+x[2]+606105819&4294967295,k=U+(N<<17&4294967295|N>>>15),N=w+(C^k&(U^C))+x[3]+3250441966&4294967295,w=k+(N<<22&4294967295|N>>>10),N=C+(U^w&(k^U))+x[4]+4118548399&4294967295,C=w+(N<<7&4294967295|N>>>25),N=U+(k^C&(w^k))+x[5]+1200080426&4294967295,U=C+(N<<12&4294967295|N>>>20),N=k+(w^U&(C^w))+x[6]+2821735955&4294967295,k=U+(N<<17&4294967295|N>>>15),N=w+(C^k&(U^C))+x[7]+4249261313&4294967295,w=k+(N<<22&4294967295|N>>>10),N=C+(U^w&(k^U))+x[8]+1770035416&4294967295,C=w+(N<<7&4294967295|N>>>25),N=U+(k^C&(w^k))+x[9]+2336552879&4294967295,U=C+(N<<12&4294967295|N>>>20),N=k+(w^U&(C^w))+x[10]+4294925233&4294967295,k=U+(N<<17&4294967295|N>>>15),N=w+(C^k&(U^C))+x[11]+2304563134&4294967295,w=k+(N<<22&4294967295|N>>>10),N=C+(U^w&(k^U))+x[12]+1804603682&4294967295,C=w+(N<<7&4294967295|N>>>25),N=U+(k^C&(w^k))+x[13]+4254626195&4294967295,U=C+(N<<12&4294967295|N>>>20),N=k+(w^U&(C^w))+x[14]+2792965006&4294967295,k=U+(N<<17&4294967295|N>>>15),N=w+(C^k&(U^C))+x[15]+1236535329&4294967295,w=k+(N<<22&4294967295|N>>>10),N=C+(k^U&(w^k))+x[1]+4129170786&4294967295,C=w+(N<<5&4294967295|N>>>27),N=U+(w^k&(C^w))+x[6]+3225465664&4294967295,U=C+(N<<9&4294967295|N>>>23),N=k+(C^w&(U^C))+x[11]+643717713&4294967295,k=U+(N<<14&4294967295|N>>>18),N=w+(U^C&(k^U))+x[0]+3921069994&4294967295,w=k+(N<<20&4294967295|N>>>12),N=C+(k^U&(w^k))+x[5]+3593408605&4294967295,C=w+(N<<5&4294967295|N>>>27),N=U+(w^k&(C^w))+x[10]+38016083&4294967295,U=C+(N<<9&4294967295|N>>>23),N=k+(C^w&(U^C))+x[15]+3634488961&4294967295,k=U+(N<<14&4294967295|N>>>18),N=w+(U^C&(k^U))+x[4]+3889429448&4294967295,w=k+(N<<20&4294967295|N>>>12),N=C+(k^U&(w^k))+x[9]+568446438&4294967295,C=w+(N<<5&4294967295|N>>>27),N=U+(w^k&(C^w))+x[14]+3275163606&4294967295,U=C+(N<<9&4294967295|N>>>23),N=k+(C^w&(U^C))+x[3]+4107603335&4294967295,k=U+(N<<14&4294967295|N>>>18),N=w+(U^C&(k^U))+x[8]+1163531501&4294967295,w=k+(N<<20&4294967295|N>>>12),N=C+(k^U&(w^k))+x[13]+2850285829&4294967295,C=w+(N<<5&4294967295|N>>>27),N=U+(w^k&(C^w))+x[2]+4243563512&4294967295,U=C+(N<<9&4294967295|N>>>23),N=k+(C^w&(U^C))+x[7]+1735328473&4294967295,k=U+(N<<14&4294967295|N>>>18),N=w+(U^C&(k^U))+x[12]+2368359562&4294967295,w=k+(N<<20&4294967295|N>>>12),N=C+(w^k^U)+x[5]+4294588738&4294967295,C=w+(N<<4&4294967295|N>>>28),N=U+(C^w^k)+x[8]+2272392833&4294967295,U=C+(N<<11&4294967295|N>>>21),N=k+(U^C^w)+x[11]+1839030562&4294967295,k=U+(N<<16&4294967295|N>>>16),N=w+(k^U^C)+x[14]+4259657740&4294967295,w=k+(N<<23&4294967295|N>>>9),N=C+(w^k^U)+x[1]+2763975236&4294967295,C=w+(N<<4&4294967295|N>>>28),N=U+(C^w^k)+x[4]+1272893353&4294967295,U=C+(N<<11&4294967295|N>>>21),N=k+(U^C^w)+x[7]+4139469664&4294967295,k=U+(N<<16&4294967295|N>>>16),N=w+(k^U^C)+x[10]+3200236656&4294967295,w=k+(N<<23&4294967295|N>>>9),N=C+(w^k^U)+x[13]+681279174&4294967295,C=w+(N<<4&4294967295|N>>>28),N=U+(C^w^k)+x[0]+3936430074&4294967295,U=C+(N<<11&4294967295|N>>>21),N=k+(U^C^w)+x[3]+3572445317&4294967295,k=U+(N<<16&4294967295|N>>>16),N=w+(k^U^C)+x[6]+76029189&4294967295,w=k+(N<<23&4294967295|N>>>9),N=C+(w^k^U)+x[9]+3654602809&4294967295,C=w+(N<<4&4294967295|N>>>28),N=U+(C^w^k)+x[12]+3873151461&4294967295,U=C+(N<<11&4294967295|N>>>21),N=k+(U^C^w)+x[15]+530742520&4294967295,k=U+(N<<16&4294967295|N>>>16),N=w+(k^U^C)+x[2]+3299628645&4294967295,w=k+(N<<23&4294967295|N>>>9),N=C+(k^(w|~U))+x[0]+4096336452&4294967295,C=w+(N<<6&4294967295|N>>>26),N=U+(w^(C|~k))+x[7]+1126891415&4294967295,U=C+(N<<10&4294967295|N>>>22),N=k+(C^(U|~w))+x[14]+2878612391&4294967295,k=U+(N<<15&4294967295|N>>>17),N=w+(U^(k|~C))+x[5]+4237533241&4294967295,w=k+(N<<21&4294967295|N>>>11),N=C+(k^(w|~U))+x[12]+1700485571&4294967295,C=w+(N<<6&4294967295|N>>>26),N=U+(w^(C|~k))+x[3]+2399980690&4294967295,U=C+(N<<10&4294967295|N>>>22),N=k+(C^(U|~w))+x[10]+4293915773&4294967295,k=U+(N<<15&4294967295|N>>>17),N=w+(U^(k|~C))+x[1]+2240044497&4294967295,w=k+(N<<21&4294967295|N>>>11),N=C+(k^(w|~U))+x[8]+1873313359&4294967295,C=w+(N<<6&4294967295|N>>>26),N=U+(w^(C|~k))+x[15]+4264355552&4294967295,U=C+(N<<10&4294967295|N>>>22),N=k+(C^(U|~w))+x[6]+2734768916&4294967295,k=U+(N<<15&4294967295|N>>>17),N=w+(U^(k|~C))+x[13]+1309151649&4294967295,w=k+(N<<21&4294967295|N>>>11),N=C+(k^(w|~U))+x[4]+4149444226&4294967295,C=w+(N<<6&4294967295|N>>>26),N=U+(w^(C|~k))+x[11]+3174756917&4294967295,U=C+(N<<10&4294967295|N>>>22),N=k+(C^(U|~w))+x[2]+718787259&4294967295,k=U+(N<<15&4294967295|N>>>17),N=w+(U^(k|~C))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+U&4294967295}s.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var w=C-this.blockSize,x=this.B,k=this.h,U=0;U<C;){if(k==0)for(;U<=w;)o(this,O,U),U+=this.blockSize;if(typeof O=="string"){for(;U<C;)if(x[k++]=O.charCodeAt(U++),k==this.blockSize){o(this,x),k=0;break}}else for(;U<C;)if(x[k++]=O[U++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=C},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var w=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=w&255,w/=256;for(this.u(O),O=Array(16),C=w=0;4>C;++C)for(var x=0;32>x;x+=8)O[w++]=this.g[C]>>>x&255;return O};function u(O,C){var w=m;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=C(O)}function f(O,C){this.h=C;for(var w=[],x=!0,k=O.length-1;0<=k;k--){var U=O[k]|0;x&&U==C||(w[k]=U,x=!1)}this.g=w}var m={};function p(O){return-128<=O&&128>O?u(O,function(C){return new f([C|0],0>C?-1:0)}):new f([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return L(y(-O));for(var C=[],w=1,x=0;O>=w;x++)C[x]=O/w|0,w*=4294967296;return new f(C,0)}function T(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return L(T(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(C,8)),x=A,k=0;k<O.length;k+=8){var U=Math.min(8,O.length-k),N=parseInt(O.substring(k,k+U),C);8>U?(U=y(Math.pow(C,U)),x=x.j(U).add(y(N))):(x=x.j(w),x=x.add(y(N)))}return x}var A=p(0),I=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(H(this))return-L(this).m();for(var O=0,C=1,w=0;w<this.g.length;w++){var x=this.i(w);O+=(0<=x?x:4294967296+x)*C,C*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(B(this))return"0";if(H(this))return"-"+L(this).toString(O);for(var C=y(Math.pow(O,6)),w=this,x="";;){var k=ge(w,C).g;w=Y(w,k.j(C));var U=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=k,B(w))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function B(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function H(O){return O.h==-1}r.l=function(O){return O=Y(this,O),H(O)?-1:B(O)?0:1};function L(O){for(var C=O.g.length,w=[],x=0;x<C;x++)w[x]=~O.g[x];return new f(w,~O.h).add(I)}r.abs=function(){return H(this)?L(this):this},r.add=function(O){for(var C=Math.max(this.g.length,O.g.length),w=[],x=0,k=0;k<=C;k++){var U=x+(this.i(k)&65535)+(O.i(k)&65535),N=(U>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);x=N>>>16,U&=65535,N&=65535,w[k]=N<<16|U}return new f(w,w[w.length-1]&-2147483648?-1:0)};function Y(O,C){return O.add(L(C))}r.j=function(O){if(B(this)||B(O))return A;if(H(this))return H(O)?L(this).j(L(O)):L(L(this).j(O));if(H(O))return L(this.j(L(O)));if(0>this.l(V)&&0>O.l(V))return y(this.m()*O.m());for(var C=this.g.length+O.g.length,w=[],x=0;x<2*C;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<O.g.length;k++){var U=this.i(x)>>>16,N=this.i(x)&65535,ut=O.i(k)>>>16,it=O.i(k)&65535;w[2*x+2*k]+=N*it,ne(w,2*x+2*k),w[2*x+2*k+1]+=U*it,ne(w,2*x+2*k+1),w[2*x+2*k+1]+=N*ut,ne(w,2*x+2*k+1),w[2*x+2*k+2]+=U*ut,ne(w,2*x+2*k+2)}for(x=0;x<C;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=C;x<2*C;x++)w[x]=0;return new f(w,0)};function ne(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function ee(O,C){this.g=O,this.h=C}function ge(O,C){if(B(C))throw Error("division by zero");if(B(O))return new ee(A,A);if(H(O))return C=ge(L(O),C),new ee(L(C.g),L(C.h));if(H(C))return C=ge(O,L(C)),new ee(L(C.g),C.h);if(30<O.g.length){if(H(O)||H(C))throw Error("slowDivide_ only works with positive integers.");for(var w=I,x=C;0>=x.l(O);)w=he(w),x=he(x);var k=Ee(w,1),U=Ee(x,1);for(x=Ee(x,2),w=Ee(w,2);!B(x);){var N=U.add(x);0>=N.l(O)&&(k=k.add(w),U=N),x=Ee(x,1),w=Ee(w,1)}return C=Y(O,k.j(C)),new ee(k,C)}for(k=A;0<=O.l(C);){for(w=Math.max(1,Math.floor(O.m()/C.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=y(w),N=U.j(C);H(N)||0<N.l(O);)w-=x,U=y(w),N=U.j(C);B(U)&&(U=I),k=k.add(U),O=Y(O,N)}return new ee(k,O)}r.A=function(O){return ge(this,O).h},r.and=function(O){for(var C=Math.max(this.g.length,O.g.length),w=[],x=0;x<C;x++)w[x]=this.i(x)&O.i(x);return new f(w,this.h&O.h)},r.or=function(O){for(var C=Math.max(this.g.length,O.g.length),w=[],x=0;x<C;x++)w[x]=this.i(x)|O.i(x);return new f(w,this.h|O.h)},r.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),w=[],x=0;x<C;x++)w[x]=this.i(x)^O.i(x);return new f(w,this.h^O.h)};function he(O){for(var C=O.g.length+1,w=[],x=0;x<C;x++)w[x]=O.i(x)<<1|O.i(x-1)>>>31;return new f(w,O.h)}function Ee(O,C){var w=C>>5;C%=32;for(var x=O.g.length-w,k=[],U=0;U<x;U++)k[U]=0<C?O.i(U+w)>>>C|O.i(U+w+1)<<32-C:O.i(U+w);return new f(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Y0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Gr=f}).apply(typeof F_<"u"?F_:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X0,Tl,Z0,Rc,nm,J0,W0,e1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break e;_=_[z]}c=c[c.length-1],b=_[c],g=g(b),g!=b&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var K=_++;return{value:g(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,_){return c.call.apply(c.bind,arguments)}function A(c,g,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function I(c,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,I.apply(null,arguments)}function V(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function B(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,K){for(var ie=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)ie[Me-2]=arguments[Me];return g.prototype[z].apply(b,ie)}}function H(c){const g=c.length;if(0<g){const _=Array(g);for(let b=0;b<g;b++)_[b]=c[b];return _}return[]}function L(c,g){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const z=c.length||0,K=b.length||0;c.length=z+K;for(let ie=0;ie<K;ie++)c[z+ie]=b[ie]}else c.push(b)}}class Y{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var he=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function Ee(c,g,_){for(const b in c)g.call(_,c[b],b,c)}function O(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function C(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let K=0;K<w.length;K++)_=w[K],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function k(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Ue;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ut{constructor(){this.h=this.g=null}add(g,_){const b=it.get();b.set(g,_),this.h?this.h.next=b:this.g=b,this.h=b}}var it=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,Ue=new ut,D=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){U(_)}var g=it;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ue=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ce(c,g){if(ae.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(he){e:{try{ge(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}B(Ce,ae);var we={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var mt="closure_listenable_"+(1e6*Math.random()|0),ze=0;function rt(c,g,_,b,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!b,this.ha=z,this.key=++ze,this.da=this.fa=!1}function Ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xt(c){this.src=c,this.g={},this.h=0}Xt.prototype.add=function(c,g,_,b,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ie=yn(c,g,b,z);return-1<ie?(g=c[ie],_||(g.fa=!1)):(g=new rt(g,this.src,K,!!b,z),g.fa=_,c.push(g)),g};function yi(c,g){var _=g.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,g,void 0),K;(K=0<=z)&&Array.prototype.splice.call(b,z,1),K&&(Ge(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function yn(c,g,_,b){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==b)return z}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),Wi={};function _i(c,g,_,b,z){if(Array.isArray(g)){for(var K=0;K<g.length;K++)_i(c,g[K],_,b,z);return null}return _=Zl(_),c&&c[mt]?c.K(g,_,y(b)?!!b.capture:!1,z):oo(c,g,_,!1,b,z)}function oo(c,g,_,b,z,K){if(!g)throw Error("Invalid event type");var ie=y(z)?!!z.capture:!!z,Me=lo(c);if(Me||(c[Ji]=Me=new Xt(c)),_=Me.add(g,_,b,ie,K),_.proxy)return _;if(b=qs(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)oe||(z=ie),z===void 0&&(z=!1),c.addEventListener(g.toString(),b,z);else if(c.attachEvent)c.attachEvent(Gs(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function qs(){function c(_){return g.call(c.src,c.listener,_)}const g=Eh;return c}function Fs(c,g,_,b,z){if(Array.isArray(g))for(var K=0;K<g.length;K++)Fs(c,g[K],_,b,z);else b=y(b)?!!b.capture:!!b,_=Zl(_),c&&c[mt]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],_=yn(K,_,b,z),-1<_&&(Ge(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=lo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=yn(g,_,b,z)),(_=-1<c?g[c]:null)&&is(_))}function is(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[mt])yi(g.i,c);else{var _=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(_,b,c.capture):g.detachEvent?g.detachEvent(Gs(_),b):g.addListener&&g.removeListener&&g.removeListener(b),(_=lo(g))?(yi(_,c),_.h==0&&(_.src=null,g[Ji]=null)):Ge(c)}}}function Gs(c){return c in Wi?Wi[c]:Wi[c]="on"+c}function Eh(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var _=c.listener,b=c.ha||c.src;c.fa&&is(c),c=_.call(b,g)}return c}function lo(c){return c=c[Ji],c instanceof Xt?c:null}var rn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zl(c){return typeof c=="function"?c:(c[rn]||(c[rn]=function(g){return c.handleEvent(g)}),c[rn])}function vt(){de.call(this),this.i=new Xt(this),this.M=this,this.F=null}B(vt,de),vt.prototype[mt]=!0,vt.prototype.removeEventListener=function(c,g,_,b){Fs(this,c,g,_,b)};function xt(c,g){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new ae(g,c);else if(g instanceof ae)g.target=g.target||c;else{var z=g;g=new ae(b,c),x(g,z)}if(z=!0,_)for(var K=_.length-1;0<=K;K--){var ie=g.g=_[K];z=vi(ie,b,!0,g)&&z}if(ie=g.g=c,z=vi(ie,b,!0,g)&&z,z=vi(ie,b,!1,g)&&z,_)for(K=0;K<_.length;K++)ie=g.g=_[K],z=vi(ie,b,!1,g)&&z}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],b=0;b<_.length;b++)Ge(_[b]);delete c.g[g],c.h--}}this.F=null},vt.prototype.K=function(c,g,_,b){return this.i.add(String(c),g,!1,_,b)},vt.prototype.L=function(c,g,_,b){return this.i.add(String(c),g,!0,_,b)};function vi(c,g,_,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,K=0;K<g.length;++K){var ie=g[K];if(ie&&!ie.da&&ie.capture==_){var Me=ie.listener,Tt=ie.ha||ie.src;ie.fa&&yi(c.i,ie),z=Me.call(Tt,b)!==!1&&z}}return z&&!b.defaultPrevented}function Jl(c,g,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function uo(c){c.g=Jl(()=>{c.g=null,c.i&&(c.i=!1,uo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Th extends de{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(c){de.call(this),this.h=c,this.g={}}B(rs,de);var er=[];function qt(c){Ee(c.g,function(g,_){this.g.hasOwnProperty(_)&&is(g)},c),c.g={}}rs.prototype.N=function(){rs.aa.N.call(this),qt(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var co=m.JSON.stringify,Kn=m.JSON.parse,Zt=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ho(){}ho.prototype.h=null;function Wl(c){return c.h||(c.h=c.i())}function eu(){}var Qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){ae.call(this,"d")}B(tr,ae);function kn(){ae.call(this,"c")}B(kn,ae);var _n={},nr=null;function Ks(){return nr=nr||new vt}_n.La="serverreachability";function fo(c){ae.call(this,_n.La,c)}B(fo,ae);function ir(c){const g=Ks();xt(g,new fo(g))}_n.STAT_EVENT="statevent";function Qs(c,g){ae.call(this,_n.STAT_EVENT,c),this.stat=g}B(Qs,ae);function ct(c){const g=Ks();xt(g,new Qs(g,c))}_n.Ma="timingevent";function tu(c,g){ae.call(this,_n.Ma,c),this.size=g}B(tu,ae);function rr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function sr(){this.g=!0}sr.prototype.xa=function(){this.g=!1};function nu(c,g,_,b,z,K){c.info(function(){if(c.g)if(K)for(var ie="",Me=K.split("&"),Tt=0;Tt<Me.length;Tt++){var ke=Me[Tt].split("=");if(1<ke.length){var Ot=ke[0];ke=ke[1];var St=Ot.split("_");ie=2<=St.length&&St[1]=="type"?ie+(Ot+"="+ke+"&"):ie+(Ot+"=redacted&")}}else ie=null;else ie=K;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+g+`
`+_+`
`+ie})}function iu(c,g,_,b,z,K,ie){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+g+`
`+_+`
`+K+" "+ie})}function ar(c,g,_,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Nt(c,_)+(b?" "+b:"")})}function $n(c,g){c.info(function(){return"TIMEOUT: "+g})}sr.prototype.info=function(){};function Nt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return co(_)}catch{return g}}var Et={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ss;function $s(){}B($s,ho),$s.prototype.g=function(){return new XMLHttpRequest},$s.prototype.i=function(){return{}},ss=new $s;function Yn(c,g,_,b){this.j=c,this.i=g,this.l=_,this.R=b||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mo}function mo(){this.i=null,this.g="",this.h=!1}var or={},as={};function Vn(c,g,_){c.L=1,c.v=us(st(g)),c.m=_,c.P=!0,Ti(c,null)}function Ti(c,g){c.F=Date.now(),We(c),c.A=st(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),wi(_.i,"t",b),c.C=0,_=c.j.J,c.h=new mo,c.g=yu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Th(I(c.Y,c,c.g),c.O)),g=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(er[0]=z.toString()),z=er);for(var K=0;K<z.length;K++){var ie=_i(_,z[K],b||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),ir(),nu(c.i,c.u,c.A,c.l,c.R,c.m)}Yn.prototype.ca=function(c){c=c.target;const g=this.M;g&&bn(c)==3?g.j():this.Y(c)},Yn.prototype.Y=function(c){try{if(c==this.g)e:{const St=bn(this.g);var g=this.g.Ba();const Ii=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||uu(this.g)))){this.J||St!=4||g==7||(g==8||0>=Ii?ir(3):ir(2)),Ys(this);var _=this.g.Z();this.X=_;t:if(lr(this)){var b=uu(this.g);c="";var z=b.length,K=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),un(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(b[g],{stream:!(K&&g==z-1)});b.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,iu(this.i,this.u,this.A,this.l,this.R,St,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,Tt=this.g;if((Me=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Me)){var ke=Me;break t}}ke=null}if(_=ke)ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cn(this,_);else{this.o=!1,this.s=3,ct(12),sn(this),un(this);break e}}if(this.P){_=!0;let Pt;for(;!this.J&&this.C<ie.length;)if(Pt=ur(this,ie),Pt==as){St==4&&(this.s=4,ct(14),_=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==or){this.s=4,ct(15),ar(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else ar(this.i,this.l,Pt,null),cn(this,Pt);if(lr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||ie.length!=0||this.h.h||(this.s=1,ct(16),_=!1),this.o=this.o&&_,!_)ar(this.i,this.l,ie,"[Invalid Chunked Response]"),sn(this),un(this);else if(0<ie.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),gs(Ot),Ot.M=!0,ct(11))}}else ar(this.i,this.l,ie,null),cn(this,ie);St==4&&sn(this),this.o&&!this.J&&(St==4?mu(this.j,this):(this.o=!1,We(this)))}else Rh(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),sn(this),un(this)}}}catch{}finally{}};function lr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ur(c,g){var _=c.C,b=g.indexOf(`
`,_);return b==-1?as:(_=Number(g.substring(_,b)),isNaN(_)?or:(b+=1,b+_>g.length?as:(g=g.slice(b,b+_),c.C=b+_,g)))}Yn.prototype.cancel=function(){this.J=!0,sn(this)};function We(c){c.S=Date.now()+c.I,po(c,c.I)}function po(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=rr(I(c.ba,c),g)}function Ys(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Yn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?($n(this.i,this.A),this.L!=2&&(ir(),ct(17)),sn(this),this.s=2,un(this)):po(this,this.S-c)};function un(c){c.j.G==0||c.J||mu(c.j,c)}function sn(c){Ys(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,qt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function cn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||cr(_.h,c))){if(!c.K&&cr(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)sa(_),ia(_);else break e;Co(_),ct(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=rr(I(_.Za,_),6e3));if(1>=ru(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ri(_,11)}else if((c.K||_.g==c)&&sa(_),!ne(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let ke=z[g];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Ot=ke[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const St=ke[4];St!=null&&(_.Aa=St,_.j.info("SVER="+_.Aa));const Ii=ke[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(b=1.5*Ii,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Pt=c.g;if(Pt){const ni=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var K=b.h;K.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(hr(K,K.h),K.h=null))}if(b.D){const Io=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(b.ya=Io,Be(b.I,b.D,Io))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ie=c;if(b.qa=gu(b,b.J?b.ia:null,b.W),ie.K){vn(b.h,ie);var Me=ie,Tt=b.L;Tt&&(Me.I=Tt),Me.B&&(Ys(Me),We(Me)),b.g=ie}else fu(b);0<_.i.length&&ra(_)}else ke[0]!="stop"&&ke[0]!="close"||Ri(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ri(_,7):wo(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}ir(4)}catch{}}var Sh=class{constructor(c,g){this.g=c,this.map=g}};function go(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ru(c){return c.h?1:c.g?c.g.size:0}function cr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function hr(c,g){c.g?c.g.add(g):c.h=g}function vn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}go.prototype.cancel=function(){if(this.i=Jt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jt(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return H(c.i)}function su(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,b=0;b<_;b++)g.push(c[b]);return g}g=[],_=0;for(b in c)g[_++]=c[b];return g}function bh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const b in c)g[_++]=b;return g}}}function os(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=bh(c),b=su(c),z=b.length,K=0;K<z;K++)g.call(void 0,b[K],_&&_[K],c)}var _o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xs(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var K=c[_].substring(0,b);z=c[_].substring(b+1)}else K=c[_];g(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,fr(this,c.j),this.o=c.o,this.g=c.g,ls(this,c.s),this.l=c.l;var g=c.i,_=new Xn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Zs(this,_),this.m=c.m}else c&&(g=String(c).match(_o))?(this.h=!1,fr(this,g[1]||"",!0),this.o=dr(g[2]||""),this.g=dr(g[3]||"",!0),ls(this,g[4]),this.l=dr(g[5]||"",!0),Zs(this,g[6]||"",!0),this.m=dr(g[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}Si.prototype.toString=function(){var c=[],g=this.j;g&&c.push(En(g,vo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(En(g,vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(En(_,_.charAt(0)=="/"?Eo:au,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",En(_,Ch)),c.join("")};function st(c){return new Si(c)}function fr(c,g,_){c.j=_?dr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ls(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Zs(c,g,_){g instanceof Xn?(c.i=g,To(c.i,c.h)):(_||(g=En(g,Ah)),c.i=new Xn(g,c.h))}function Be(c,g,_){c.i.set(g,_)}function us(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function dr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function En(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,wh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vo=/[#\/\?@]/g,au=/[#\?:]/g,Eo=/[#\?]/g,Ah=/[#\?@]/g,Ch=/#/g;function Xn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&Xs(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Xn.prototype,r.add=function(c,g){Tn(this),this.i=null,c=Ai(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Js(c,g){Tn(c),g=Ai(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function bi(c,g){return Tn(c),g=Ai(c,g),c.g.has(g)}r.forEach=function(c,g){Tn(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(g,z,b,this)},this)},this)},r.na=function(){Tn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let b=0;b<g.length;b++){const z=c[b];for(let K=0;K<z.length;K++)_.push(g[b])}return _},r.V=function(c){Tn(this);let g=[];if(typeof c=="string")bi(this,c)&&(g=g.concat(this.g.get(Ai(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return Tn(this),this.i=null,c=Ai(this,c),bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function wi(c,g,_){Js(c,g),0<_.length&&(c.i=null,c.g.set(Ai(c,g),H(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var b=g[_];const K=encodeURIComponent(String(b)),ie=this.V(b);for(b=0;b<ie.length;b++){var z=K;ie[b]!==""&&(z+="="+encodeURIComponent(String(ie[b]))),c.push(z)}}return this.i=c.join("&")};function Ai(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function To(c,g){g&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(Js(this,b),wi(this,z,_))},c)),c.j=g}function ou(c,g){const _=new sr;if(m.Image){const b=new Image;b.onload=V(Sn,_,"TestLoadImage: loaded",!0,g,b),b.onerror=V(Sn,_,"TestLoadImage: error",!1,g,b),b.onabort=V(Sn,_,"TestLoadImage: abort",!1,g,b),b.ontimeout=V(Sn,_,"TestLoadImage: timeout",!1,g,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function cs(c,g){const _=new sr,b=new AbortController,z=setTimeout(()=>{b.abort(),Sn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(z),K.ok?Sn(_,"TestPingServer: ok",!0,g):Sn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Sn(_,"TestPingServer: error",!1,g)})}function Sn(c,g,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function hs(){this.g=new Zt}function Zn(c,g,_){const b=_||"";try{os(c,function(z,K){let ie=z;y(z)&&(ie=co(z)),g.push(b+K+"="+encodeURIComponent(ie))})}catch(z){throw g.push(b+"type="+encodeURIComponent("_badmap")),z}}function mr(c){this.l=c.Ub||null,this.j=c.eb||!1}B(mr,ho),mr.prototype.g=function(){return new Ci(this.l,this.j)},mr.prototype.i=function(c){return function(){return c}}({});function Ci(c,g){vt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ci,vt),r=Ci.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;So(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function So(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Jn(this):Wn(this),this.readyState==3&&So(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Jn(this))},r.Qa=function(c){this.g&&(this.response=c,Jn(this))},r.ga=function(){this.g&&Jn(this)};function Jn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function bo(c){let g="";return Ee(c,function(_,b){g+=b,g+=":",g+=_,g+=`\r
`}),g}function Dt(c,g,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,g,_))}function Fe(c){vt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(Fe,vt);var Ws=/^https?$/i,fs=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ss.g(),this.v=this.o?Wl(this.o):Wl(ss),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){lu(this,K);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())_.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(fs,g,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ie]of _)this.g.setRequestHeader(K,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){lu(this,K)}};function lu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ea(c),ei(c)}function ea(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),ei(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ei(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ta(this):this.bb())},r.bb=function(){ta(this)};function ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)Jl(c.Ea,0,c);else if(xt(c,"readystatechange"),bn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var b;if(b=ie===0){var z=String(c.D).match(_o)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!Ws.test(z?z.toLowerCase():"")}_=b}if(_)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var K=2<bn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ea(c)}}finally{ei(c)}}}}function ei(c,g){if(c.g){ds(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||xt(c,"ready");try{_.onreadystatechange=b}catch{}}}function ds(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Kn(g)}};function uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Rh(c){const g={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ne(c[b]))continue;var _=k(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[z]||[];g[z]=K,K.push(_)}O(g,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function na(c){this.Aa=0,this.i=[],this.j=new sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ms("baseRetryDelayMs",5e3,c),this.cb=ms("retryDelaySeedMs",1e4,c),this.Wa=ms("forwardChannelMaxRetries",2,c),this.wa=ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new go(c&&c.concurrentRequestLimit),this.Da=new hs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=na.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,b){ct(0),this.W=c,this.H=g||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=gu(this,null,this.W),ra(this)};function wo(c){if(cu(c),c.G==3){var g=c.U++,_=st(c.I);if(Be(_,"SID",c.K),Be(_,"RID",g),Be(_,"TYPE","terminate"),ps(c,_),g=new Yn(c,c.j,g),g.L=2,g.v=us(st(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=yu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}pu(c)}function ia(c){c.g&&(gs(c),c.g.cancel(),c.g=null)}function cu(c){ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),sa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ra(c){if(!yo(c.h)&&!c.s){c.s=!0;var g=c.Ga;se||D(),ue||(se(),ue=!0),Ue.add(g,c),c.B=0}}function Ih(c,g){return ru(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=rr(I(c.Ga,c,g),Ro(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new Yn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(g+=b,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=hu(this,z,g),_=st(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),ps(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(bo(K)))+"&"+g:this.m&&Dt(_,this.m,K)),hr(this.h,z),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",g),Be(_,"SID","null"),z.T=!0,Vn(z,_,null)):Vn(z,_,g),this.G=2}}else this.G==3&&(c?Ao(this,c):this.i.length==0||yo(this.h)||Ao(this))};function Ao(c,g){var _;g?_=g.l:_=c.U++;const b=st(c.I);Be(b,"SID",c.K),Be(b,"RID",_),Be(b,"AID",c.T),ps(c,b),c.m&&c.o&&Dt(b,c.m,c.o),_=new Yn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=hu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hr(c.h,_),Vn(_,b,g)}function ps(c,g){c.H&&Ee(c.H,function(_,b){Be(g,b,_)}),c.l&&os({},function(_,b){Be(g,b,_)})}function hu(c,g,_){_=Math.min(c.i.length,_);var b=c.l?I(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const ie=["count="+_];K==-1?0<_?(K=z[0].g,ie.push("ofs="+K)):K=0:ie.push("ofs="+K);let Me=!0;for(let Tt=0;Tt<_;Tt++){let ke=z[Tt].g;const Ot=z[Tt].map;if(ke-=K,0>ke)K=Math.max(0,z[Tt].g-100),Me=!1;else try{Zn(Ot,ie,"req"+ke+"_")}catch{b&&b(Ot)}}if(Me){b=ie.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,b}function fu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;se||D(),ue||(se(),ue=!0),Ue.add(g,c),c.v=0}}function Co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=rr(I(c.Fa,c),Ro(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=rr(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),ia(this),du(this))};function gs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function du(c){c.g=new Yn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=st(c.qa);Be(g,"RID","rpc"),Be(g,"SID",c.K),Be(g,"AID",c.T),Be(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(g,"TO",c.ja),Be(g,"TYPE","xmlhttp"),ps(c,g),c.m&&c.o&&Dt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=us(st(g)),_.m=null,_.P=!0,Ti(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ia(this),Co(this),ct(19))};function sa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function mu(c,g){var _=null;if(c.g==g){sa(c),gs(c),c.g=null;var b=2}else if(cr(c.h,g))_=g.D,vn(c.h,g),b=1;else return;if(c.G!=0){if(g.o)if(b==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;b=Ks(),xt(b,new tu(b,_)),ra(c)}else fu(c);else if(z=g.s,z==3||z==0&&0<g.X||!(b==1&&Ih(c,g)||b==2&&Co(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function Ro(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ri(c,g){if(c.j.info("Error code "+g),g==2){var _=I(c.fb,c),b=c.Xa;const z=!b;b=new Si(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fr(b,"https"),us(b),z?ou(b.toString(),_):cs(b.toString(),_)}else ct(2);c.G=0,c.l&&c.l.sa(g),pu(c),cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function pu(c){if(c.G=0,c.ka=[],c.l){const g=Jt(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function gu(c,g,_){var b=_ instanceof Si?st(_):new Si(_);if(b.g!="")g&&(b.g=g+"."+b.g),ls(b,b.s);else{var z=m.location;b=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var K=new Si(null);b&&fr(K,b),g&&(K.g=g),z&&ls(K,z),_&&(K.l=_),b=K}return _=c.D,g=c.ya,_&&g&&Be(b,_,g),Be(b,"VER",c.la),ps(c,b),b}function yu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Fe(new mr({eb:_})):new Fe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function aa(){}aa.prototype.g=function(c,g){return new Wt(c,g)};function Wt(c,g){vt.call(this),this.g=new na(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ti(this)}B(Wt,vt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){wo(this.g)},Wt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=co(c),c=_);g.i.push(new Sh(g.Ya++,c)),g.G==3&&ra(g)},Wt.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Wt.aa.N.call(this)};function vu(c){tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}B(vu,tr);function Eu(){kn.call(this),this.status=1}B(Eu,kn);function ti(c){this.g=c}B(ti,_u),ti.prototype.ua=function(){xt(this.g,"a")},ti.prototype.ta=function(c){xt(this.g,new vu(c))},ti.prototype.sa=function(c){xt(this.g,new Eu)},ti.prototype.ra=function(){xt(this.g,"b")},aa.prototype.createWebChannel=aa.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,e1=function(){return new aa},W0=function(){return Ks()},J0=_n,nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,Rc=Et,Ei.COMPLETE="complete",Z0=Ei,eu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Tl=eu,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,X0=Fe}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",K_="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Mm("@firebase/firestore");function Ma(){return Us.logLevel}function le(r,...e){if(Us.logLevel<=Ne.DEBUG){const n=e.map(Pm);Us.debug(`Firestore (${no}): ${r}`,...n)}}function Yi(r,...e){if(Us.logLevel<=Ne.ERROR){const n=e.map(Pm);Us.error(`Firestore (${no}): ${r}`,...n)}}function Fa(r,...e){if(Us.logLevel<=Ne.WARN){const n=e.map(Pm);Us.warn(`Firestore (${no}): ${r}`,...n)}}function Pm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r="Unexpected state"){const e=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: `+r;throw Yi(e),new Error(e)}function nt(r,e){r||be()}function Pe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qt.UNAUTHENTICATED))}shutdown(){}}class Pw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jw{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){nt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Kr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string"),new t1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new Qt(e)}}class Uw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Uw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bw{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){nt(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Q_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(nt(typeof n.token=="string"),this.R=n.token,new Q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Hw(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function rm(r,e){const n=im().encode(r),s=im().encode(e);for(let o=0;o<Math.min(n.length,s.length);o++){const u=Oe(n[o],s[o]);if(u!==0)return u}return Oe(n.length,s.length)}function Ga(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,Y_=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Y_);return new ln(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$_)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ln(0,0))}static max(){return new Se(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class li{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=li.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=li.isNumericId(e),o=li.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(e).compare(li.extractNumericId(n)):rm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gr.fromString(e.substring(4,e.length-2))}}class Ze extends li{construct(e,n,s){return new Ze(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const qw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends li{construct(e,n,s){return new nn(e,n,s)}static isValidIdentifier(e){return qw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new nn([X_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new pe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new pe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new pe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(n)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ze.fromString(e))}static fromName(e){return new ye(Ze.fromString(e).popFirst(5))}static empty(){return new ye(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=-1;function Fw(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new ln(n+1,0):new ln(n,s));return new Xr(o,ye.empty(),e)}function Gw(r){return new Xr(r.readTime,r.key,Ml)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(Se.min(),ye.empty(),Ml)}static max(){return new Xr(Se.max(),ye.empty(),Ml)}}function Kw(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $w{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==Qw)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Yw(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=-1;function sh(r){return r==null}function sm(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="";function Zw(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Z_(e)),e=Jw(r.get(n),e);return Z_(e)}function Jw(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case i1:n+="";break;default:n+=u}}return n}function Z_(r){return r+i1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Fl(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Ww(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ec(this.root,e,this.comparator,!0)}}class Ec{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Bt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new W_(this.data.getIterator())}getIteratorFrom(e){return new W_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class W_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new zr([])}unionWith(e){let n=new It(nn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ga(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new r1("Invalid base64 string: "+u):u}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const eA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(r){if(nt(!!r),typeof r=="string"){let e=0;const n=eA.exec(r);if(nt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ft(r.seconds),nanos:ft(r.nanos)}}function ft(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Jr(r){return typeof r=="string"?Ht.fromBase64String(r):Ht.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="server_timestamp",a1="__type__",o1="__previous_value__",l1="__local_write_time__";function jm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[a1])===null||n===void 0?void 0:n.stringValue)===s1}function ah(r){const e=r.mapValue.fields[o1];return jm(e)?ah(e):e}function kl(r){const e=Zr(r.mapValue.fields[l1].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const zc="(default)";class Vl{constructor(e,n){this.projectId=e,this.database=n||zc}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database===zc}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="__type__",iA="__max__",Tc={mapValue:{}},rA="__vector__",am="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jm(r)?4:aA(r)?9007199254740991:sA(r)?10:11:be()}function mi(r,e){if(r===e)return!0;const n=Wr(r);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return kl(r).isEqual(kl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Zr(o.timestampValue),m=Zr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Jr(o.bytesValue).isEqual(Jr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return ft(o.geoPointValue.latitude)===ft(u.geoPointValue.latitude)&&ft(o.geoPointValue.longitude)===ft(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ft(o.integerValue)===ft(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=ft(o.doubleValue),m=ft(u.doubleValue);return f===m?sm(f)===sm(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ga(r.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(J_(f)!==J_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!mi(f[p],m[p])))return!1;return!0}(r,e);default:return be()}}function Ll(r,e){return(r.values||[]).find(n=>mi(n,e))!==void 0}function Ka(r,e){if(r===e)return 0;const n=Wr(r),s=Wr(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=ft(u.integerValue||u.doubleValue),p=ft(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return ev(r.timestampValue,e.timestampValue);case 4:return ev(kl(r),kl(e));case 5:return rm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Jr(u),p=Jr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Oe(m[y],p[y]);if(T!==0)return T}return Oe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Oe(ft(u.latitude),ft(f.latitude));return m!==0?m:Oe(ft(u.longitude),ft(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return tv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,T;const A=u.fields||{},I=f.fields||{},V=(m=A[am])===null||m===void 0?void 0:m.arrayValue,B=(p=I[am])===null||p===void 0?void 0:p.arrayValue,H=Oe(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((T=B==null?void 0:B.values)===null||T===void 0?void 0:T.length)||0);return H!==0?H:tv(V,B)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Tc.mapValue&&f===Tc.mapValue)return 0;if(u===Tc.mapValue)return 1;if(f===Tc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const I=rm(p[A],T[A]);if(I!==0)return I;const V=Ka(m[p[A]],y[T[A]]);if(V!==0)return V}return Oe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw be()}}function ev(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=Zr(r),s=Zr(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function tv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Ka(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function Qa(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Jr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=om(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${om(n.fields[f])}`;return o+"}"}(r.mapValue):be()}function Ic(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ah(r);return e?16+Ic(e):16;case 5:return 2*r.stringValue.length;case 6:return Jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ic(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Fl(s.fields,(u,f)=>{o+=u.length+Ic(f)}),o}(r.mapValue);default:throw be()}}function lm(r){return!!r&&"integerValue"in r}function Um(r){return!!r&&"arrayValue"in r}function nv(r){return!!r&&"nullValue"in r}function iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Od(r){return!!r&&"mapValue"in r}function sA(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[nA])===null||n===void 0?void 0:n.stringValue)===rA}function Al(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Fl(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Al(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Al(r.arrayValue.values[n]);return e}return Object.assign({},r)}function aA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===iA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e){this.value=e}static empty(){return new ui({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Al(n)}setAll(e){let n=nn.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Al(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Od(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Fl(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ui(Al(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,Se.min(),Se.min(),Se.min(),ui.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Se.min(),Se.min(),ui.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Se.min(),Se.min(),ui.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n){this.position=e,this.inclusive=n}}function rv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Ka(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function sv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function oA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{}class Rt extends u1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uA(e,n,s):n==="array-contains"?new fA(e,s):n==="in"?new dA(e,s):n==="not-in"?new mA(e,s):n==="array-contains-any"?new pA(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new cA(e,s):new hA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends u1{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new pi(e,n)}matches(e){return c1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function c1(r){return r.op==="and"}function h1(r){return lA(r)&&c1(r)}function lA(r){for(const e of r.filters)if(e instanceof pi)return!1;return!0}function um(r){if(r instanceof Rt)return r.field.canonicalString()+r.op.toString()+Qa(r.value);if(h1(r))return r.filters.map(e=>um(e)).join(",");{const e=r.filters.map(n=>um(n)).join(",");return`${r.op}(${e})`}}function f1(r,e){return r instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&mi(s.value,o.value)}(r,e):r instanceof pi?function(s,o){return o instanceof pi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&f1(f,o.filters[m]),!0):!1}(r,e):void be()}function d1(r){return r instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(r):r instanceof pi?function(n){return n.op.toString()+" {"+n.getFilters().map(d1).join(" ,")+"}"}(r):"Filter"}class uA extends Rt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class cA extends Rt{constructor(e,n){super(e,"in",n),this.keys=m1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hA extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=m1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function m1(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class fA extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Um(n)&&Ll(n.arrayValue,this.value)}}class dA extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ll(this.value.arrayValue,n)}}class mA extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ll(this.value.arrayValue,n)}}class pA extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Um(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ll(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function av(r,e=null,n=[],s=[],o=null,u=null,f=null){return new gA(r,e,n,s,o,u,f)}function zm(r){const e=Pe(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>um(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Qa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Qa(s)).join(",")),e.le=n}return e.le}function Bm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!oA(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!f1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!sv(r.startAt,e.startAt)&&sv(r.endAt,e.endAt)}function cm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function yA(r,e,n,s,o,u,f,m){return new oh(r,e,n,s,o,u,f,m)}function Hm(r){return new oh(r)}function ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _A(r){return r.collectionGroup!==null}function Cl(r){const e=Pe(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(nn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Hc(u,s))}),n.has(nn.keyField().canonicalString())||e.he.push(new Hc(nn.keyField(),s))}return e.he}function ci(r){const e=Pe(r);return e.Pe||(e.Pe=vA(e,Cl(r))),e.Pe}function vA(r,e){if(r.limitType==="F")return av(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Hc(o.field,u)});const n=r.endAt?new Bc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Bc(r.startAt.position,r.startAt.inclusive):null;return av(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function hm(r,e,n){return new oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function lh(r,e){return Bm(ci(r),ci(e))&&r.limitType===e.limitType}function p1(r){return`${zm(ci(r))}|lt:${r.limitType}`}function ka(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>d1(o)).join(", ")}]`),sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Qa(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Qa(o)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function uh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Cl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=rv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Cl(s),o)||s.endAt&&!function(f,m,p){const y=rv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Cl(s),o))}(r,e)}function EA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function g1(r){return(e,n)=>{let s=!1;for(const o of Cl(r)){const u=TA(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TA(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Ka(p,y):be()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Fl(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new dt(ye.comparator);function es(){return SA}const y1=new dt(ye.comparator);function Sl(...r){let e=y1;for(const n of r)e=e.insert(n.key,n);return e}function bA(r){let e=y1;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ls(){return Rl()}function _1(){return Rl()}function Rl(){return new Bs(r=>r.toString(),(r,e)=>r.isEqual(e))}const wA=new It(ye.comparator);function je(...r){let e=wA;for(const n of r)e=e.add(n);return e}const AA=new It(Oe);function CA(){return AA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function IA(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function xA(r,e,n){return r instanceof fm?function(o,u){const f={fields:{[a1]:{stringValue:s1},[l1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jm(u)&&(u=ah(u)),u&&(f.fields[o1]=u),{mapValue:f}}(n,e):r instanceof qc?v1(r,e):r instanceof Fc?E1(r,e):function(o,u){const f=DA(o,u),m=lv(f)+lv(o.Ie);return lm(f)&&lm(o.Ie)?IA(m):RA(o.serializer,m)}(r,e)}function NA(r,e,n){return r instanceof qc?v1(r,e):r instanceof Fc?E1(r,e):n}function DA(r,e){return r instanceof dm?function(s){return lm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class fm extends ch{}class qc extends ch{constructor(e){super(),this.elements=e}}function v1(r,e){const n=T1(e);for(const s of r.elements)n.some(o=>mi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Fc extends ch{constructor(e){super(),this.elements=e}}function E1(r,e){let n=T1(e);for(const s of r.elements)n=n.filter(o=>!mi(o,s));return{arrayValue:{values:n}}}class dm extends ch{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function lv(r){return ft(r.integerValue||r.doubleValue)}function T1(r){return Um(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function OA(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof qc&&o instanceof qc||s instanceof Fc&&o instanceof Fc?Ga(s.elements,o.elements,mi):s instanceof dm&&o instanceof dm?mi(s.Ie,o.Ie):s instanceof fm&&o instanceof fm}(r.transform,e.transform)}class Ps{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ps}static exists(e){return new Ps(void 0,e)}static updateTime(e){return new Ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qm{}function S1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new kA(r.key,Ps.none()):new Fm(r.key,r.data,Ps.none());{const n=r.data,s=ui.empty();let o=new It(nn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new hh(r.key,s,new zr(o.toArray()),Ps.none())}}function MA(r,e,n){r instanceof Fm?function(o,u,f){const m=o.value.clone(),p=cv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof hh?function(o,u,f){if(!xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=cv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(b1(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Il(r,e,n,s){return r instanceof Fm?function(u,f,m,p){if(!xc(u.precondition,f))return m;const y=u.value.clone(),T=hv(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof hh?function(u,f,m,p){if(!xc(u.precondition,f))return m;const y=hv(u.fieldTransforms,p,f),T=f.data;return T.setAll(b1(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function uv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ga(s,o,(u,f)=>OA(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Fm extends qm{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hh extends qm{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function b1(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function cv(r,e,n){const s=new Map;nt(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,NA(f,m,n[o]))}return s}function hv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,xA(u,f,e))}return s}class kA extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MA(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Il(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Il(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_1();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=S1(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&Ga(this.mutations,e.mutations,(n,s)=>uv(n,s))&&Ga(this.baseMutations,e.baseMutations,(n,s)=>uv(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function w1(r){if(r===void 0)return Yi("GRPC error has no .code"),re.UNKNOWN;switch(r){case _t.OK:return re.OK;case _t.CANCELLED:return re.CANCELLED;case _t.UNKNOWN:return re.UNKNOWN;case _t.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case _t.INTERNAL:return re.INTERNAL;case _t.UNAVAILABLE:return re.UNAVAILABLE;case _t.UNAUTHENTICATED:return re.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case _t.NOT_FOUND:return re.NOT_FOUND;case _t.ALREADY_EXISTS:return re.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return re.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case _t.ABORTED:return re.ABORTED;case _t.OUT_OF_RANGE:return re.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return re.UNIMPLEMENTED;case _t.DATA_LOSS:return re.DATA_LOSS;default:return be()}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new Gr([4294967295,4294967295],0);function fv(r){const e=im().encode(r),n=new Y0;return n.update(e),new Uint8Array(n.digest())}function dv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Gr([n,s],0),new Gr([o,u],0)]}class Gm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new bl(`Invalid padding: ${n}`);if(s<0)throw new bl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new bl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new bl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Gr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Gr.fromNumber(s)));return o.compare(jA)===1&&(o=new Gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=fv(e),[s,o]=dv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=fv(e),[s,o]=dv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fh(Se.min(),o,new dt(Oe),es(),je())}}class Gl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Gl(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class A1{constructor(e,n){this.targetId=e,this.ge=n}}class C1{constructor(e,n,s=Ht.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class mv{constructor(){this.pe=0,this.ye=pv(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=je(),n=je(),s=je();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be()}}),new Gl(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=pv()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,nt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class UA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=es(),this.$e=Sc(),this.Ue=Sc(),this.Ke=new dt(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(cm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,$t.newNoDocument(f,Se.min()))}else nt(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Jr(s).toUint8Array()}catch(p){if(p instanceof r1)return Fa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gm(f,o,u)}catch(p){return Fa(p instanceof bl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&cm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,$t.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=je();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new fh(e,n,this.Ke,this.Qe,s);return this.Qe=es(),this.$e=Sc(),this.Ue=Sc(),this.Ke=new dt(Oe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new mv,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new It(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new It(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Sc(){return new dt(ye.comparator)}function pv(){return new dt(ye.comparator)}const zA={asc:"ASCENDING",desc:"DESCENDING"},BA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HA={and:"AND",or:"OR"};class qA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function mm(r,e){return r.useProto3Json||sh(e)?e:{value:e}}function FA(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GA(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ja(r){return nt(!!r),Se.fromTimestamp(function(n){const s=Zr(n);return new ln(s.seconds,s.nanos)}(r))}function KA(r,e){return pm(r,e).canonicalString()}function pm(r,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function R1(r){const e=Ze.fromString(r);return nt(O1(e)),e}function Md(r,e){const n=R1(e);if(n.get(1)!==r.databaseId.projectId)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new pe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(x1(n))}function I1(r,e){return KA(r.databaseId,e)}function QA(r){const e=R1(r);return e.length===4?Ze.emptyPath():x1(e)}function gv(r){return new Ze(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function x1(r){return nt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function $A(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?(nt(T===void 0||typeof T=="string"),Ht.fromBase64String(T||"")):(nt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Ht.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const T=y.code===void 0?re.UNKNOWN:w1(y.code);return new pe(T,y.message||"")}(f);n=new C1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Md(r,s.document.name),u=ja(s.document.updateTime),f=s.document.createTime?ja(s.document.createTime):Se.min(),m=new ui({mapValue:{fields:s.document.fields}}),p=$t.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Nc(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Md(r,s.document),u=s.readTime?ja(s.readTime):Se.min(),f=$t.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Nc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Md(r,s.document),u=s.removedTargetIds||[];n=new Nc([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new PA(o,u),m=s.targetId;n=new A1(m,f)}}return n}function YA(r,e){return{documents:[I1(r,e.path)]}}function XA(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=I1(r,o);const u=function(y){if(y.length!==0)return D1(pi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(I){return{field:Va(I.field),direction:WA(I.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=mm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function ZA(r){let e=QA(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){nt(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(A){const I=N1(A);return I instanceof pi&&h1(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(I=>function(B){return new Hc(La(B.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(A){let I;return I=typeof A=="object"?A.value:A,sh(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(A){const I=!!A.before,V=A.values||[];return new Bc(V,I)}(n.startAt));let y=null;return n.endAt&&(y=function(A){const I=!A.before,V=A.values||[];return new Bc(V,I)}(n.endAt)),yA(e,o,f,u,m,"F",p,y)}function JA(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function N1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=La(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=La(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=La(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=La(n.unaryFilter.field);return Rt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(r):r.fieldFilter!==void 0?function(n){return Rt.create(La(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return pi.create(n.compositeFilter.filters.map(s=>N1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(r):be()}function WA(r){return zA[r]}function eC(r){return BA[r]}function tC(r){return HA[r]}function Va(r){return{fieldPath:r.canonicalString()}}function La(r){return nn.fromServerFormat(r.fieldPath)}function D1(r){return r instanceof Rt?function(n){if(n.op==="=="){if(iv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(nv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(nv(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:eC(n.op),value:n.value}}}(r):r instanceof pi?function(n){const s=n.getFilters().map(o=>D1(o));return s.length===1?s[0]:{compositeFilter:{op:tC(n.op),filters:s}}}(r):be()}function O1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Ht.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Br(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Br(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.Tt=e}}function iC(r){const e=ZA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(){this.Tn=new sC}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Xr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class sC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(Ze.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},M1=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(M1,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new $a(0)}static Kn(){return new $a(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="LruGarbageCollector",aC=1048576;function vv([r,e],[n,s]){const o=Oe(r,n);return o===0?Oe(e,s):o}class oC{constructor(e){this.Hn=e,this.buffer=new It(vv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(_v,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?le(_v,"Ignoring IndexedDB error during garbage collection: ",n):await ih(n)}await this.er(3e5)})}}class uC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(rh.ae);const s=new oC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(yv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),Ma()<=Ne.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function cC(r,e){return new uC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Il(s.mutation,o,zr.empty(),ln.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,n,s=je()){const o=Ls();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Sl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ls();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,je()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=es();const f=Rl(),m=function(){return Rl()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof hh)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Il(T.mutation,y,T.mutation.getFieldMask(),ln.now())):f.set(y.key,zr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var A;return m.set(y,new fC(T,(A=f.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Rl();let o=new dt((f,m)=>f-m),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||zr.empty();T=m.applyToLocalView(y,T),s.set(p,T);const A=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,A=_1();T.forEach(I=>{if(!u.has(I)){const V=S1(n.get(I),s.get(I));V!==null&&A.set(I,V),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_A(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(Ls());let m=Ml,p=u;return f.next(y=>J.forEach(y,(T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next(I=>{p=p.insert(T,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,je())).next(T=>({batchId:m,changes:bA(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Sl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Sl();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const y=function(A,I){return new oh(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((A,I)=>{f=f.insert(A,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,$t.newInvalidDocument(T)))});let m=Sl();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&Il(T.mutation,y,zr.empty(),ln.now()),uh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ja(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:iC(o.bundledQuery),readTime:ja(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.overlays=new dt(ye.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ls();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=Ls(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Ls(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Ls(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new LA(n,s));let u=this.Rr.get(n);u===void 0&&(u=je(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Vr=new It(Lt.mr),this.gr=new It(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Lt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ye(new Ze([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new Ze([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=je();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new It(Lt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new VA(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Xw:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Oe);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ye(u),0);let m=new It(Oe);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){nt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.kr=e,this.docs=function(){return new dt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=es();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=es();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Kw(Gw(T),s)<=0||(o.has(T.key)||uh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new vC(this)}getSize(e){return J.resolve(this.size)}}class vC extends hC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.persistence=e,this.Qr=new Bs(n=>zm(n),Bm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Km,this.targetCount=0,this.Kr=$a.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new $a(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new rh(0),this.zr=!1,this.zr=!0,this.jr=new gC,this.referenceDelegate=e(this),this.Hr=new EC(this),this.indexManager=new rC,this.remoteDocumentCache=function(o){return new _C(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new nC(n),this.Yr=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new yC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new TC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class TC extends $w{constructor(e){super(),this.currentSequenceNumber=e}}class Qm{constructor(e){this.persistence=e,this.ti=new Km,this.ni=null}static ri(e){return new Qm(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Gc{constructor(e,n){this.persistence=e,this.oi=new Bs(s=>Zw(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=cC(this,n)}static ri(e,n){return new Gc(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ic(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new $m(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yb()?8:Yw(Yt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new SC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ma()<=Ne.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Ma()<=Ne.DEBUG&&le("QueryEngine","Query:",ka(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ma()<=Ne.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):J.resolve())}rs(e,n){if(ov(n))return J.resolve(null);let s=ci(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=hm(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=je(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,hm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return ov(n)||o.isEqual(Se.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):(Ma()<=Ne.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ka(n)),this.hs(e,f,n,Fw(o,Ml)).next(m=>m))})}cs(e,n){let s=new It(g1(e));return n.forEach((o,u)=>{uh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ma()<=Ne.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ka(n)),this.ns.getDocumentsMatchingQuery(e,n,Xr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="LocalStore",wC=3e8;class AC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new dt(Oe),this.Is=new Bs(u=>zm(u),Bm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function CC(r,e,n,s){return new AC(r,e,n,s)}async function V1(r,e){const n=Pe(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=je();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function L1(r){const e=Pe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function RC(r,e){const n=Pe(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,A)=>{const I=o.get(A);if(!I)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,A)));let V=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken(Ht.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(A,V),function(H,L,Y){return H.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=wC?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(I,V,T)&&m.push(n.Hr.updateTargetData(u,V))});let p=es(),y=je();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(IC(u,f,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Se.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function IC(r,e,n){let s=je(),o=je();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=es();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Ym,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function xC(r,e){const n=Pe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Br(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function gm(r,e,n){const s=Pe(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!io(f))throw f;le(Ym,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Ev(r,e,n){const s=Pe(r);let o=Se.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const A=Pe(p),I=A.Is.get(T);return I!==void 0?J.resolve(A.Ts.get(I)):A.Hr.getTargetData(y,T)}(s,f,ci(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:je())).next(m=>(NC(s,EA(e),m),{documents:m,gs:u})))}function NC(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Tv{constructor(){this.activeTargetIds=CA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(){this.ho=new Tv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Tv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class bv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(Sv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(Sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function ym(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="RestConnection",MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===zc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=ym(),m=this.bo(e,n.toUriEncodedString());le(kd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(le(kd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Fa(kd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=MC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class LC extends kC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=ym();return new Promise((f,m)=>{const p=new X0;p.setWithCredentials(!0),p.listenOnce(Z0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Rc.NO_ERROR:const T=p.getResponseJson();le(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Rc.TIMEOUT:le(Kt,`RPC '${e}' ${u} timed out`),m(new pe(re.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const A=p.getStatus();if(le(Kt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I==null?void 0:I.error;if(V&&V.status&&V.message){const B=function(L){const Y=L.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(Y)>=0?Y:re.UNKNOWN}(V.status);m(new pe(B,V.message))}else m(new pe(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new pe(re.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{le(Kt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);le(Kt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=ym(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=e1(),m=W0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");le(Kt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=f.createWebChannel(T,p);let I=!1,V=!1;const B=new VC({Fo:L=>{V?le(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(I||(le(Kt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),I=!0),le(Kt,`RPC '${e}' stream ${o} sending:`,L),A.send(L))},Mo:()=>A.close()}),H=(L,Y,ne)=>{L.listen(Y,ee=>{try{ne(ee)}catch(ge){setTimeout(()=>{throw ge},0)}})};return H(A,Tl.EventType.OPEN,()=>{V||(le(Kt,`RPC '${e}' stream ${o} transport opened.`),B.Qo())}),H(A,Tl.EventType.CLOSE,()=>{V||(V=!0,le(Kt,`RPC '${e}' stream ${o} transport closed`),B.Uo())}),H(A,Tl.EventType.ERROR,L=>{V||(V=!0,Fa(Kt,`RPC '${e}' stream ${o} transport errored:`,L),B.Uo(new pe(re.UNAVAILABLE,"The operation could not be completed")))}),H(A,Tl.EventType.MESSAGE,L=>{var Y;if(!V){const ne=L.data[0];nt(!!ne);const ee=ne,ge=(ee==null?void 0:ee.error)||((Y=ee[0])===null||Y===void 0?void 0:Y.error);if(ge){le(Kt,`RPC '${e}' stream ${o} received error:`,ge);const he=ge.status;let Ee=function(w){const x=_t[w];if(x!==void 0)return w1(x)}(he),O=ge.message;Ee===void 0&&(Ee=re.INTERNAL,O="Unknown error status: "+he+" with message "+ge.message),V=!0,B.Uo(new pe(Ee,O)),A.close()}else le(Kt,`RPC '${e}' stream ${o} received:`,ne),B.Ko(ne)}}),H(m,J0.STAT_EVENT,L=>{L.stat===nm.PROXY?le(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===nm.NOPROXY&&le(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.$o()},0),B}}function Vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(r){return new qA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class PC{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new j1(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new pe(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jC extends PC{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=$A(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?ja(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=gv(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=cm(p)?{documents:YA(u,p)}:{query:XA(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=GA(u,f.resumeToken);const y=mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=FA(u,f.snapshotVersion.toTimestamp());const y=mm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=JA(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=gv(this.serializer),n.removeTarget=e,this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{}class zC extends UC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,pm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(re.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,pm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(re.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class BC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yi(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="RemoteStore";class HC{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Ql(this)&&(le(Ya,"Restarting streams for network reachability change."),await async function(p){const y=Pe(p);y.W_.add(4),await Kl(y),y.j_.set("Unknown"),y.W_.delete(4),await dh(y)}(this))})}),this.j_=new BC(s,o)}}async function dh(r){if(Ql(r))for(const e of r.G_)await e(!0)}async function Kl(r){for(const e of r.G_)await e(!1)}function U1(r,e){const n=Pe(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Wm(n)?Jm(n):ro(n).c_()&&Zm(n,e))}function Xm(r,e){const n=Pe(r),s=ro(n);n.K_.delete(e),s.c_()&&z1(n,e),n.K_.size===0&&(s.c_()?s.P_():Ql(n)&&n.j_.set("Unknown"))}function Zm(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(r).y_(e)}function z1(r,e){r.H_.Ne(e),ro(r).w_(e)}function Jm(r){r.H_=new UA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),ro(r).start(),r.j_.B_()}function Wm(r){return Ql(r)&&!ro(r).u_()&&r.K_.size>0}function Ql(r){return Pe(r).W_.size===0}function B1(r){r.H_=void 0}async function qC(r){r.j_.set("Online")}async function FC(r){r.K_.forEach((e,n)=>{Zm(r,e)})}async function GC(r,e){B1(r),Wm(r)?(r.j_.q_(e),Jm(r)):r.j_.set("Unknown")}async function KC(r,e,n){if(r.j_.set("Online"),e instanceof C1&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){le(Ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Av(r,s)}else if(e instanceof Nc?r.H_.We(e):e instanceof A1?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await L1(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.K_.get(y);T&&u.K_.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=u.K_.get(p);if(!T)return;u.K_.set(p,T.withResumeToken(Ht.EMPTY_BYTE_STRING,T.snapshotVersion)),z1(u,p);const A=new Br(T.target,p,y,T.sequenceNumber);Zm(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(Ya,"Failed to raise snapshot:",s),await Av(r,s)}}async function Av(r,e,n){if(!io(e))throw e;r.W_.add(1),await Kl(r),r.j_.set("Offline"),n||(n=()=>L1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Ya,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await dh(r)})}async function Cv(r,e){const n=Pe(r);n.asyncQueue.verifyOperationInProgress(),le(Ya,"RemoteStore received new credentials");const s=Ql(n);n.W_.add(3),await Kl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await dh(n)}async function QC(r,e){const n=Pe(r);e?(n.W_.delete(2),await dh(n)):e||(n.W_.add(2),await Kl(n),n.j_.set("Unknown"))}function ro(r){return r.J_||(r.J_=function(n,s,o){const u=Pe(n);return u.M_(),new jC(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:qC.bind(null,r),No:FC.bind(null,r),Lo:GC.bind(null,r),p_:KC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Wm(r)?Jm(r):r.j_.set("Unknown")):(await r.J_.stop(),B1(r))})),r.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new ep(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H1(r,e){if(Yi("AsyncQueue",`${e}: ${r}`),io(r))return new pe(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(e){return new Ua(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Sl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ua)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ua;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.Z_=new dt(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Xa{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Xa(e,n,Ua.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class YC{constructor(){this.queries=Iv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Pe(n),u=o.queries;o.queries=Iv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new pe(re.ABORTED,"Firestore shutting down"))}}function Iv(){return new Bs(r=>p1(r),lh)}async function q1(r,e){const n=Pe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new $C,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=H1(f,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&tp(n)}async function F1(r,e){const n=Pe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function XC(r,e){const n=Pe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&tp(n)}function ZC(r,e,n){const s=Pe(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function tp(r){r.ia.forEach(e=>{e.next()})}var _m,xv;(xv=_m||(_m={}))._a="default",xv.Cache="cache";class G1{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Xa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==_m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.key=e}}class Q1{constructor(e){this.key=e}}class JC{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=je(),this.mutatedKeys=je(),this.ya=g1(e),this.wa=new Ua(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new Rv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const I=o.get(T),V=uh(this.query,A)?A:null,B=!!I&&this.mutatedKeys.has(I.key),H=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let L=!1;I&&V?I.data.isEqual(V.data)?B!==H&&(s.track({type:3,doc:V}),L=!0):this.va(I,V)||(s.track({type:2,doc:V}),L=!0,(p&&this.ya(V,p)>0||y&&this.ya(V,y)<0)&&(m=!0)):!I&&V?(s.track({type:0,doc:V}),L=!0):I&&!V&&(s.track({type:1,doc:I}),L=!0,(p||y)&&(m=!0)),L&&(V?(f=f.add(V),u=H?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,A)=>function(V,B){const H=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return H(V)-H(B)}(T.type,A.type)||this.ya(T.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Xa(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Rv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=je(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Q1(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new K1(s))}),n}Oa(e){this.fa=e.gs,this.pa=je();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Xa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const np="SyncEngine";class WC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class eR{constructor(e){this.key=e,this.Ba=!1}}class tR{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Bs(m=>p1(m),lh),this.qa=new Map,this.Qa=new Set,this.$a=new dt(ye.comparator),this.Ua=new Map,this.Ka=new Km,this.Wa={},this.Ga=new Map,this.za=$a.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function nR(r,e,n=!0){const s=J1(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await $1(s,e,n,!0),o}async function iR(r,e){const n=J1(r);await $1(n,e,!0,!1)}async function $1(r,e,n,s){const o=await xC(r.localStore,ci(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await rR(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&U1(r.remoteStore,o),m}async function rR(r,e,n,s,o){r.Ha=(A,I,V)=>async function(H,L,Y,ne){let ee=L.view.ba(Y);ee.ls&&(ee=await Ev(H.localStore,L.query,!1).then(({documents:O})=>L.view.ba(O,ee)));const ge=ne&&ne.targetChanges.get(L.targetId),he=ne&&ne.targetMismatches.get(L.targetId)!=null,Ee=L.view.applyChanges(ee,H.isPrimaryClient,ge,he);return Dv(H,L.targetId,Ee.Ma),Ee.snapshot}(r,A,I,V);const u=await Ev(r.localStore,e,!0),f=new JC(e,u.gs),m=f.ba(u.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);Dv(r,n,y.Ma);const T=new WC(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function sR(r,e,n){const s=Pe(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!lh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Xm(s.remoteStore,o.targetId),vm(s,o.targetId)}).catch(ih)):(vm(s,o.targetId),await gm(s.localStore,o.targetId,!0))}async function aR(r,e){const n=Pe(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Xm(n.remoteStore,s.targetId))}async function Y1(r,e){const n=Pe(r);try{const s=await RC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?nt(f.Ba):o.removedDocuments.size>0&&(nt(f.Ba),f.Ba=!1))}),await Z1(n,s,e)}catch(s){await ih(s)}}function Nv(r,e,n){const s=Pe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Pe(f);p.onlineState=m;let y=!1;p.queries.forEach((T,A)=>{for(const I of A.ta)I.sa(m)&&(y=!0)}),y&&tp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function oR(r,e,n){const s=Pe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new dt(ye.comparator);f=f.insert(u,$t.newNoDocument(u,Se.min()));const m=je().add(u),p=new fh(Se.min(),new Map,new dt(Oe),f,m);await Y1(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),ip(s)}else await gm(s.localStore,e,!1).then(()=>vm(s,e,n)).catch(ih)}function vm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||X1(r,s)})}function X1(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Xm(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),ip(r))}function Dv(r,e,n){for(const s of n)s instanceof K1?(r.Ka.addReference(s.key,e),lR(r,s)):s instanceof Q1?(le(np,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||X1(r,s.key)):be()}function lR(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(le(np,"New document in limbo: "+n),r.Qa.add(s),ip(r))}function ip(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(Ze.fromString(e)),s=r.za.next();r.Ua.set(s,new eR(n)),r.$a=r.$a.insert(n,s),U1(r.remoteStore,new Br(ci(Hm(n.path)),s,"TargetPurposeLimboResolution",rh.ae))}}async function Z1(r,e,n){const s=Pe(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const A=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(y){o.push(y);const A=$m.Yi(p.targetId,y);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const T=Pe(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>J.forEach(y,I=>J.forEach(I.Hi,V=>T.persistence.referenceDelegate.addReference(A,I.targetId,V)).next(()=>J.forEach(I.Ji,V=>T.persistence.referenceDelegate.removeReference(A,I.targetId,V)))))}catch(A){if(!io(A))throw A;le(Ym,"Failed to update sequence numbers: "+A)}for(const A of y){const I=A.targetId;if(!A.fromCache){const V=T.Ts.get(I),B=V.snapshotVersion,H=V.withLastLimboFreeSnapshotVersion(B);T.Ts=T.Ts.insert(I,H)}}}(s.localStore,u))}async function uR(r,e){const n=Pe(r);if(!n.currentUser.isEqual(e)){le(np,"User change. New user:",e.toKey());const s=await V1(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new pe(re.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Z1(n,s.Rs)}}function cR(r,e){const n=Pe(r),s=n.Ua.get(e);if(s&&s.Ba)return je().add(s.key);{let o=je();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function J1(r){const e=Pe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oR.bind(null,e),e.La.p_=XC.bind(null,e.eventManager),e.La.Ja=ZC.bind(null,e.eventManager),e}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=P1(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return CC(this.persistence,new bC,e.initialUser,this.serializer)}Xa(e){return new k1(Qm.ri,this.serializer)}Za(e){return new DC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class hR extends Kc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){nt(this.persistence.referenceDelegate instanceof Gc);const s=this.persistence.referenceDelegate.garbageCollector;return new lC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new k1(s=>Gc.ri(s,n),this.serializer)}}class Em{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uR.bind(null,this.syncEngine),await QC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YC}()}createDatastore(e){const n=P1(e.databaseInfo.databaseId),s=function(u){return new LC(u)}(e.databaseInfo);return function(u,f,m,p){return new zC(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new HC(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Nv(this.syncEngine,n,0),function(){return bv.D()?new bv:new OC}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,T){const A=new tR(o,u,f,m,p,y);return T&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Pe(o);le(Ya,"RemoteStore shutting down."),u.W_.add(5),await Kl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Em.provider={build:()=>new Em};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class fR{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=n1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=H1(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ld(r,e){r.asyncQueue.verifyOperationInProgress(),le(ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await V1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Ov(r,e){r.asyncQueue.verifyOperationInProgress();const n=await dR(r);le(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Cv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Cv(e.remoteStore,o)),r._onlineComponents=e}async function dR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ts,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),await Ld(r,new Kc)}}else le(ts,"Using default OfflineComponentProvider"),await Ld(r,new hR(void 0));return r._offlineComponents}async function mR(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ts,"Using user provided OnlineComponentProvider"),await Ov(r,r._uninitializedComponentsProvider._online)):(le(ts,"Using default OnlineComponentProvider"),await Ov(r,new Em))),r._onlineComponents}async function eE(r){const e=await mR(r),n=e.eventManager;return n.onListen=nR.bind(null,e.syncEngine),n.onUnlisten=sR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aR.bind(null,e.syncEngine),n}function pR(r,e,n={}){const s=new Kr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new W1({next:I=>{T.su(),f.enqueueAndForget(()=>F1(u,A));const V=I.docs.has(m);!V&&I.fromCache?y.reject(new pe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&I.fromCache&&p&&p.source==="server"?y.reject(new pe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(I)},error:I=>y.reject(I)}),A=new G1(Hm(m.path),T,{includeMetadataChanges:!0,Ta:!0});return q1(u,A)}(await eE(r),r.asyncQueue,e,n,s)),s.promise}function gR(r,e,n={}){const s=new Kr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new W1({next:I=>{T.su(),f.enqueueAndForget(()=>F1(u,A)),I.fromCache&&p.source==="server"?y.reject(new pe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),A=new G1(m,T,{includeMetadataChanges:!0,Ta:!0});return q1(u,A)}(await eE(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(r,e,n){if(!n)throw new pe(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yR(r,e,n,s){if(e===!0&&s===!0)throw new pe(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function kv(r){if(!ye.isDocumentKey(r))throw new pe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Vv(r){if(ye.isDocumentKey(r))throw new pe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _R(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be()}function Pl(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new pe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_R(r);throw new pe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="firestore.googleapis.com",Lv=!0;class Pv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iE,this.ssl=Lv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Lv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=M1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aC)throw new pe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pv(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Lw;switch(s.type){case"firstParty":return new zw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Mv.get(n);s&&(le("ComponentProvider","Removing Datastore"),Mv.delete(n),s.terminate())}(this),Promise.resolve()}}function vR(r,e,n,s={}){var o;const u=(r=Pl(r,mh))._getSettings(),f=`${e}:${n}`;if(u.host!==iE&&u.host!==f&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Qt.MOCK_USER;else{m=cb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new pe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qt(y)}r._authCredentials=new Pw(new t1(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ph(this.firestore,e,this._query)}}class hi{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class Qr extends ph{constructor(e,n,s){super(e,n,Hm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new ye(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function ER(r,e,...n){if(r=Gn(r),nE("collection","path",e),r instanceof mh){const s=Ze.fromString(e,...n);return Vv(s),new Qr(r,null,s)}{if(!(r instanceof hi||r instanceof Qr))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return Vv(s),new Qr(r.firestore,null,s)}}function jv(r,e,...n){if(r=Gn(r),arguments.length===1&&(e=n1.newId()),nE("doc","path",e),r instanceof mh){const s=Ze.fromString(e,...n);return kv(s),new hi(r,null,new ye(s))}{if(!(r instanceof hi||r instanceof Qr))throw new pe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Ze.fromString(e,...n));return kv(s),new hi(r.firestore,r instanceof Qr?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="AsyncQueue";class zv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new j1(this,"async_queue_retry"),this.Su=()=>{const s=Vd();s&&le(Uv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Vd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Vd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Kr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!io(e))throw e;le(Uv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Yi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=ep.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class rp extends mh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new zv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zv(e),this._firestoreClient=void 0,await e}}}function TR(r,e){const n=typeof r=="object"?r:Lm(),s=typeof r=="string"?r:zc,o=Vm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lb("firestore");u&&vR(o,...u)}return o}function rE(r){if(r._terminated)throw new pe(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SR(r),r._firestoreClient}function SR(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,T){return new tA(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,tE(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new fR(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qc(Ht.fromBase64String(e))}catch(n){throw new pe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qc(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}const AR=new RegExp("[~\\*/\\[\\]]");function CR(r,e,n){if(e.search(AR)>=0)throw Bv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new sE(...e.split("."))._internalPath}catch{throw Bv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function Bv(r,e,n,s,o){let u=`Function ${e}() called with invalid data`;u+=". ";let f="";return new pe(re.INVALID_ARGUMENT,u+r+f)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RR extends aE{data(){return super.data()}}function oE(r,e){return typeof e=="string"?CR(r,e):e instanceof sE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xR{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fl(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[am].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ft(f.doubleValue));return new wR(u)}convertGeoPoint(e){return new bR(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ah(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ze.fromString(e);nt(O1(s));const o=new Vl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Yi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class lE extends aE{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(oE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Dc extends lE{data(e={}){return super.data(e)}}class NR{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new wl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Dc(this._firestore,this._userDataWriter,s.key,s,new wl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Dc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Dc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new wl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:DR(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function DR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(r){r=Pl(r,hi);const e=Pl(r.firestore,rp);return pR(rE(e),r._key).then(n=>MR(e,r,n))}class uE extends xR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,n)}}function OR(r){r=Pl(r,ph);const e=Pl(r.firestore,rp),n=rE(e),s=new uE(e);return IR(r._query),gR(n,r._query).then(o=>new NR(e,s,r,o))}function MR(r,e,n){const s=n.docs.get(e._key),o=new uE(r);return new lE(r,o,e._key,s,new wl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){no=o})(to),qa(new js("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new rp(new jw(s.getProvider("auth-internal")),new Bw(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Fr(G_,K_,e),Fr(G_,K_,"esm2017")})();var kR="firebase",VR="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(kR,VR,"app");function sp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function cE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LR=cE,hE=new Hl("auth","Firebase",cE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Mm("@firebase/auth");function PR(r,...e){$c.logLevel<=Ne.WARN&&$c.warn(`Auth (${to}): ${r}`,...e)}function Oc(r,...e){$c.logLevel<=Ne.ERROR&&$c.error(`Auth (${to}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...e){throw ap(r,...e)}function fi(r,...e){return ap(r,...e)}function fE(r,e,n){const s=Object.assign(Object.assign({},LR()),{[e]:n});return new Hl("auth","Firebase",s).create(e,{appName:r.name})}function $r(r){return fE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ap(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return hE.create(r,...e)}function ve(r,e,...n){if(!r)throw ap(e,...n)}function Fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Oc(e),new Error(e)}function Xi(r,e){r||Fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function jR(){return qv()==="http:"||qv()==="https:"}function qv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jR()||mb()||"connection"in navigator)?navigator.onLine:!0}function zR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xi(n>e,"Short delay should be less than long delay!"),this.isMobile=hb()||pb()}get(){return UR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(r,e){Xi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=new $l(3e4,6e4);function Hs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ns(r,e,n,s,o={}){return mE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ql(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return db()||(y.referrerPolicy="no-referrer"),dE.fetch()(pE(r,r.config.apiHost,n,m),y)})}async function mE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},BR),e);try{const o=new FR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw wc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw fE(r,T,y);Hn(r,T)}}catch(o){if(o instanceof Zi)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function gh(r,e,n,s,o={}){const u=await ns(r,e,n,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function pE(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?op(r.config,o):`${r.config.apiScheme}://${o}`}function qR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(fi(this.auth,"network-request-failed")),HR.get())})}}function wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=fi(r,e,s);return o.customData._tokenResponse=n,o}function Fv(r){return r!==void 0&&r.enterprise!==void 0}class GR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function KR(r,e){return ns(r,"GET","/v2/recaptchaConfig",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(r,e){return ns(r,"POST","/v1/accounts:delete",e)}async function gE(r,e){return ns(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $R(r,e=!1){const n=Gn(r),s=await n.getIdToken(e),o=lp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:xl(Pd(o.auth_time)),issuedAtTime:xl(Pd(o.iat)),expirationTime:xl(Pd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Pd(r){return Number(r)*1e3}function lp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=z0(n);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Gv(r){const e=lp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&YR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function YR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await jl(r,gE(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?yE(u.providerUserInfo):[],m=JR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Sm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function ZR(r){const e=Gn(r);await Yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function yE(r){return r.map(e=>{var{providerId:n}=e,s=sp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(r,e){const n=await mE(r,{},async()=>{const s=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=pE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",dE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function e4(r,e){return ns(r,"POST","/v2/accounts:revokeToken",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await WR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new za;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Sm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $R(this,e)}reload(){return ZR(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Yc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await jl(this,QR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,T;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,B=(f=n.photoURL)!==null&&f!==void 0?f:void 0,H=(m=n.tenantId)!==null&&m!==void 0?m:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ne=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ee,emailVerified:ge,isAnonymous:he,providerData:Ee,stsTokenManager:O}=n;ve(ee&&O,e,"internal-error");const C=za.fromJSON(this.name,O);ve(typeof ee=="string",e,"internal-error"),Vr(A,e.name),Vr(I,e.name),ve(typeof ge=="boolean",e,"internal-error"),ve(typeof he=="boolean",e,"internal-error"),Vr(V,e.name),Vr(B,e.name),Vr(H,e.name),Vr(L,e.name),Vr(Y,e.name),Vr(ne,e.name);const w=new Gi({uid:ee,auth:e,email:I,emailVerified:ge,displayName:A,isAnonymous:he,photoURL:B,phoneNumber:V,tenantId:H,stsTokenManager:C,createdAt:Y,lastLoginAt:ne});return Ee&&Array.isArray(Ee)&&(w.providerData=Ee.map(x=>Object.assign({},x))),L&&(w._redirectEventId=L),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new za;o.updateFromServerResponse(n);const u=new Gi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?yE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new za;m.updateFromIdToken(s);const p=new Gi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=new Map;function Ki(r){Xi(r instanceof Function,"Expected a class definition");let e=Kv.get(r);return e?(Xi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Kv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_E.type="NONE";const Qv=_E;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ba{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Mc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ba(Ki(Qv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Ki(Qv);const f=Mc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const A=Gi._fromJSON(e,T);y!==u&&(m=A),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ba(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ba(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wE(e))return"Blackberry";if(AE(e))return"Webos";if(EE(e))return"Safari";if((e.includes("chrome/")||TE(e))&&!e.includes("edge/"))return"Chrome";if(bE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function vE(r=Yt()){return/firefox\//i.test(r)}function EE(r=Yt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TE(r=Yt()){return/crios\//i.test(r)}function SE(r=Yt()){return/iemobile/i.test(r)}function bE(r=Yt()){return/android/i.test(r)}function wE(r=Yt()){return/blackberry/i.test(r)}function AE(r=Yt()){return/webos/i.test(r)}function up(r=Yt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function t4(r=Yt()){var e;return up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n4(){return gb()&&document.documentMode===10}function CE(r=Yt()){return up(r)||bE(r)||AE(r)||wE(r)||/windows phone/i.test(r)||SE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r,e=[]){let n;switch(r){case"Browser":n=$v(Yt());break;case"Worker":n=`${$v(Yt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(r,e={}){return ns(r,"GET","/v2/passwordPolicy",Hs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=6;class a4{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:s4,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yv(this),this.idTokenSubscription=new Yv(this),this.beforeStateQueue=new i4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ba.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gE(this,{idToken:e}),s=await Gi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject($r(this));const n=e?Gn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r4(this),n=new a4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await e4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ba.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&PR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function so(r){return Gn(r)}class Yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=wb(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l4(r){yh=r}function IE(r){return yh.loadJS(r)}function u4(){return yh.recaptchaEnterpriseScript}function c4(){return yh.gapiScript}function h4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class f4{constructor(){this.enterprise=new d4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class d4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const m4="recaptcha-enterprise",xE="NO_RECAPTCHA";class p4{constructor(e){this.type=m4,this.auth=so(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{KR(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new GR(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Fv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(xE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f4().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Fv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=u4();p.length!==0&&(p+=m),IE(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Xv(r,e,n,s=!1,o=!1){const u=new p4(r);let f;if(o)f=xE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Zv(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Xv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Xv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(r,e){const n=Vm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Uc(u,e??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:e})}function y4(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function _4(r,e,n){const s=so(r);ve(s._canInitEmulator,s,"emulator-config-failed"),ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=NE(e),{host:f,port:m}=v4(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),E4()}function NE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function v4(r){const e=NE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Jv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Jv(f)}}}function Jv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function E4(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function T4(r,e){return ns(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(r,e){return gh(r,"POST","/v1/accounts:signInWithPassword",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(r,e){return gh(r,"POST","/v1/accounts:signInWithEmailLink",Hs(r,e))}async function w4(r,e){return gh(r,"POST","/v1/accounts:signInWithEmailLink",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends cp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Ul(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Ul(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zv(e,n,"signInWithPassword",S4);case"emailLink":return b4(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zv(e,s,"signUpPassword",T4);case"emailLink":return w4(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ha(r,e){return gh(r,"POST","/v1/accounts:signInWithIdp",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="http://localhost";class zs extends cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=sp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ha(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ha(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ha(e,n)}buildRequest(){const e={requestUri:A4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R4(r){const e=vl(El(r)).link,n=e?vl(El(e)).deep_link_id:null,s=vl(El(r)).deep_link_id;return(s?vl(El(s)).link:null)||s||n||e||r}class hp{constructor(e){var n,s,o,u,f,m;const p=vl(El(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,A=C4((o=p.mode)!==null&&o!==void 0?o:null);ve(y&&T&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=R4(e);try{return new hp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(e,n){return Ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=hp.parseLink(n);return ve(s,"argument-error"),Ul._fromEmailAndCode(e,s.code,s.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends DE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Yl{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Pr.credential(n,s)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Yl{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Yl{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Gi._fromIdTokenResponse(e,s,o),f=Wv(s);return new Za({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Wv(s);return new Za({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Wv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends Zi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Xc(e,n,s,o)}}function OE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Xc._fromErrorAndOperation(r,u,e,s):u})}async function I4(r,e,n=!1){const s=await jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Za._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(r,e,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject($r(s));const o="reauthenticate";try{const u=await jl(r,OE(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=lp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Za._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ME(r,e,n=!1){if(zn(r.app))return Promise.reject($r(r));const s="signIn",o=await OE(r,s,e),u=await Za._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function N4(r,e){return ME(so(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(r){const e=so(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function O4(r,e,n){return zn(r.app)?Promise.reject($r(r)):N4(Gn(r),ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&D4(r),s})}function M4(r,e,n,s){return Gn(r).onIdTokenChanged(e,n,s)}function k4(r,e,n){return Gn(r).beforeAuthStateChanged(e,n)}function V4(r,e,n,s){return Gn(r).onAuthStateChanged(e,n,s)}function L4(r){return Gn(r).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=1e3,j4=10;class VE extends kE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);n4()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,j4):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},P4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VE.type="LOCAL";const U4=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE extends kE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}LE.type="SESSION";const PE=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new _h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await z4(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=fp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const I=A;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(){return window}function H4(r){di().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(){return typeof di().WorkerGlobalScope<"u"&&typeof di().importScripts=="function"}async function q4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F4(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function G4(){return jE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebaseLocalStorageDb",K4=1,Jc="firebaseLocalStorage",zE="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(r,e){return r.transaction([Jc],e?"readwrite":"readonly").objectStore(Jc)}function Q4(){const r=indexedDB.deleteDatabase(UE);return new Xl(r).toPromise()}function bm(){const r=indexedDB.open(UE,K4);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Jc,{keyPath:zE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Jc)?e(s):(s.close(),await Q4(),e(await bm()))})})}async function e0(r,e,n){const s=vh(r,!0).put({[zE]:e,value:n});return new Xl(s).toPromise()}async function $4(r,e){const n=vh(r,!1).get(e),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function t0(r,e){const n=vh(r,!0).delete(e);return new Xl(n).toPromise()}const Y4=800,X4=3;class BE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>X4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(G4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await q4(),!this.activeServiceWorker)return;this.sender=new B4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bm();return await e0(e,Zc,"1"),await t0(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>e0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>$4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=vh(o,!1).getAll();return new Xl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BE.type="LOCAL";const Z4=BE;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r,e){return e?Ki(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp extends cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function W4(r){return ME(r.auth,new dp(r),r.bypassAuthState)}function eI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),x4(n,new dp(r),r.bypassAuthState)}async function tI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),I4(n,new dp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return W4;case"linkViaPopup":case"linkViaRedirect":return tI;case"reauthViaPopup":case"reauthViaRedirect":return eI;default:Hn(this.auth,"internal-error")}}resolve(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new $l(2e3,1e4);class Pa extends HE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const e=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nI.get())};e()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="pendingRedirect",kc=new Map;class rI extends HE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=kc.get(this.auth._key());if(!e){try{const s=await sI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}kc.set(this.auth._key(),e)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sI(r,e){const n=lI(e),s=oI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function aI(r,e){kc.set(r._key(),e)}function oI(r){return Ki(r._redirectPersistence)}function lI(r){return Mc(iI,r.config.apiKey,r.name)}async function uI(r,e,n=!1){if(zn(r.app))return Promise.reject($r(r));const s=so(r),o=J4(s,e),f=await new rI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=10*60*1e3;class hI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!qE(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(fi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cI&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(e))}saveEventToCache(e){this.cachedEventUids.add(n0(e)),this.lastProcessedEventTime=Date.now()}}function n0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function qE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(r,e={}){return ns(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pI=/^https?/;async function gI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await dI(r);for(const n of e)try{if(yI(n))return}catch{}Hn(r,"unauthorized-domain")}function yI(r){const e=Tm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!pI.test(n))return!1;if(mI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=new $l(3e4,6e4);function i0(){const r=di().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function vI(r){return new Promise((e,n)=>{var s,o,u;function f(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),n(fi(r,"network-request-failed"))},timeout:_I.get()})}if(!((o=(s=di().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=di().gapi)===null||u===void 0)&&u.load)f();else{const m=h4("iframefcb");return di()[m]=()=>{gapi.load?f():n(fi(r,"network-request-failed"))},IE(`${c4()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function EI(r){return Vc=Vc||vI(r),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new $l(5e3,15e3),SI="__/auth/iframe",bI="emulator/auth/iframe",wI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?op(e,bI):`https://${r.config.authDomain}/${SI}`,s={apiKey:e.apiKey,appName:r.name,v:to},o=AI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ql(s).slice(1)}`}async function RI(r){const e=await EI(r),n=di().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:CI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=fi(r,"network-request-failed"),m=di().setTimeout(()=>{u(f)},TI.get());function p(){di().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xI=500,NI=600,DI="_blank",OI="http://localhost";class r0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MI(r,e,n,s=xI,o=NI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},II),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Yt().toLowerCase();n&&(m=TE(y)?DI:n),vE(y)&&(e=e||OI,p.scrollbars="yes");const T=Object.entries(p).reduce((I,[V,B])=>`${I}${V}=${B},`,"");if(t4(y)&&m!=="_self")return kI(e||"",m),new r0(null);const A=window.open(e||"",m,T);ve(A,r,"popup-blocked");try{A.focus()}catch{}return new r0(A)}function kI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="__/auth/handler",LI="emulator/auth/handler",PI=encodeURIComponent("fac");async function s0(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:to,eventId:o};if(e instanceof DE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",bb(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof Yl){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${PI}=${encodeURIComponent(p)}`:"";return`${jI(r)}?${ql(m).slice(1)}${y}`}function jI({config:r}){return r.emulator?op(r,LI):`https://${r.authDomain}/${VI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class UI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PE,this._completeRedirectFn=uI,this._overrideRedirectResult=aI}async _openPopup(e,n,s,o){var u;Xi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await s0(e,n,s,Tm(),o);return MI(e,f,fp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await s0(e,n,s,Tm(),o);return H4(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Xi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await RI(e),s=new hI(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[jd];f!==void 0&&n(!!f),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CE()||EE()||up()}}const zI=UI;var a0="@firebase/auth",o0="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qI(r){qa(new js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RE(r)},y=new o4(s,o,u,p);return y4(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qa(new js("auth-internal",e=>{const n=so(e.getProvider("auth").getImmediate());return(s=>new BI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(a0,o0,HI(r)),Fr(a0,o0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=5*60,GI=q0("authIdTokenMaxAge")||FI;let l0=null;const KI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GI)return;const o=n==null?void 0:n.token;l0!==o&&(l0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QI(r=Lm()){const e=Vm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=g4(r,{popupRedirectResolver:zI,persistence:[Z4,U4,PE]}),s=q0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=KI(u.toString());k4(n,f,()=>f(n.currentUser)),M4(n,m=>f(m))}}const o=B0("auth");return o&&_4(n,`http://${o}`),n}function $I(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}l4({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=fi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",$I().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qI("Browser");const YI={apiKey:"AIzaSyDvm4yjso4ifEiWS17c_qhQA3lGZ3sBzLU",authDomain:"prin-login.firebaseapp.com",projectId:"prin-login",storageBucket:"prin-login.appspot.com",messagingSenderId:"779054252705",appId:"1:779054252705:web:0263dcf33cbd81968426e0"},FE=Aw().length?Lm():K0(YI),mp=QI(FE),wm=TR(FE),pp=F.createContext(),XI=({children:r})=>{const e=localStorage.getItem("currentTheme")||"light",[n,s]=F.useState(e),o=JSON.parse(localStorage.getItem("customThemes"))||[],[u,f]=F.useState(o),[m,p]=F.useState(null);F.useEffect(()=>{localStorage.setItem("currentTheme",n),y()},[n,m]);const y=()=>{const I=document.documentElement;m?Object.entries(m).forEach(([V,B])=>{I.style.setProperty(V,B)}):(I.removeAttribute("style"),I.setAttribute("data-theme",n))},T=I=>{p(null),s(I)},A=()=>{const I=document.documentElement,V={};return["--enfasis0","--enfasis1","--enfasis2","--enfasis3","--enfasis4","--enfasis5","--enfasis6","--enfasis7","--enfasis8","--enfasis9","--enfasis10","--text-color1","--text-color2","--text-color3","--text-color4","--background-color0","--background-color1","--background-color2","--background-color3","--background-color4","--background-color5","--background-color6","--background-color7","--background-color8","--background-color9","--background-color10","--titulo1","--titulo2","--danger1","--danger2"].forEach(B=>{V[B]=getComputedStyle(I).getPropertyValue(B).trim()}),V};return E.jsx(pp.Provider,{value:{theme:n,setTheme:s,toggleTheme:T,customThemes:u,setCustomThemes:f,customTheme:m,setCustomTheme:p,getCurrentColors:A},children:r})},GE=()=>{const{theme:r,toggleTheme:e,customThemes:n,setCustomThemes:s,setCustomTheme:o,setTheme:u}=F.useContext(pp),f=m=>{const p=m.target.value;if(["arandano-claro","arandano-oscuro","menta-claro","menta-oscuro","ciruela-claro","ciruela-oscuro","naranjo-claro","naranjo-oscuro","limon-claro","limon-oscuro","alto-contraste-claro","alto-contraste-oscuro","granada-claro","granada-oscuro"].includes(p))o(null),e(p);else{const y=n.find(T=>T.name===p);y&&(o(y.colors),u(p))}};return E.jsxs("div",{className:"theme-switcher",children:[E.jsx("label",{htmlFor:"theme-selector",children:"Seleccionar Tema:"}),E.jsxs("select",{id:"theme-selector",value:r,onChange:f,children:[E.jsx("option",{value:"arandano-claro",children:"Arndano Claro"}),E.jsx("option",{value:"menta-claro",children:"Menta Claro"}),E.jsx("option",{value:"ciruela-claro",children:"Ciruelo Claro"}),E.jsx("option",{value:"naranjo-claro",children:"Naranjo Claro"}),E.jsx("option",{value:"limon-claro",children:"Limn Claro"}),E.jsx("option",{value:"granada-claro",children:"Granada Claro"}),E.jsx("option",{disabled:!0,children:" "}),E.jsx("option",{value:"arandano-oscuro",children:"Arndano Oscuro"}),E.jsx("option",{value:"menta-oscuro",children:"Menta Oscuro"}),E.jsx("option",{value:"ciruela-oscuro",children:"Ciruelo Oscuro"}),E.jsx("option",{value:"naranjo-oscuro",children:"Naranjo Oscuro"}),E.jsx("option",{value:"limon-oscuro",children:"Limn Oscuro"}),E.jsx("option",{value:"granada-oscuro",children:"Granada Oscuro"}),E.jsx("option",{disabled:!0,children:" "}),E.jsx("option",{value:"alto-contraste-claro",children:"Alto Contraste Claro"}),E.jsx("option",{value:"alto-contraste-oscuro",children:"Alto Contraste Oscuro"}),n.map(m=>E.jsx("option",{value:m.name,children:m.name},m.name))]}),E.jsx("div",{className:"custom-themes-list",children:n.map(m=>E.jsx("div",{className:"custom-theme-item"},m.name))})]})},Lc=({taTitle:r,reTitle:e="Datos INCOMPLETOS",buText:n,campos:s=[]})=>E.jsxs("div",{className:"tarjeta",children:[r!==""&&E.jsx("h2",{className:"tarjeta-title",children:r||"Formulario de INCOMPLETO"}),E.jsxs("div",{className:"remarco",children:[E.jsx("h3",{children:e})," ",s.length===0?E.jsxs("div",{children:[E.jsx("p",{className:"mensaje-personalizado",children:'Ttulo Formulario  taTitle = "(Personalizado)"'}),E.jsx("p",{className:"mensaje-personalizado",children:'Ttulo Seccin  reTitle = "(Personalizado)"'}),E.jsx("p",{className:"mensaje-personalizado",children:'Texto Botn  buText = "(Personalizado)"'}),E.jsxs("p",{className:"mensaje-personalizado",children:["Campos  ","campos={[ <Input_X/>, <Input_X/> ]}"]})]}):s.map((o,u)=>E.jsx("div",{className:"campo-container",children:o},u))]}),n&&n!==""&&E.jsx("button",{className:"submit-button",children:n})]}),ZI=({className:r="",onClick:e=()=>{},children:n})=>{const[s,o]=F.useState(!0),u=()=>{const y=!s;o(y);const{iconName:T}=f();console.log(`Icono actual: ${T}`),console.log(`isActive: ${y}`),e(),r.includes("limpiar")&&setTimeout(()=>{o(!0)},1e3)},f=()=>r.includes("mostrar")?{icon:s?E.jsx(k0,{}):E.jsx(L0,{}),iconName:s?"Icon_Mostrar":"Icon_Ocultar",text:s?"Mostrando este campo al usuario":"Ocultando este campo al usuario"}:r.includes("editar")?{icon:s?E.jsx(Hd,{}):E.jsx(R0,{}),iconName:s?"Icon_Editar":"Icon_Bloquear",text:s?"Permitiendo la edicin al usuario":"Bloqueando la edicin al usuario"}:r.includes("permitir")?{icon:s?E.jsx(P0,{}):E.jsx(V0,{}),iconName:s?"Icon_Settings":"Icon_Nut",text:s?"Activar opcin de incluir en el informe":"Desactivar opcin de incluir en el informe"}:r.includes("limpiar")?{icon:s?E.jsx(x0,{}):E.jsx(N0,{}),iconName:s?"Icon_Close":"Icon_CloseB",text:"Limpiar campo"}:r.includes("incluir")?{icon:s?E.jsx(O0,{}):E.jsx(I0,{}),iconName:s?"Icon_Incluir":"Icon_Excluir",text:s?"Incluyendo en el informe":"Excluyendo del informe"}:{icon:null,iconName:"N/A",text:"Elegir entre las clases: mostrar, editar, permitir, limpiar e incluir"},{icon:m,text:p}=f();return E.jsxs("button",{className:`basic-button ${r} ${s?"":"inactive"}`,onClick:u,"aria-pressed":s,title:p,tabIndex:-1,children:[m&&!n&&m,!m&&p,n]})},JI=r=>{r=r.replace(/[.-]/g,"");const e=r.slice(0,-1),n=r.slice(-1).toUpperCase();if(e.length<6)return!1;let s=0,o=2;for(let m=e.length-1;m>=0;m--)s+=parseInt(e[m])*o,o=o===7?2:o+1;const u=s%11;return(u===1?"K":u===0?"0":(11-u).toString())===n},WI=r=>(r=r.replace(/[^0-9kK]/g,"").toUpperCase(),r.length>1&&(r=r.slice(0,-1).replace(/\B(?=(\d{3})+(?!\d))/g,".")+"-"+r.slice(-1)),r),Ud=[{code:"+54",country:"Argentina",flag:"",digits:10},{code:"+591",country:"Bolivia",flag:"",digits:8},{code:"+55",country:"Brazil",flag:"",digits:11},{code:"+56",country:"Chile",flag:"",digits:9},{code:"+57",country:"Colombia",flag:"",digits:10},{code:"+506",country:"Costa Rica",flag:"",digits:8},{code:"+53",country:"Cuba",flag:"",digits:8},{code:"+593",country:"Ecuador",flag:"",digits:9},{code:"+503",country:"El Salvador",flag:"",digits:8},{code:"+502",country:"Guatemala",flag:"",digits:8},{code:"+504",country:"Honduras",flag:"",digits:8},{code:"+52",country:"Mexico",flag:"",digits:10},{code:"+505",country:"Nicaragua",flag:"",digits:8},{code:"+507",country:"Panama",flag:"",digits:8},{code:"+595",country:"Paraguay",flag:"",digits:9},{code:"+51",country:"Peru",flag:"",digits:9},{code:"+1",country:"Estados Unidos",flag:"",digits:10},{code:"+598",country:"Uruguay",flag:"",digits:8},{code:"+58",country:"Venezuela",flag:"",digits:10},{code:"+34",country:"Espaa",flag:"",digits:9}],gp=F.createContext(),e5=({children:r})=>{const[e,n]=F.useState(()=>{const u=localStorage.getItem("isMasterUser");return u?JSON.parse(u):!1}),s=u=>{const f=u==="Maestro";n(f),localStorage.setItem("isMasterUser",JSON.stringify(f)),console.log("Usuario actualizado:",u)},o=()=>{n(!1),localStorage.removeItem("isMasterUser")};return E.jsx(gp.Provider,{value:{isMasterUser:e,login:s,logout:o},children:r})};let u0="";const Ct=({type:r="",value:e="",label:n,level:s=5,required:o=!0,options:u=[],onChange:f,placeholder:m})=>{const[p,y]=F.useState(e),[T,A]=F.useState(!0),[I,V]=F.useState("+56"),{isMasterUser:B}=F.useContext(gp),H=F.useRef(null);F.useEffect(()=>{console.log("Estado de isMasterUser actualizado:",B)},[B]),F.useEffect(()=>{f&&f({target:{value:p}})},[p,f]);const L={nombre:X=>/^[a-zA-Z\s]+$/.test(X),correo:X=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X),telefono:X=>{const se=Ud.find(Ue=>Ue.code===I),ue=se?se.digits:9;return/^\d+$/.test(X)&&X.length===ue},rut:X=>JI(X),fecha:X=>/^\d{4}-\d{2}-\d{2}$/.test(X),lista:X=>!0,clave:X=>X.length>3,reclave:X=>X===u0},Y=X=>{let se=X.target.value;r==="rut"&&(se=WI(se)),y(se),r==="clave"&&(u0=se),r&&L[r]&&A(L[r](se))},ne=X=>{V(X.target.value),y(""),A(!1)},ee=[{className:"mostrar",onClick:()=>console.log("Mostrar")},{className:"editar",onClick:()=>console.log("Editar")},{className:"permitir",onClick:()=>console.log("Permitir")},{className:"limpiar",onClick:()=>{y(""),H.current.focus()}},{className:"incluir",onClick:()=>console.log("Incluir")}],ge=[{value:"opcion1",label:"Opcin 1"},{value:"opcion2",label:"Opcin 2"},{value:"opcion3",label:"Opcin 3"}],Ee=(X=>Array.isArray(X)?X.map(se=>({value:typeof se=="string"?se.toLowerCase().replace(/\s+/g,"-"):se.value,label:typeof se=="string"?se:se.label})):[])(u.length>0?u:ge),O=()=>{switch(s){case 0:return[];case 1:return ee.filter(X=>X.className==="limpiar");case 2:return ee.filter(X=>["limpiar","incluir"].includes(X.className));case 3:return ee.filter(X=>["permitir","limpiar","incluir"].includes(X.className));case 4:return B?ee.filter(X=>["editar","permitir","limpiar","incluir"].includes(X.className)):[];case 5:return B?ee:[];case 6:return ee.filter(X=>X.className==="incluir");default:return[]}},C=()=>O().map((se,ue)=>E.jsx(ZI,{className:se.className,onClick:()=>{se.onClick&&se.onClick()}},ue)),w=r?`Ingrese su ${r}...`:`Variables faltantes: (title para ms)
type="(nombre, correo, telefono, rut, fecha, lista, clave, reclave)"; 
label="(Personalizado)"; 
level={"(0-6)"}; 
required={false}; 
placeholder="(Personalizado)" 
options=["opt1", "opt2", ...] ((solo para lista))`,x=m||w;n||r&&r.charAt(0).toUpperCase()+r.slice(1);const k={color:o?"var(--enfasis3)":"var(--background-color7)"},U=()=>E.jsx("select",{value:p,onChange:Y,className:`input-field ${T?"valid":"invalid"}`,children:Ee.length===0?E.jsx("option",{value:"",disabled:!0,className:"input-field",children:"Seleccione una opcin..."}):Ee.map((X,se)=>E.jsx("option",{value:X.value,className:"input-field",children:X.label},se))}),N=()=>{const X=Ud.find(ue=>ue.code===I),se=X?X.digits:9;return E.jsxs("div",{className:"telefono-input-container",children:[E.jsx("select",{value:I,onChange:ne,children:Ud.map(ue=>E.jsxs("option",{value:ue.code,title:ue.country,className:"input-field",children:[ue.flag," ",ue.code]},ue.code))}),E.jsxs("div",{className:"telefono-input-wrapper",children:[E.jsx("input",{ref:H,type:"tel",value:p,onChange:Y,className:`input-field ${T?"valid":"invalid"}`,placeholder:`${se} dgitos`,maxLength:se}),p&&E.jsx("span",{className:`validation-icon ${T?"valid":"invalid"}`,children:T?E.jsx(_l,{fill:"#28b3a0"}):E.jsx(yl,{})})]})]})},ut=()=>E.jsxs("div",{className:"input-with-icon",children:[E.jsx("input",{ref:H,type:"password",value:p,onChange:Y,className:`input-field ${T?"valid":"invalid"}`,placeholder:x}),p&&E.jsx("span",{className:`validation-icon ${T?"valid":"invalid"}`,children:T?E.jsx(_l,{fill:"#28b3a0"}):E.jsx(yl,{})})]}),it=()=>E.jsxs("div",{className:"input-with-icon",children:[E.jsx("input",{ref:H,type:"password",value:p,onChange:Y,className:`input-field ${T?"valid":"invalid"}`,placeholder:x}),p&&E.jsx("span",{className:`validation-icon ${T?"valid":"invalid"}`,children:T?E.jsx(_l,{fill:"#28b3a0"}):E.jsx(yl,{})})]});return E.jsxs("div",{className:"input-container",children:[E.jsxs("div",{className:"input-header",children:[E.jsx("label",{className:"input-label",style:k,children:n||"Input"}),E.jsx("div",{className:"botones",children:C()})]}),r==="telefono"&&N(),r==="lista"&&U(),r==="clave"&&ut(),r==="reclave"&&it(),["nombre","correo","rut","fecha"].includes(r)&&E.jsxs("div",{className:"input-with-icon",children:[E.jsx("input",{ref:H,type:r==="fecha"?"date":"text",value:p,onChange:Y,className:`input-field ${T?"valid":"invalid"}`,placeholder:x,title:x}),p&&E.jsx("span",{className:`validation-icon ${T?"valid":"invalid"}`,children:T?E.jsx(_l,{fill:"#28b3a0"}):E.jsx(yl,{})})]}),!["telefono","lista","clave","reclave","nombre","correo","rut","fecha"].includes(r)&&E.jsx("div",{className:"input-with-icon",children:E.jsx("input",{ref:H,type:"text",value:p,onChange:Y,className:`input-field ${T?"valid":"invalid"}`,placeholder:x,title:x})})]})},t5=()=>{const[r,e]=F.useState("lista"),[n,s]=F.useState([]),[o,u]=F.useState(""),f=async()=>{try{console.log("Obteniendo datos de Firestore...");const T=ER(wm,"usuarios"),A=await OR(T);if(A.empty){console.warn("No hay usuarios registrados en Firestore."),s([]);return}const I=A.docs.map(V=>({id:V.id,...V.data()}));console.log("Usuarios obtenidos:",I),s(I)}catch(T){console.error("Error al cargar usuarios:",T),alert("Hubo un error al cargar los usuarios.")}};F.useEffect(()=>{f()},[]),F.useEffect(()=>{console.log("Estado actualizado de usuarios:",n)},[n]);const m=T=>{u(T.target.value)},p=T=>{alert(`Editar usuario: ${T.primerNombre} ${T.primerApellido}`)},y=T=>{alert(`Eliminar usuario con ID: ${T}`)};return E.jsxs("div",{className:"container",children:[E.jsx("h1",{children:"Gestin de Usuarios"}),E.jsx("div",{className:"paleta-colores"}),E.jsxs("div",{className:"tabs-container",children:[E.jsx("button",{className:`tab-button ${r==="lista"?"active":""}`,onClick:()=>e("lista"),children:"Lista de Usuarios"}),E.jsx("button",{className:`tab-button ${r==="agregar"?"active":""}`,onClick:()=>e("agregar"),children:"Agregar Nuevo Usuario"})]}),E.jsxs("div",{className:"caja",children:[r==="lista"&&E.jsxs("div",{children:[E.jsx("h2",{className:"letrasGrandes",children:"Lista de Usuarios"}),E.jsxs("div",{className:"select-container",children:[E.jsx("label",{htmlFor:"usuario-select",children:"Selecciona un usuario:"}),E.jsxs("select",{id:"usuario-select",value:o,onChange:m,children:[E.jsx("option",{value:"",children:"-- Selecciona un usuario --"}),n.map(T=>E.jsxs("option",{value:T.id,children:[T.primerNombre," ",T.primerApellido," - ",T.correoElectronico]},T.id))]})]}),E.jsxs("table",{className:"tabla-usuarios",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Primer Nombre"}),E.jsx("th",{children:"Primer Apellido"}),E.jsx("th",{children:"Correo Electrnico"}),E.jsx("th",{children:"Rol"}),E.jsx("th",{children:"Estado"}),E.jsx("th",{children:"Acciones"})]})}),E.jsx("tbody",{children:n.length>0?n.map(T=>E.jsxs("tr",{className:"fila-usuario",children:[E.jsx("td",{children:T.primerNombre||"Sin nombre"}),E.jsx("td",{children:T.primerApellido||"Sin apellido"}),E.jsx("td",{children:T.correoElectronico||"Sin correo"}),E.jsx("td",{className:T.rol==="Maestro"?"rol-maestro":"rol-estandar",children:T.rol||"Sin rol"}),E.jsx("td",{className:T.estado==="Activo"?"estado-activo":"estado-inactivo",children:T.estado||"Desconocido"}),E.jsxs("td",{children:[E.jsx("button",{className:"boton-editar",onClick:()=>p(T),children:"Editar"}),E.jsx("button",{className:"boton-eliminar",onClick:()=>y(T.id),children:"Eliminar"})]})]},T.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"6",children:"No hay usuarios registrados."})})})]})]}),r==="agregar"&&E.jsxs("div",{children:[E.jsx(Lc,{taTitle:"Datos del Personales",reTitle:"",campos:[E.jsx(Ct,{type:"nombre",label:"Primer Nombre:",level:5,placeholder:"Ingrese su primer nombre..."}),E.jsx(Ct,{type:"nombre",label:"Segundo Nombre:",level:5,placeholder:"Ingrese sus otros nombres...",required:!1}),E.jsx(Ct,{type:"nombre",label:"Primer Apellido:",level:5,placeholder:"Ingrese su primer apellido..."}),E.jsx(Ct,{type:"nombre",label:"Segundo Apellido:",level:5,placeholder:"Ingrese su segundo apellido...",required:!1}),E.jsx(Ct,{type:"rut",label:"RUT o Documento:",level:5,placeholder:"Ingrese su nmero de documento..."}),E.jsx(Ct,{type:"fecha",label:"Fecha de Nacimiento:",level:5,placeholder:"Ingrese su fecha de nacimiento...",required:!1})]}),E.jsx(Lc,{taTitle:"Datos de Contacto",reTitle:"",campos:[E.jsx(Ct,{type:"correo",label:"Correo Eletrnico Principal:",level:5,placeholder:"Ingrese su correo electrnico principal..."}),E.jsx(Ct,{type:"correo",label:"Correo Eletrnico Alternativo:",level:5,placeholder:"Ingrese su correo electrnico secundario...",required:!1}),E.jsx(Ct,{type:"telefono",label:"Telfono Principal:",level:5,placeholder:"Ingrese su nmero telefnico principal..."}),E.jsx(Ct,{type:"telefono",label:"Telfono Alternativo:",level:5,placeholder:"Ingrese su nmero telefnico secundario...",required:!1})]}),E.jsx(Lc,{taTitle:"Datos Profesionales",reTitle:"",campos:[E.jsx(Ct,{type:"nombre",label:"Ttulo obtenido:",level:5,placeholder:"Ingrese su titulo acadmico...",required:!1}),E.jsx(Ct,{type:"nombre",label:"Nmero de Registro:",level:5,placeholder:"Ingrese el nmero de registro de su ttulo...",required:!1}),E.jsx(Ct,{type:"nombre",label:"Institucin de Registro:",level:5,placeholder:"Ingrese la institucin que otorga el registro...",required:!1})]})]})]})]})},n5=()=>{const{customThemes:r,setCustomThemes:e,setCustomTheme:n,getCurrentColors:s,theme:o,customTheme:u}=F.useContext(pp),[f,m]=F.useState({}),[p,y]=F.useState({}),[T,A]=F.useState("");F.useEffect(()=>{const H=s(),L={"--enfasis0":H["--enfasis0"]||"#6d2b8b","--enfasis1":H["--enfasis1"]||"#7b369a","--enfasis2":H["--enfasis2"]||"#8e44ad","--enfasis3":H["--enfasis3"]||"#934db2","--enfasis4":H["--enfasis4"]||"#9b59b6","--enfasis5":H["--enfasis5"]||"#a56abc","--enfasis6":H["--enfasis6"]||"#b37fc4","--enfasis7":H["--enfasis7"]||"#c08fcc","--enfasis8":H["--enfasis8"]||"#d3a5dd","--enfasis9":H["--enfasis9"]||"#e2c1e9","--enfasis10":H["--enfasis10"]||"#f1dbf3","--text-color1":H["--text-color1"]||"#2c3e50","--text-color2":H["--text-color2"]||"#34495e","--text-color3":H["--text-color3"]||"#ecf0f1","--text-color4":H["--text-color4"]||"#ecf0f1","--background-color0":H["--background-color0"]||"#ffffff","--background-color1":H["--background-color1"]||"#f5f5f5","--background-color2":H["--background-color2"]||"#e4e4e4","--background-color3":H["--background-color3"]||"#cccccc","--background-color4":H["--background-color4"]||"#b7b7b7","--background-color5":H["--background-color5"]||"#9e9e9e","--background-color6":H["--background-color6"]||"#888888","--background-color7":H["--background-color7"]||"#6f6f6f","--background-color8":H["--background-color8"]||"#555555","--background-color9":H["--background-color9"]||"#3c3c3c","--background-color10":H["--background-color10"]||"#222222","--titulo1":H["--titulo1"]||"#6c3483","--titulo2":H["--titulo2"]||"#8e44ad","--danger1":H["--danger1"]||"#e74c3c","--danger2":H["--danger2"]||"#c0392b"};m(L),y(L)},[o]),F.useEffect(()=>{const H=setTimeout(()=>{const L=s(),Y={"--enfasis0":L["--enfasis0"]||"#6d2b8b","--enfasis1":L["--enfasis1"]||"#7b369a","--enfasis2":L["--enfasis2"]||"#8e44ad","--enfasis3":L["--enfasis3"]||"#934db2","--enfasis4":L["--enfasis4"]||"#9b59b6","--enfasis5":L["--enfasis5"]||"#a56abc","--enfasis6":L["--enfasis6"]||"#b37fc4","--enfasis7":L["--enfasis7"]||"#c08fcc","--enfasis8":L["--enfasis8"]||"#d3a5dd","--enfasis9":L["--enfasis9"]||"#e2c1e9","--enfasis10":L["--enfasis10"]||"#f1dbf3","--text-color1":L["--text-color1"]||"#2c3e50","--text-color2":L["--text-color2"]||"#34495e","--text-color3":L["--text-color3"]||"#ecf0f1","--text-color4":L["--text-color4"]||"#ecf0f1","--background-color0":L["--background-color0"]||"#ffffff","--background-color1":L["--background-color1"]||"#f5f5f5","--background-color2":L["--background-color2"]||"#e4e4e4","--background-color3":L["--background-color3"]||"#cccccc","--background-color4":L["--background-color4"]||"#b7b7b7","--background-color5":L["--background-color5"]||"#9e9e9e","--background-color6":L["--background-color6"]||"#888888","--background-color7":L["--background-color7"]||"#6f6f6f","--background-color8":L["--background-color8"]||"#555555","--background-color9":L["--background-color9"]||"#3c3c3c","--background-color10":L["--background-color10"]||"#222222","--titulo1":L["--titulo1"]||"#6c3483","--titulo2":L["--titulo2"]||"#8e44ad","--danger1":L["--danger1"]||"#e74c3c","--danger2":L["--danger2"]||"#c0392b"};m(Y)},50);return()=>clearTimeout(H)},[o,u]);const I=(H,L)=>{m(Y=>({...Y,[H]:L})),document.documentElement.style.setProperty(H,L)},V=()=>{if(!f||Object.keys(f).length===0){alert("No hay colores para guardar.");return}const H=prompt("Ingresa un nombre para el tema:");if(!H)return;const L={name:H,colors:f},ne=[...(JSON.parse(localStorage.getItem("customThemes"))||[]).filter(ee=>ee.name!==H),L];localStorage.setItem("customThemes",JSON.stringify(ne)),e(ne),n(f),alert(`Tema "${H}" guardado y aplicado.`),A("")},B=()=>{if(!u)return;const H=JSON.parse(localStorage.getItem("customThemes"))||[],L=H.find(ne=>JSON.stringify(ne.colors)===JSON.stringify(u));if(!L)return;const Y=H.filter(ne=>ne.name!==L.name);localStorage.setItem("customThemes",JSON.stringify(Y)),e(Y),n(null),alert(`Tema "${L.name}" eliminado. Se volver al tema Light.`)};return E.jsxs("div",{className:"editor-temas",children:[E.jsx("h2",{children:"Editor de Temas"}),E.jsxs("table",{className:"theme-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Variable CSS"}),E.jsx("th",{children:"Color Anterior"}),E.jsx("th",{children:"Cdigo Original"}),E.jsx("th",{children:"Selector de Color"})]})}),E.jsx("tbody",{children:Object.entries(f).map(([H,L])=>E.jsxs("tr",{children:[E.jsx("td",{children:H}),E.jsx("td",{children:E.jsx("div",{className:"color-preview",style:{backgroundColor:p[H]||L,width:"30px",height:"30px",border:"1px solid #ccc"}})}),E.jsx("td",{children:p[H]||L}),E.jsx("td",{children:E.jsx("div",{className:"color-preview",style:{backgroundColor:L,width:"30px",height:"30px",border:"1px solid #ccc"}})}),E.jsx("td",{children:L}),E.jsx("td",{children:E.jsx("input",{type:"color",value:L,onChange:Y=>I(H,Y.target.value)})})]},H))})]}),E.jsx("button",{className:"btn btn-success",onClick:V,children:"Guardar Tema Personalizado"}),u&&E.jsx("button",{className:"btn btn-danger",onClick:B,style:{marginLeft:"10px"},children:"Eliminar Tema Personalizado"})]})},i5=()=>E.jsx("div",{className:"d-flex general-container",children:E.jsxs("div",{className:"flex-grow-1 p-4",style:{color:"var(--text-color1)"},children:[E.jsx("h1",{style:{color:"var(--text-color1)"},children:"Bienvenido a Configuracin"}),E.jsx("p",{style:{color:"var(--text-color1)"},children:"Selecciona una opcin del men lateral."}),E.jsx(GE,{}),E.jsx(n5,{})]})}),r5=()=>{const[r,e]=F.useState(""),[n,s]=F.useState(""),o=eh(),[u,f]=F.useState("");F.useEffect(()=>{const y=["","",""];let T=0;const A=setInterval(()=>{f(y[T]),T=(T+1)%y.length},3e3);return()=>clearInterval(A)},[]);const{login:m}=F.useContext(gp),p=async()=>{try{const T=(await O4(mp,r,n)).user;console.log("UID del usuario autenticado:",T.uid),await(async B=>{const H=jv(wm,"usuarios",B),L=await Hv(H);L.exists()?console.log("Datos del usuario:",L.data()):console.log("Documento no encontrado para el UID:",B)})(T.uid);const I=jv(wm,"usuarios",T.uid),V=await Hv(I);if(V.exists()){const H=V.data().rol||"Estandar";m(H),o("/Home")}else alert("Usuario no encontrado en la base de datos.")}catch(y){alert("Error al iniciar sesin: "+y.message)}};return E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"titulo",children:E.jsx("h1",{children:E.jsx("strong",{children:"Kunigo Digital"})})}),E.jsxs("div",{className:"login-container",children:[E.jsxs("div",{className:"esquema",children:[E.jsx("h1",{children:u})," "]}),E.jsx("h2",{className:"subtitle",children:"Iniciar sesin"}),E.jsx("input",{type:"email",placeholder:"Email",value:r,onChange:y=>e(y.target.value),className:"login-input"}),E.jsx("input",{type:"password",placeholder:"Contrasea",value:n,onChange:y=>s(y.target.value),className:"login-input"}),E.jsx("button",{className:"login-button",onClick:p,children:E.jsx("strong",{children:"Iniciar sesin"})})]})]})},s5=()=>E.jsx("div",{className:"d-flex",children:E.jsxs("div",{className:"flex-grow-1 p-4",style:{color:"var(--text-color1)"},children:[E.jsx("h1",{style:{color:"var(--text-color1)"},children:"Bienvenido a Informes"}),E.jsx("p",{style:{color:"var(--text-color1)"},children:"Selecciona una opcin del men lateral."})]})}),a5=({stroke:r="none",fill:e="currentColor",width:n=24,height:s=24})=>E.jsxs("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:n,height:s,fill:e,viewBox:"0 0 24 24",children:[E.jsx("path",{fillRule:"evenodd",d:"M10.915 2.345a2 2 0 0 1 2.17 0l7 4.52A2 2 0 0 1 21 8.544V9.5a1.5 1.5 0 0 1-1.5 1.5H19v6h1a1 1 0 1 1 0 2H4a1 1 0 1 1 0-2h1v-6h-.5A1.5 1.5 0 0 1 3 9.5v-.955a2 2 0 0 1 .915-1.68l7-4.52ZM17 17v-6h-2v6h2Zm-6-6h2v6h-2v-6Zm-2 6v-6H7v6h2Z",clipRule:"evenodd"}),E.jsx("path",{d:"M2 21a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Z"})]}),o5=()=>E.jsxs("div",{className:"general-container",children:[E.jsxs("div",{className:"content-wrapper",children:[E.jsx("h1",{children:"Bienvenido a Instituciones"}),E.jsx("p",{children:"Selecciona una opcin del men lateral."})]}),E.jsx("div",{className:"icon-container",children:E.jsx(a5,{})})]}),l5=()=>E.jsx("div",{className:"d-flex",children:E.jsxs("div",{className:"flex-grow-1 p-4",style:{color:"var(--text-color1)"},children:[E.jsx("h1",{style:{color:"var(--text-color1)"},children:"Bienvenido a Intervenciones"}),E.jsx("p",{style:{color:"var(--text-color1)"},children:"Selecciona una opcin del men lateral."})]})}),u5=()=>E.jsx("div",{className:"d-flex general-container",children:E.jsxs("div",{className:"flex-grow-1 p-4",style:{color:"var(--text-color1)"},children:[E.jsx("h1",{style:{color:"var(--text-color1)"},children:"Bienvenido a Profesional"}),E.jsx("div",{style:{color:"var(--text-color1)"},children:E.jsx("p",{children:"Selecciona una opcin del men lateral."})}),E.jsx(Ct,{type:"correo",label:"Correo Electrnico Personalizado"}),E.jsx(Ct,{type:"nombre"}),E.jsx(Ct,{type:"telefono",label:"Telfono principal:"})," ",E.jsx(Ct,{type:"rut"}),E.jsx(Ct,{type:"fecha",level:3}),E.jsx(Ct,{})]})}),c5=()=>E.jsx("div",{className:"general-container",children:E.jsxs("div",{className:"content-wrapper",children:[E.jsx("h1",{children:"Bienvenido a Pacientes"}),E.jsxs("div",{children:[E.jsx("p",{children:"Selecciona una opcin del men lateral."}),E.jsx(Lc,{})]})]})}),h5=()=>{const[r,e]=F.useState("");return F.useEffect(()=>{const n=setInterval(()=>{e(s=>s.length<3?s+".":"")},500);return()=>clearInterval(n)},[]),E.jsx("div",{className:"loading-container",children:E.jsxs("div",{className:"loading-text",children:["Cargando",r]})})},f5=()=>{const[r,e]=F.useState(!1),[n,s]=F.useState(!0);return F.useEffect(()=>{const o=V4(mp,u=>{e(!!u),s(!1)});return()=>o()},[]),n?E.jsx("div",{className:"flex justify-center items-center h-screen",children:E.jsx(h5,{})}):r?E.jsx(_S,{}):E.jsx(T0,{to:"/login",replace:!0})},d5=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M21 12L14 5V9H3.8C3.51997 9 3.37996 9 3.273 9.0545C3.17892 9.10243 3.10243 9.17892 3.0545 9.273C3 9.37996 3 9.51997 3 9.8V14.2C3 14.48 3 14.62 3.0545 14.727C3.10243 14.8211 3.17892 14.8976 3.273 14.9455C3.37996 15 3.51997 15 3.8 15H14V19L21 12Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),m5=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M3 12L10 5V9H20.2C20.48 9 20.62 9 20.727 9.0545C20.8211 9.10243 20.8976 9.17892 20.9455 9.273C21 9.37996 21 9.51997 21 9.8V14.2C21 14.48 21 14.62 20.9455 14.727C20.8976 14.8211 20.8211 14.8976 20.727 14.9455C20.62 15 20.48 15 20.2 15H10V19L3 12Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),c0=({stroke:r="currentColor",fill:e="none",strokeWidth:n=2})=>E.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:e,xmlns:"http://www.w3.org/2000/svg",children:E.jsx("path",{d:"M3 21H21M6 18V9.99998M10 18V9.99998M14 18V9.99998M18 18V9.99998M20 6.99998L12.424 2.26498C12.2702 2.16884 12.1933 2.12077 12.1108 2.10203C12.0379 2.08546 11.9621 2.08546 11.8892 2.10203C11.8067 2.12077 11.7298 2.16884 11.576 2.26498L4 6.99998H20Z",stroke:r,strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"})}),p5=()=>{const r=eh(),e=gi(),[n,s]=F.useState(window.innerHeight>window.innerWidth),[o,u]=F.useState(!0),[f,m]=F.useState(!1),p=()=>{u(!o)},y=()=>{window.confirm("Ests seguro de que deseas cerrar sesin?")&&L4(mp).then(()=>{console.log("Sesin cerrada exitosamente"),r("/login")}).catch(A=>{console.error("Error al cerrar sesin:",A),alert("Hubo un error al cerrar sesin. Por favor, intenta nuevamente.")})};return F.useEffect(()=>{const T=()=>{const A=window.innerHeight>window.innerWidth;s(A)};return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]),n?E.jsxs("div",{className:"bottom-bar-d mastercolor",children:[E.jsx("div",{className:"bottom-bar-left-d",children:E.jsx(At,{to:"/Home",className:`menu-link-d inicio ${e.pathname==="/Home"?"active-link-d":""}`,"aria-label":"Inicio",title:"Inicio",onClick:()=>u(!0),children:E.jsx(Fd,{})})}),E.jsx("div",{className:"separator-d"}),E.jsx("div",{className:"button-tape-d",children:E.jsx("div",{className:"icon-tape-container-d",children:E.jsx("div",{className:"icon-tape-d",children:o?E.jsxs("div",{className:"parte-1-d",children:[E.jsxs(At,{to:"/Pacientes",className:`menu-link-d ${e.pathname==="/Pacientes"?"active-link-d":""}`,"aria-label":"Pacientes",title:"Pacientes",children:[E.jsx($d,{}),E.jsx("span",{className:"icon-label",children:"Pacientes"})]}),E.jsxs(At,{to:"/Intervenciones",className:`menu-link-d ${e.pathname==="/Intervenciones"?"active-link-d":""}`,"aria-label":"Intervenciones",title:"Intervenciones",children:[E.jsx(Kd,{}),E.jsx("span",{className:"icon-label",children:"Intervenciones"})]}),E.jsxs(At,{to:"/Informes",className:`menu-link-d ${e.pathname==="/Informes"?"active-link-d":""}`,"aria-label":"Informes",title:"Informes",children:[E.jsx(Gd,{}),E.jsx("span",{className:"icon-label",children:"Informes"})]}),E.jsxs(At,{to:"/Profesional",className:`menu-link-d ${e.pathname==="/Profesional"?"active-link-d":""}`,"aria-label":"Profesional",title:"Profesional",children:[E.jsx(Qd,{}),E.jsx("span",{className:"icon-label",children:"Profesional"})]})]}):E.jsxs("div",{className:"parte-2-d",children:[E.jsxs(At,{to:"/Instituciones",className:`menu-link-d ${e.pathname==="/Instituciones"?"active-link-d":""}`,"aria-label":"Instituciones",title:"Instituciones",children:[E.jsx(c0,{}),E.jsx("span",{className:"icon-label",children:"Instituciones"})]}),E.jsxs(At,{to:"/Usuarios",className:`menu-link-d ${e.pathname==="/Usuarios"?"active-link-d":""}`,"aria-label":"Usuarios",title:"Usuarios",children:[E.jsx(Xd,{}),E.jsx("span",{className:"icon-label",children:"Usuarios"})]}),E.jsxs(At,{to:"/Configuracion",className:`menu-link-d ${e.pathname==="/Configuracion"?"active-link-d":""}`,"aria-label":"Configuracin",title:"Configuracin",children:[E.jsx(qd,{}),E.jsx("span",{className:"icon-label",children:"Ajustes"})]}),E.jsxs("button",{className:"menu-link-d logout-d",onClick:y,"aria-label":"Cerrar Sesin",title:"Cerrar Sesin",children:[E.jsx(Yd,{}),E.jsx("span",{className:"icon-label",children:"Cerrar Sesin"})]})]})})})}),E.jsx("div",{className:"separator-d"}),E.jsx("div",{className:"bottom-bar-right-d",children:o?E.jsx("button",{className:"menu-link-d",onClick:p,"aria-label":"Siguiente",title:"Siguiente",children:E.jsx(d5,{})}):E.jsx("button",{className:"menu-link-d",onClick:p,"aria-label":"Anterior",title:"Anterior",children:E.jsx(m5,{})})})]}):E.jsxs("div",{className:`sidebar mastercolor ${f?"collapsed-sidebar":""}`,children:[E.jsxs("ul",{className:"sidebar-list flex-column mb-auto",children:[E.jsx("li",{className:"sidebar-item",children:E.jsxs(At,{to:"/Home",className:`sidebar-link inicio ${e.pathname==="/Home"?"active-link":""}`,"aria-label":"Inicio",title:"Inicio",children:[E.jsx(Fd,{})," ",f?"":"Inicio"]})}),E.jsx("div",{className:"separador"}),E.jsx("li",{className:"sidebar-item",children:E.jsxs(At,{to:"/Pacientes",className:`sidebar-link ${e.pathname==="/Pacientes"?"active-link":""}`,"aria-label":"Pacientes",title:"Pacientes",children:[E.jsx($d,{})," ",f?"":"Paciente"]})}),E.jsx("li",{className:"sidebar-item",children:E.jsxs(At,{to:"/Intervenciones",className:`sidebar-link ${e.pathname==="/Intervenciones"?"active-link":""}`,"aria-label":"Intervenciones",title:"Intervenciones",children:[E.jsx(Kd,{})," ",f?"":"Intervenciones"]})}),E.jsx("li",{className:"sidebar-item",children:E.jsxs(At,{to:"/Informes",className:`sidebar-link ${e.pathname==="/Informes"?"active-link":""}`,"aria-label":"Informes",title:"Informes",children:[E.jsx(Gd,{})," ",f?"":"Informes"]})}),E.jsx("li",{className:"sidebar-item",children:E.jsxs(At,{to:"/Profesional",className:`sidebar-link ${e.pathname==="/Profesional"?"active-link":""}`,"aria-label":"Profesional",title:"Profesional",children:[E.jsx(Qd,{})," ",f?"":"Profesional"]})}),E.jsx("li",{className:"sidebar-item",children:E.jsxs(At,{to:"/Instituciones",className:`sidebar-link ${e.pathname==="/Instituciones"?"active-link":""}`,"aria-label":"Instituciones",title:"Instituciones",children:[E.jsx(c0,{})," ",f?"":"Instituciones"]})})]}),E.jsxs("ul",{className:"sidebar-list flex-column mt-auto",children:[E.jsx("li",{children:E.jsx(GE,{})}),E.jsx("li",{className:"sidebar-item"}),E.jsx("li",{className:"sidebar-item",children:E.jsxs(At,{to:"/Usuarios",className:`sidebar-link ${e.pathname==="/Usuarios"?"active-link":""}`,"aria-label":"Usuarios",title:"Usuarios",children:[E.jsx(Xd,{})," ",f?"":"Usuarios"]})}),E.jsx("li",{className:"sidebar-item",children:E.jsxs(At,{to:"/Configuracion",className:`sidebar-link ${e.pathname==="/Configuracion"?"active-link":""}`,"aria-label":"Configuracin",title:"Ajustes",children:[E.jsx(qd,{})," ",f?"":"Ajustes"]})}),E.jsx("li",{className:"sidebar-item",children:E.jsxs("button",{className:"sidebar-link logout w-100 text-start",onClick:y,"aria-label":"Cerrar Sesin",title:"Cerrar Sesin",children:[E.jsx(Yd,{})," ",f?"":"Cerrar Sesin"]})}),E.jsx("div",{className:"separador"}),E.jsx("li",{className:"sidebar-item",children:E.jsx(At,{to:"#",className:"sidebar-link",onClick:()=>m(!f),"aria-label":"Contraer/Expandir Sidebar",children:f?E.jsx(D0,{}):E.jsxs(E.Fragment,{children:[E.jsx(M0,{})," Contraer"]})})})]})]})},g5={"/Home":"Inicio","/Usuarios":"Usuarios","/Configuracion":"Ajustes","/Informes":"Informes","/Instituciones":"Registro de Colegios","/Intervenciones":"Intervenciones","/Pacientes":"Datos de los Pacientes","/Profesional":"Datos del Profesional"},y5=()=>{const e=gi().pathname,n=g5[e]||"Inicio";return E.jsxs("div",{className:"app-container",children:[E.jsx("div",{className:"sidebar-container",children:E.jsx(p5,{})}),E.jsxs("div",{className:"main-content",children:[E.jsxs("header",{className:"header",children:[E.jsx("h1",{className:"title",children:E.jsx("strong",{children:n})}),E.jsx("div",{className:"subrayado"})]}),E.jsx("div",{className:"content",children:E.jsxs(S0,{children:[E.jsx(gn,{path:"/home",element:E.jsx(eb,{})}),E.jsx(gn,{path:"/usuarios",element:E.jsx(t5,{})}),E.jsx(gn,{path:"/configuracion",element:E.jsx(i5,{})}),E.jsx(gn,{path:"/informes",element:E.jsx(s5,{})}),E.jsx(gn,{path:"/instituciones",element:E.jsx(o5,{})}),E.jsx(gn,{path:"/intervenciones",element:E.jsx(l5,{})}),E.jsx(gn,{path:"/pacientes",element:E.jsx(c5,{})}),E.jsx(gn,{path:"/profesional",element:E.jsx(u5,{})}),E.jsx(gn,{path:"*",element:E.jsx(T0,{to:"/home",replace:!0})})]})})]})]})},_5=()=>E.jsxs(S0,{children:[E.jsx(gn,{path:"/login",element:E.jsx(r5,{})}),E.jsx(gn,{element:E.jsx(f5,{}),children:E.jsx(gn,{path:"/*",element:E.jsx(y5,{})})})]});document.documentElement.setAttribute("data-theme","menta-claro");R2.createRoot(document.getElementById("root")).render(E.jsx(v2.StrictMode,{children:E.jsxs(XI,{children:[" ",E.jsxs(e5,{children:[" ",E.jsx(qS,{children:E.jsx(_5,{})})]})]})}));
